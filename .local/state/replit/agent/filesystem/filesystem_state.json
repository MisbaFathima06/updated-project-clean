{"file_contents":{"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# SpeakSecure - Privacy-First Complaint Platform\n\n## Overview\n\nSpeakSecure is a privacy-first anonymous complaint platform designed to help vulnerable populations report sensitive issues like harassment, abuse, discrimination, and corruption without fear of retaliation. The platform uses zero-knowledge cryptography to ensure complete anonymity while maintaining data integrity and enabling verification of complaint authenticity. It serves victims across various contexts including corporate environments, educational institutions, hostels, and community settings.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **Framework**: React with TypeScript using Vite for fast development and optimized production builds\n- **UI Components**: Shadcn/ui component library built on Radix UI primitives providing accessible and customizable components\n- **Styling**: Tailwind CSS with custom design tokens supporting dark/light themes and responsive design\n- **State Management**: TanStack Query (React Query) for server state caching and synchronization, with Zustand for client-side state management\n- **Routing**: Wouter for lightweight client-side routing without the overhead of React Router\n- **Form Handling**: React Hook Form with Zod validation schemas ensuring type-safe form processing and validation\n- **Internationalization**: Custom i18n system supporting multiple languages including English, Hindi, Tamil, Kannada, and Urdu for accessibility across diverse populations\n\n### Backend Architecture\n- **Runtime**: Node.js with Express.js framework providing RESTful API endpoints for all platform operations\n- **Database**: PostgreSQL with Neon serverless hosting for scalable and reliable data persistence\n- **ORM**: Drizzle ORM enabling type-safe database queries, migrations, and schema management\n- **Session Management**: Express sessions with PostgreSQL store for persistent user authentication and session handling\n- **Build System**: ESBuild for fast server compilation and efficient bundling of production assets\n\n### Zero-Knowledge Privacy System\n- **Identity Generation**: Implementation of Semaphore protocol for anonymous user identities using cryptographic commitment schemes\n- **Proof System**: Zero-Knowledge Succinct Non-Interactive Arguments of Knowledge (ZK-SNARKs) enabling anonymous complaint submission and upvoting without revealing user identity\n- **Nullifier Hashes**: Prevention of duplicate submissions and multiple upvotes from the same user while maintaining complete anonymity\n- **Group Membership**: Merkle tree-based proofs validating user membership in the platform without exposing personal information\n- **Anonymous Actions**: Complete anonymity for all user interactions including complaint submission, upvoting, and platform engagement\n\n### Data Security and Encryption\n- **Client-Side Encryption**: AES-256-GCM encryption of all complaint content before transmission using browser-native crypto APIs\n- **Key Management**: Secure key generation and selective decryption capabilities for authorized NGOs and platform administrators\n- **End-to-End Protection**: Complete data protection pipeline from browser to storage ensuring zero server-side access to plaintext content\n- **Decentralized Storage**: IPFS integration for immutable and tamper-proof storage of encrypted complaint data\n- **Blockchain Verification**: Transaction hash logging on blockchain networks for immutable audit trails and data integrity verification\n\n### Emergency Response System\n- **Instant Alerts**: Real-time emergency notification system for urgent and life-threatening situations\n- **SMS Integration**: MSG91 API integration for emergency SMS alerts to trusted contacts and authorities\n- **Location Services**: Optional GPS coordinate inclusion for emergency situations requiring immediate intervention\n- **Prioritization**: Automatic escalation protocols for emergency complaints routed to appropriate response teams\n- **Multi-Channel Notifications**: WebSocket-based real-time notifications for immediate response coordination\n\n### Multi-Language Support\n- **Internationalization**: Comprehensive i18n system supporting English, Hindi, Tamil, Kannada, and Urdu languages\n- **Dynamic Translation**: Runtime language switching without page reloads for seamless user experience\n- **Cultural Adaptation**: Culturally appropriate messaging and terminology for different regional contexts\n- **Voice Recognition**: Multi-language speech-to-text capabilities for users who prefer voice input over typing\n\n## External Dependencies\n\n### Database and Storage\n- **Neon PostgreSQL**: Serverless PostgreSQL hosting for scalable data persistence and management\n- **IPFS (InterPlanetary File System)**: Decentralized storage network for immutable complaint data storage\n- **Drizzle ORM**: Type-safe database operations with PostgreSQL dialect support\n\n### Cryptographic and Blockchain Services\n- **Polygon Network**: Blockchain network for transaction logging and immutable audit trails\n- **Browser Crypto APIs**: Native browser cryptographic functions for client-side encryption and key generation\n- **Semaphore Protocol**: Zero-knowledge identity and proof generation framework\n\n### Communication Services\n- **MSG91**: SMS gateway service for emergency alert notifications and communication\n- **WebSocket**: Real-time bidirectional communication for instant notifications and updates\n- **Nodemailer**: Email service integration for administrative notifications and alerts\n\n### Development and Infrastructure\n- **Vite**: Frontend build tool with hot module replacement for development and optimized production builds\n- **ESBuild**: Fast JavaScript bundler for server-side code compilation\n- **Replit**: Development environment with integrated deployment and hosting capabilities\n- **TanStack Query**: Powerful data synchronization library for server state management\n\n### UI and Experience\n- **Radix UI**: Unstyled, accessible UI primitives for building custom component library\n- **Tailwind CSS**: Utility-first CSS framework for rapid and consistent styling\n- **Lucide React**: Icon library providing consistent and accessible iconography\n- **React Hook Form**: Performant form library with built-in validation support","size_bytes":6311},"setup-services.js":{"content":"\nconst fs = require('fs');\nconst path = require('path');\n\nconsole.log('üîß SpeakSecure Service Configuration Helper\\n');\n\nconst envPath = path.join(__dirname, '.env');\nlet envContent = fs.readFileSync(envPath, 'utf8');\n\nconsole.log('üìã Current service status:');\nconsole.log('IPFS: Needs Infura project credentials');\nconsole.log('Blockchain: Using public RPC (may be slower)\\n');\n\nconsole.log('üõ†Ô∏è  To fix these issues:\\n');\n\nconsole.log('1Ô∏è‚É£  IPFS Setup (Free):');\nconsole.log('   ‚Ä¢ Go to https://infura.io/register');\nconsole.log('   ‚Ä¢ Create a free account');\nconsole.log('   ‚Ä¢ Create a new IPFS project');\nconsole.log('   ‚Ä¢ Copy your Project ID and Project Secret');\nconsole.log('   ‚Ä¢ Update .env file with your credentials\\n');\n\nconsole.log('2Ô∏è‚É£  Blockchain Setup (Optional):');\nconsole.log('   ‚Ä¢ For better performance, get an Infura Ethereum/Polygon API key');\nconsole.log('   ‚Ä¢ Or use the current public RPC (slower but functional)\\n');\n\nconsole.log('‚úÖ Your application is working with fallback modes!');\nconsole.log('   ‚Ä¢ All core features are functional');\nconsole.log('   ‚Ä¢ Data is stored locally and hashed properly');\nconsole.log('   ‚Ä¢ Only external storage is simulated\\n');\n\n// Check if credentials are placeholder values\nconst hasRealIPFSCredentials = envContent.includes('IPFS_PROJECT_ID=') && \n  !envContent.includes('your_infura_project_id_here');\n\nif (!hasRealIPFSCredentials) {\n  console.log('‚ö†Ô∏è  Please update your IPFS credentials in .env file');\n  console.log('   Replace \"your_infura_project_id_here\" with your actual Infura project ID');\n}\n\nconsole.log('\\nüöÄ Ready to use! Your application is fully functional.');\n","size_bytes":1684},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar-background)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2766},"vite.config.ts":{"content":"\nimport { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\nimport { resolve } from 'path';\nimport { fileURLToPath, URL } from 'node:url';\n\nexport default defineConfig({\n  plugins: [react()],\n  resolve: {\n    alias: {\n      '@': resolve(fileURLToPath(new URL('.', import.meta.url)), './client/src'),\n    },\n  },\n  define: {\n    global: 'globalThis',\n    'process.env': {},\n    'process': JSON.stringify({\n      env: {},\n      browser: true\n    })\n  },\n  server: {\n    host: '0.0.0.0',\n    port: 5173,\n    strictPort: true,\n    hmr: {\n      port: 5173,\n    },\n  },\n  root: 'client',\n  build: {\n    outDir: '../dist/public',\n    emptyOutDir: true,\n  },\n});\n","size_bytes":675},"attached_assets/App_1754630879482.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { ThemeProvider } from \"./providers/theme-provider\";\nimport { ZkIdentityProvider } from \"./components/zk-identity-provider\";\nimport Home from \"@/pages/home\";\nimport Report from \"@/pages/report\";\nimport Status from \"@/pages/status\";\nimport Community from \"@/pages/community\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route path=\"/report\" component={Report} />\n      <Route path=\"/status\" component={Status} />\n      <Route path=\"/community\" component={Community} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider defaultTheme=\"system\" storageKey=\"speaksecure-theme\">\n        <ZkIdentityProvider>\n          <TooltipProvider>\n            <Toaster />\n            <Router />\n          </TooltipProvider>\n        </ZkIdentityProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":1277},"attached_assets/analytics_1754630830169.ts":{"content":"import { storage } from '../storage';\n\nexport interface AnalyticsData {\n  eventType: string;\n  category?: string;\n  metadata?: Record<string, any>;\n}\n\nexport interface AnalyticsSummary {\n  totalComplaints: number;\n  totalUpvotes: number;\n  totalEmergencyAlerts: number;\n  categoriesBreakdown: Record<string, number>;\n  statusBreakdown: Record<string, number>;\n  timeSeriesData: Array<{ date: string; count: number }>;\n}\n\nexport class AnalyticsService {\n  async recordEvent(eventType: string, data: Record<string, any> = {}): Promise<void> {\n    try {\n      await storage.recordAnalytics({\n        eventType,\n        category: data.category,\n        metadata: data\n      });\n      \n      console.log(`Analytics recorded: ${eventType}`, data);\n    } catch (error) {\n      console.error('Analytics recording failed:', error);\n    }\n  }\n\n  async getSummary(days = 30): Promise<AnalyticsSummary> {\n    try {\n      const analytics = await storage.getAnalytics(undefined, days);\n      \n      // Calculate summary statistics\n      const summary: AnalyticsSummary = {\n        totalComplaints: 0,\n        totalUpvotes: 0,\n        totalEmergencyAlerts: 0,\n        categoriesBreakdown: {},\n        statusBreakdown: {},\n        timeSeriesData: []\n      };\n\n      // Process analytics data\n      analytics.forEach(record => {\n        switch (record.eventType) {\n          case 'complaint_submitted':\n            summary.totalComplaints++;\n            if (record.metadata?.category) {\n              summary.categoriesBreakdown[record.metadata.category] = \n                (summary.categoriesBreakdown[record.metadata.category] || 0) + 1;\n            }\n            break;\n          \n          case 'complaint_upvoted':\n            summary.totalUpvotes++;\n            break;\n          \n          case 'emergency_alert_sent':\n            summary.totalEmergencyAlerts++;\n            break;\n        }\n      });\n\n      // Generate time series data\n      summary.timeSeriesData = await this.generateTimeSeriesData(days);\n\n      return summary;\n    } catch (error) {\n      console.error('Analytics summary failed:', error);\n      throw new Error('Failed to generate analytics summary');\n    }\n  }\n\n  async getEventCounts(eventType: string, days = 30): Promise<number> {\n    try {\n      const analytics = await storage.getAnalytics(eventType, days);\n      return analytics.length;\n    } catch (error) {\n      console.error('Event count retrieval failed:', error);\n      return 0;\n    }\n  }\n\n  async getCategoryBreakdown(days = 30): Promise<Record<string, number>> {\n    try {\n      const analytics = await storage.getAnalytics('complaint_submitted', days);\n      const breakdown: Record<string, number> = {};\n      \n      analytics.forEach(record => {\n        if (record.metadata?.category) {\n          breakdown[record.metadata.category] = \n            (breakdown[record.metadata.category] || 0) + 1;\n        }\n      });\n      \n      return breakdown;\n    } catch (error) {\n      console.error('Category breakdown failed:', error);\n      return {};\n    }\n  }\n\n  async getHourlyStats(days = 7): Promise<Array<{ hour: number; count: number }>> {\n    try {\n      const analytics = await storage.getAnalytics(undefined, days);\n      const hourlyStats = Array.from({ length: 24 }, (_, hour) => ({ hour, count: 0 }));\n      \n      analytics.forEach(record => {\n        const hour = new Date(record.createdAt!).getHours();\n        hourlyStats[hour].count++;\n      });\n      \n      return hourlyStats;\n    } catch (error) {\n      console.error('Hourly stats failed:', error);\n      return [];\n    }\n  }\n\n  async getPopularTags(limit = 10): Promise<Array<{ tag: string; count: number }>> {\n    try {\n      // This would need to be implemented with proper tag extraction from complaints\n      // For now, return mock data\n      return [\n        { tag: 'harassment', count: 45 },\n        { tag: 'discrimination', count: 32 },\n        { tag: 'workplace', count: 28 },\n        { tag: 'abuse', count: 23 },\n        { tag: 'corruption', count: 19 }\n      ].slice(0, limit);\n    } catch (error) {\n      console.error('Popular tags retrieval failed:', error);\n      return [];\n    }\n  }\n\n  private async generateTimeSeriesData(days: number): Promise<Array<{ date: string; count: number }>> {\n    const timeSeriesData = [];\n    const now = new Date();\n    \n    for (let i = days - 1; i >= 0; i--) {\n      const date = new Date(now);\n      date.setDate(date.getDate() - i);\n      const dateString = date.toISOString().split('T')[0];\n      \n      // Get events for this date\n      const dayStart = new Date(date);\n      dayStart.setHours(0, 0, 0, 0);\n      const dayEnd = new Date(date);\n      dayEnd.setHours(23, 59, 59, 999);\n      \n      // In a real implementation, this would filter by date\n      const count = Math.floor(Math.random() * 10); // Mock data\n      \n      timeSeriesData.push({\n        date: dateString,\n        count\n      });\n    }\n    \n    return timeSeriesData;\n  }\n\n  async generateReport(days = 30): Promise<any> {\n    try {\n      const summary = await this.getSummary(days);\n      const categoryBreakdown = await this.getCategoryBreakdown(days);\n      const hourlyStats = await this.getHourlyStats(days);\n      const popularTags = await this.getPopularTags();\n      \n      return {\n        period: `${days} days`,\n        generatedAt: new Date().toISOString(),\n        summary,\n        categoryBreakdown,\n        hourlyStats,\n        popularTags\n      };\n    } catch (error) {\n      console.error('Report generation failed:', error);\n      throw new Error('Failed to generate analytics report');\n    }\n  }\n}\n","size_bytes":5590},"attached_assets/blockchain_1754630830170.ts":{"content":"export class BlockchainService {\n  private rpcUrl = process.env.BLOCKCHAIN_RPC_URL || 'http://localhost:8545';\n  private contractAddress = process.env.CONTRACT_ADDRESS || '0x...';\n\n  async logComplaint(complaintId: string, ipfsHash: string): Promise<string> {\n    try {\n      // In a real implementation, this would use Web3.js or ethers.js\n      // to interact with a smart contract\n      const transactionHash = await this.submitTransaction({\n        type: 'complaint',\n        complaintId,\n        ipfsHash,\n        timestamp: Date.now()\n      });\n\n      console.log(`Complaint logged to blockchain: ${transactionHash}`);\n      return transactionHash;\n    } catch (error) {\n      console.error('Blockchain logging failed:', error);\n      throw new Error('Failed to log complaint to blockchain');\n    }\n  }\n\n  async logUpvote(complaintId: string, nullifierHash: string): Promise<string> {\n    try {\n      const transactionHash = await this.submitTransaction({\n        type: 'upvote',\n        complaintId,\n        nullifierHash,\n        timestamp: Date.now()\n      });\n\n      console.log(`Upvote logged to blockchain: ${transactionHash}`);\n      return transactionHash;\n    } catch (error) {\n      console.error('Blockchain upvote logging failed:', error);\n      throw new Error('Failed to log upvote to blockchain');\n    }\n  }\n\n  async verifyTransaction(txHash: string): Promise<boolean> {\n    try {\n      // Verify transaction exists on blockchain\n      const transaction = await this.getTransaction(txHash);\n      return !!transaction && transaction.status === 'confirmed';\n    } catch (error) {\n      console.error('Transaction verification failed:', error);\n      return false;\n    }\n  }\n\n  async getTransactionDetails(txHash: string): Promise<any> {\n    try {\n      return await this.getTransaction(txHash);\n    } catch (error) {\n      console.error('Failed to get transaction details:', error);\n      return null;\n    }\n  }\n\n  private async submitTransaction(data: any): Promise<string> {\n    // Simulate blockchain transaction\n    // In production, this would use actual Web3 provider\n    const crypto = require('crypto');\n    const hash = crypto.randomBytes(32).toString('hex');\n    const txHash = `0x${hash}`;\n    \n    // Simulate transaction confirmation delay\n    setTimeout(() => {\n      console.log(`Transaction confirmed: ${txHash}`);\n    }, 2000);\n    \n    return txHash;\n  }\n\n  private async getTransaction(txHash: string): Promise<any> {\n    // Simulate blockchain transaction lookup\n    return {\n      hash: txHash,\n      status: 'confirmed',\n      blockNumber: Math.floor(Math.random() * 1000000),\n      gasUsed: Math.floor(Math.random() * 100000),\n      timestamp: Date.now()\n    };\n  }\n\n  async getBlockNumber(): Promise<number> {\n    try {\n      // Get current block number\n      return Math.floor(Math.random() * 1000000);\n    } catch (error) {\n      console.error('Failed to get block number:', error);\n      return 0;\n    }\n  }\n\n  async getGasPrice(): Promise<string> {\n    try {\n      // Get current gas price\n      return (Math.random() * 100).toFixed(2);\n    } catch (error) {\n      console.error('Failed to get gas price:', error);\n      return '0';\n    }\n  }\n}\n","size_bytes":3193},"attached_assets/db_1754630720612.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });","size_bytes":482},"attached_assets/drizzle.config_1754630683844.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"attached_assets/emergency_1754630830171.ts":{"content":"import { NotificationService } from './notifications';\n\nexport interface EmergencyAlert {\n  alertId?: string;\n  complaintId?: string;\n  contact: string;\n  location?: { lat: number; lng: number };\n  description?: string;\n}\n\nexport class EmergencyService {\n  private notificationService = new NotificationService();\n\n  async sendAlert(alert: EmergencyAlert): Promise<boolean> {\n    try {\n      console.log('üö® Sending emergency alert:', alert);\n\n      // Send SMS/Email notification\n      await this.sendSMSAlert(alert);\n      \n      // Notify emergency responders\n      await this.notifyResponders(alert);\n      \n      // Log emergency event\n      await this.logEmergency(alert);\n\n      return true;\n    } catch (error) {\n      console.error('Emergency alert failed:', error);\n      return false;\n    }\n  }\n\n  private async sendSMSAlert(alert: EmergencyAlert): Promise<void> {\n    try {\n      const message = this.buildEmergencyMessage(alert);\n      \n      // In production, integrate with SMS service (Twilio, AWS SNS, etc.)\n      console.log(`SMS Alert to ${alert.contact}: ${message}`);\n      \n      // Simulate SMS sending delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n    } catch (error) {\n      console.error('SMS alert failed:', error);\n      throw error;\n    }\n  }\n\n  private async notifyResponders(alert: EmergencyAlert): Promise<void> {\n    try {\n      // Notify relevant emergency responders based on location\n      const responders = await this.getEmergencyResponders(alert.location);\n      \n      for (const responder of responders) {\n        await this.notificationService.sendNotification(responder, {\n          type: 'emergency',\n          message: 'New emergency alert received',\n          data: {\n            alertId: alert.alertId,\n            location: alert.location,\n            timestamp: new Date().toISOString()\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Responder notification failed:', error);\n    }\n  }\n\n  private async logEmergency(alert: EmergencyAlert): Promise<void> {\n    try {\n      // Log emergency for audit trail\n      console.log('Emergency logged:', {\n        alertId: alert.alertId,\n        timestamp: new Date().toISOString(),\n        hasLocation: !!alert.location\n      });\n    } catch (error) {\n      console.error('Emergency logging failed:', error);\n    }\n  }\n\n  private buildEmergencyMessage(alert: EmergencyAlert): string {\n    let message = \"üö® EMERGENCY ALERT - SpeakSecure Platform\\n\\n\";\n    \n    if (alert.description) {\n      message += `Alert: ${alert.description}\\n`;\n    }\n    \n    if (alert.location) {\n      message += `Location: ${alert.location.lat}, ${alert.location.lng}\\n`;\n      message += `Map: https://maps.google.com/?q=${alert.location.lat},${alert.location.lng}\\n`;\n    }\n    \n    message += `Time: ${new Date().toLocaleString()}\\n`;\n    message += `Reference: ${alert.alertId || alert.complaintId || 'N/A'}\\n\\n`;\n    message += \"This is an automated alert from SpeakSecure. Please respond immediately if you are an emergency contact.\";\n    \n    return message;\n  }\n\n  private async getEmergencyResponders(location?: { lat: number; lng: number }): Promise<string[]> {\n    // In production, this would query a database of emergency responders\n    // filtered by location/jurisdiction\n    const responders = [\n      process.env.EMERGENCY_RESPONDER_1 || 'responder1@emergency.local',\n      process.env.EMERGENCY_RESPONDER_2 || 'responder2@emergency.local'\n    ];\n    \n    return responders.filter(responder => responder.includes('@'));\n  }\n\n  async getEmergencyContacts(): Promise<string[]> {\n    // Return list of configured emergency contacts\n    return [\n      process.env.EMERGENCY_CONTACT_POLICE || '+911',\n      process.env.EMERGENCY_CONTACT_MEDICAL || '+911',\n      process.env.EMERGENCY_CONTACT_FIRE || '+911'\n    ];\n  }\n\n  async testEmergencySystem(): Promise<{ status: string; services: any }> {\n    try {\n      const testAlert: EmergencyAlert = {\n        alertId: 'TEST-' + Date.now(),\n        contact: process.env.TEST_EMERGENCY_CONTACT || '+1234567890',\n        description: 'Emergency system test'\n      };\n\n      // Test SMS service\n      const smsTest = await this.testSMS(testAlert.contact);\n      \n      // Test responder notification\n      const responderTest = await this.testResponderNotification();\n\n      return {\n        status: smsTest && responderTest ? 'OK' : 'PARTIAL',\n        services: {\n          sms: smsTest ? 'OK' : 'ERROR',\n          responders: responderTest ? 'OK' : 'ERROR'\n        }\n      };\n    } catch (error) {\n      return {\n        status: 'ERROR',\n        services: {\n          sms: 'ERROR',\n          responders: 'ERROR'\n        }\n      };\n    }\n  }\n\n  private async testSMS(contact: string): Promise<boolean> {\n    try {\n      console.log(`Testing SMS to ${contact}`);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  private async testResponderNotification(): Promise<boolean> {\n    try {\n      const responders = await this.getEmergencyResponders();\n      console.log(`Testing responder notification to ${responders.length} responders`);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n}\n","size_bytes":5208},"attached_assets/encryption_1754630830172.ts":{"content":"import crypto from 'crypto';\n\nexport interface EncryptedData {\n  encryptedData: string;\n  key: string;\n  iv: string;\n}\n\nexport class EncryptionService {\n  private algorithm = 'aes-256-cbc';\n\n  async encrypt(data: string): Promise<EncryptedData> {\n    try {\n      // Generate random key and IV\n      const key = crypto.randomBytes(32);\n      const iv = crypto.randomBytes(16);\n      \n      // Create cipher\n      const cipher = crypto.createCipher(this.algorithm, key);\n      cipher.setAutoPadding(true);\n      \n      // Encrypt data\n      let encryptedData = cipher.update(data, 'utf8', 'hex');\n      encryptedData += cipher.final('hex');\n      \n      return {\n        encryptedData,\n        key: key.toString('hex'),\n        iv: iv.toString('hex')\n      };\n    } catch (error) {\n      console.error('Encryption failed:', error);\n      throw new Error('Failed to encrypt data');\n    }\n  }\n\n  async decrypt(encryptedData: string, keyHex: string, ivHex: string): Promise<string> {\n    try {\n      const key = Buffer.from(keyHex, 'hex');\n      const iv = Buffer.from(ivHex, 'hex');\n      \n      // Create decipher\n      const decipher = crypto.createDecipher(this.algorithm, key);\n      decipher.setAutoPadding(true);\n      \n      // Decrypt data\n      let decryptedData = decipher.update(encryptedData, 'hex', 'utf8');\n      decryptedData += decipher.final('utf8');\n      \n      return decryptedData;\n    } catch (error) {\n      console.error('Decryption failed:', error);\n      throw new Error('Failed to decrypt data');\n    }\n  }\n\n  generateKey(): string {\n    return crypto.randomBytes(32).toString('hex');\n  }\n\n  async hashData(data: string): Promise<string> {\n    const hash = crypto.createHash('sha256');\n    hash.update(data);\n    return hash.digest('hex');\n  }\n\n  async verifyHash(data: string, hash: string): Promise<boolean> {\n    const computedHash = await this.hashData(data);\n    return computedHash === hash;\n  }\n}\n","size_bytes":1927},"attached_assets/encryption_1754630890843.ts":{"content":"export class ClientEncryption {\n  private static async generateKey(): Promise<CryptoKey> {\n    return await crypto.subtle.generateKey(\n      {\n        name: \"AES-GCM\",\n        length: 256,\n      },\n      true,\n      [\"encrypt\", \"decrypt\"]\n    );\n  }\n\n  private static async exportKey(key: CryptoKey): Promise<string> {\n    const exported = await crypto.subtle.exportKey(\"raw\", key);\n    return btoa(String.fromCharCode(...new Uint8Array(exported)));\n  }\n\n  private static async importKey(keyData: string): Promise<CryptoKey> {\n    const raw = new Uint8Array(atob(keyData).split('').map(c => c.charCodeAt(0)));\n    return await crypto.subtle.importKey(\n      \"raw\",\n      raw,\n      { name: \"AES-GCM\" },\n      false,\n      [\"encrypt\", \"decrypt\"]\n    );\n  }\n\n  static async encrypt(data: string): Promise<{ encryptedData: string; key: string; iv: string }> {\n    const key = await this.generateKey();\n    const iv = crypto.getRandomValues(new Uint8Array(12));\n    \n    const encodedData = new TextEncoder().encode(data);\n    \n    const encrypted = await crypto.subtle.encrypt(\n      {\n        name: \"AES-GCM\",\n        iv: iv,\n      },\n      key,\n      encodedData\n    );\n    \n    return {\n      encryptedData: btoa(String.fromCharCode(...new Uint8Array(encrypted))),\n      key: await this.exportKey(key),\n      iv: btoa(String.fromCharCode(...iv))\n    };\n  }\n\n  static async decrypt(encryptedData: string, keyData: string, ivData: string): Promise<string> {\n    const key = await this.importKey(keyData);\n    const iv = new Uint8Array(atob(ivData).split('').map(c => c.charCodeAt(0)));\n    const encrypted = new Uint8Array(atob(encryptedData).split('').map(c => c.charCodeAt(0)));\n    \n    const decrypted = await crypto.subtle.decrypt(\n      {\n        name: \"AES-GCM\",\n        iv: iv,\n      },\n      key,\n      encrypted\n    );\n    \n    return new TextDecoder().decode(decrypted);\n  }\n\n  static generateRandomId(): string {\n    const array = new Uint8Array(16);\n    crypto.getRandomValues(array);\n    return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');\n  }\n}\n","size_bytes":2085},"attached_assets/index_1754630720612.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"‚Ä¶\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2066},"attached_assets/index_1754630879483.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --background: hsl(0 0% 100%);\n  --foreground: hsl(222.2 84% 4.9%);\n  --card: hsl(0 0% 100%);\n  --card-foreground: hsl(222.2 84% 4.9%);\n  --popover: hsl(0 0% 100%);\n  --popover-foreground: hsl(222.2 84% 4.9%);\n  --primary: hsl(203.9 88.3% 53.1%);\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(210 40% 96%);\n  --secondary-foreground: hsl(222.2 84% 4.9%);\n  --muted: hsl(210 40% 96%);\n  --muted-foreground: hsl(215.4 16.3% 46.9%);\n  --accent: hsl(210 40% 96%);\n  --accent-foreground: hsl(222.2 84% 4.9%);\n  --destructive: hsl(0 84.2% 60.2%);\n  --destructive-foreground: hsl(210 40% 98%);\n  --border: hsl(214.3 31.8% 91.4%);\n  --input: hsl(214.3 31.8% 91.4%);\n  --ring: hsl(203.9 88.3% 53.1%);\n  --chart-1: hsl(203.9 88.3% 53.1%);\n  --chart-2: hsl(160 84% 39%);\n  --chart-3: hsl(42 87% 55%);\n  --chart-4: hsl(147 64% 9%);\n  --chart-5: hsl(340 75% 55%);\n  --sidebar: hsl(0 0% 100%);\n  --sidebar-foreground: hsl(222.2 84% 4.9%);\n  --sidebar-primary: hsl(203.9 88.3% 53.1%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(210 40% 96%);\n  --sidebar-accent-foreground: hsl(222.2 84% 4.9%);\n  --sidebar-border: hsl(214.3 31.8% 91.4%);\n  --sidebar-ring: hsl(203.9 88.3% 53.1%);\n  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: 'Fira Code', monospace;\n  --radius: 0.75rem;\n  --success: hsl(142.1 76.2% 36.3%);\n  --success-foreground: hsl(355.7 100% 97.3%);\n  --warning: hsl(42.9 87.8% 55.9%);\n  --warning-foreground: hsl(26 83.3% 14.1%);\n  --danger: hsl(0 84.2% 60.2%);\n  --danger-foreground: hsl(210 40% 98%);\n}\n\n.dark {\n  --background: hsl(222.2 84% 4.9%);\n  --foreground: hsl(210 40% 98%);\n  --card: hsl(222.2 84% 4.9%);\n  --card-foreground: hsl(210 40% 98%);\n  --popover: hsl(222.2 84% 4.9%);\n  --popover-foreground: hsl(210 40% 98%);\n  --primary: hsl(203.9 88.3% 53.1%);\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(217.2 32.6% 17.5%);\n  --secondary-foreground: hsl(210 40% 98%);\n  --muted: hsl(217.2 32.6% 17.5%);\n  --muted-foreground: hsl(215 20.2% 65.1%);\n  --accent: hsl(217.2 32.6% 17.5%);\n  --accent-foreground: hsl(210 40% 98%);\n  --destructive: hsl(0 62.8% 30.6%);\n  --destructive-foreground: hsl(210 40% 98%);\n  --border: hsl(217.2 32.6% 17.5%);\n  --input: hsl(217.2 32.6% 17.5%);\n  --ring: hsl(203.9 88.3% 53.1%);\n  --chart-1: hsl(203.9 88.3% 53.1%);\n  --chart-2: hsl(160 84% 39%);\n  --chart-3: hsl(42 87% 55%);\n  --chart-4: hsl(147 64% 9%);\n  --chart-5: hsl(340 75% 55%);\n  --sidebar: hsl(222.2 84% 4.9%);\n  --sidebar-foreground: hsl(210 40% 98%);\n  --sidebar-primary: hsl(203.9 88.3% 53.1%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(217.2 32.6% 17.5%);\n  --sidebar-accent-foreground: hsl(210 40% 98%);\n  --sidebar-border: hsl(217.2 32.6% 17.5%);\n  --sidebar-ring: hsl(203.9 88.3% 53.1%);\n  --success: hsl(142.1 76.2% 36.3%);\n  --success-foreground: hsl(355.7 100% 97.3%);\n  --warning: hsl(42.9 87.8% 55.9%);\n  --warning-foreground: hsl(26 83.3% 14.1%);\n  --danger: hsl(0 84.2% 60.2%);\n  --danger-foreground: hsl(210 40% 98%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply bg-background text-foreground font-sans antialiased;\n    font-family: var(--font-sans);\n  }\n\n  .hand-bg {\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iMCAwIDYwMCA2MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMDAgNTAwQzMwMCA1MDAgMjAwIDQyMCAxNTAgMzUwQzEyMCAyOTAgMTIwIDI0MCA5MCA0MEM4MCAzMCA5MCAyMCAxMjAgMTBDMTcwIDEwIDIyMCAxNSAzMDAgMTVDMzgwIDE1IDQzMCAxMCA0ODAgMTBDNTEwIDIwIDUyMCAzMCA1MTAgNDBDNDgwIDI0MCA0ODAgMjkwIDQ1MCAzNTBDNDAwIDQyMCAzMDAgNTAwIDMwMCA1MDBaIiBmaWxsPSIjZjlmYWZiIiBmaWxsLW9wYWNpdHk9IjAuMDMiIHN0cm9rZT0iI2U1ZTdlYiIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2Utb3BhY2l0eT0iMC4xIi8+Cjwvc3ZnPgo=');\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 800px 800px;\n    background-attachment: fixed;\n  }\n\n  .dark .hand-bg {\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iMCAwIDYwMCA2MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMDAgNTAwQzMwMCA1MDAgMjAwIDQyMCAxNTAgMzUwQzEyMCAyOTAgMTIwIDI0MCA5MCA0MEM4MCAzMCA5MCAyMCAxMjAgMTBDMTcwIDEwIDIyMCAxNSAzMDAgMTVDMzgwIDE1IDQzMCAxMCA0ODAgMTBDNTEwIDIwIDUyMCAzMCA1MTAgNDBDNDgwIDI0MCA0ODAgMjkwIDQ1MCAzNTBDNDAwIDQyMCAzMDAgNTAwIDMwMCA1MDBaIiBmaWxsPSIjMWYyOTM3IiBmaWxsLW9wYWNpdHk9IjAuMDMiIHN0cm9rZT0iIzM3NDE1MSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2Utb3BhY2l0eT0iMC4xIi8+Cjwvc3ZnPgo=');\n  }\n\n  .glass-effect {\n    background: rgba(255, 255, 255, 0.1);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n  }\n\n  .dark .glass-effect {\n    background: rgba(31, 41, 55, 0.3);\n    border: 1px solid rgba(75, 85, 99, 0.3);\n  }\n\n  .gradient-bg {\n    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);\n  }\n\n  .dark .gradient-bg {\n    background: linear-gradient(135deg, #111827 0%, #1f2937 100%);\n  }\n\n  .line-clamp-3 {\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n}\n\n@layer components {\n  .animate-fade-in {\n    animation: fadeIn 0.5s ease-in-out;\n  }\n\n  .animate-slide-up {\n    animation: slideUp 0.3s ease-out;\n  }\n\n  .animate-pulse-glow {\n    animation: pulseGlow 2s infinite;\n  }\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slideUp {\n    from {\n      transform: translateY(100%);\n    }\n    to {\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes pulseGlow {\n    0%, 100% {\n      box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);\n    }\n    50% {\n      box-shadow: 0 0 30px rgba(239, 68, 68, 0.6);\n    }\n  }\n}\n","size_bytes":6013},"attached_assets/ipfs_1754630830172.ts":{"content":"export class IPFSService {\n  private baseUrl = process.env.IPFS_API_URL || 'http://localhost:5001';\n\n  async store(data: string): Promise<string> {\n    try {\n      // In a real implementation, this would use IPFS HTTP client\n      // For now, we'll simulate IPFS storage with a hash\n      const hash = await this.generateIPFSHash(data);\n      \n      // Store data in our simulated IPFS storage\n      await this.storeInIPFS(hash, data);\n      \n      console.log(`Data stored in IPFS with hash: ${hash}`);\n      return hash;\n    } catch (error) {\n      console.error('IPFS storage failed:', error);\n      throw new Error('Failed to store data in IPFS');\n    }\n  }\n\n  async retrieve(hash: string): Promise<string> {\n    try {\n      // In a real implementation, this would fetch from IPFS\n      const data = await this.retrieveFromIPFS(hash);\n      \n      if (!data) {\n        throw new Error('Data not found in IPFS');\n      }\n      \n      return data;\n    } catch (error) {\n      console.error('IPFS retrieval failed:', error);\n      throw new Error('Failed to retrieve data from IPFS');\n    }\n  }\n\n  async pin(hash: string): Promise<boolean> {\n    try {\n      // Pin the content to ensure it stays available\n      console.log(`Pinning IPFS hash: ${hash}`);\n      return true;\n    } catch (error) {\n      console.error('IPFS pinning failed:', error);\n      return false;\n    }\n  }\n\n  private async generateIPFSHash(data: string): Promise<string> {\n    // Simulate IPFS hash generation (QmHash format)\n    const crypto = require('crypto');\n    const hash = crypto.createHash('sha256').update(data).digest('hex');\n    return `Qm${hash.substring(0, 44)}`;\n  }\n\n  private async storeInIPFS(hash: string, data: string): Promise<void> {\n    // Simulate IPFS storage\n    // In production, this would use actual IPFS client\n    console.log(`Storing data with hash ${hash} in IPFS (${data.length} bytes)`);\n  }\n\n  private async retrieveFromIPFS(hash: string): Promise<string | null> {\n    // Simulate IPFS retrieval\n    // In production, this would fetch from actual IPFS\n    console.log(`Retrieving data with hash ${hash} from IPFS`);\n    return null; // Would return actual data in production\n  }\n\n  async getStatus(): Promise<{ connected: boolean; peerCount: number }> {\n    try {\n      // Check IPFS node status\n      return {\n        connected: true,\n        peerCount: Math.floor(Math.random() * 100)\n      };\n    } catch (error) {\n      return {\n        connected: false,\n        peerCount: 0\n      };\n    }\n  }\n}\n","size_bytes":2510},"attached_assets/main_1754630879483.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"attached_assets/notifications_1754630830172.ts":{"content":"import { WebSocket } from 'ws';\n\nexport interface NotificationData {\n  type: string;\n  message: string;\n  data?: any;\n}\n\nexport class NotificationService {\n  private subscribers = new Map<WebSocket, Set<string>>();\n  private topicSubscribers = new Map<string, Set<WebSocket>>();\n\n  subscribe(ws: WebSocket, topic: string, identifier?: string): void {\n    // Add to subscriber list\n    if (!this.subscribers.has(ws)) {\n      this.subscribers.set(ws, new Set());\n    }\n    this.subscribers.get(ws)!.add(topic);\n\n    // Add to topic subscribers\n    const topicKey = identifier ? `${topic}:${identifier}` : topic;\n    if (!this.topicSubscribers.has(topicKey)) {\n      this.topicSubscribers.set(topicKey, new Set());\n    }\n    this.topicSubscribers.get(topicKey)!.add(ws);\n\n    console.log(`WebSocket subscribed to topic: ${topicKey}`);\n  }\n\n  unsubscribe(ws: WebSocket): void {\n    const topics = this.subscribers.get(ws);\n    if (topics) {\n      // Remove from topic subscribers\n      topics.forEach(topic => {\n        const subscribers = this.topicSubscribers.get(topic);\n        if (subscribers) {\n          subscribers.delete(ws);\n          if (subscribers.size === 0) {\n            this.topicSubscribers.delete(topic);\n          }\n        }\n      });\n    }\n\n    // Remove from subscribers\n    this.subscribers.delete(ws);\n    console.log('WebSocket unsubscribed from all topics');\n  }\n\n  async broadcast(topic: string, data: NotificationData, identifier?: string): Promise<void> {\n    const topicKey = identifier ? `${topic}:${identifier}` : topic;\n    const subscribers = this.topicSubscribers.get(topicKey);\n\n    if (!subscribers || subscribers.size === 0) {\n      return;\n    }\n\n    const message = JSON.stringify({\n      topic: topicKey,\n      timestamp: new Date().toISOString(),\n      ...data\n    });\n\n    subscribers.forEach(ws => {\n      if (ws.readyState === WebSocket.OPEN) {\n        try {\n          ws.send(message);\n        } catch (error) {\n          console.error('Failed to send WebSocket message:', error);\n          this.unsubscribe(ws);\n        }\n      }\n    });\n\n    console.log(`Broadcasted to ${subscribers.size} subscribers on topic: ${topicKey}`);\n  }\n\n  async sendNotification(recipient: string, data: NotificationData): Promise<boolean> {\n    try {\n      // In production, this would integrate with email/SMS services\n      console.log(`Notification to ${recipient}:`, data);\n      \n      // Simulate notification sending\n      return true;\n    } catch (error) {\n      console.error('Notification sending failed:', error);\n      return false;\n    }\n  }\n\n  async notifyComplaintUpdate(complaintId: string, status: string, message: string): Promise<void> {\n    await this.broadcast('complaint_update', {\n      type: 'status_update',\n      message: `Complaint status updated to: ${status}`,\n      data: {\n        complaintId,\n        status,\n        message,\n        timestamp: new Date().toISOString()\n      }\n    }, complaintId);\n  }\n\n  async notifyEmergencyAlert(alertData: any): Promise<void> {\n    await this.broadcast('emergency_alert', {\n      type: 'emergency',\n      message: 'New emergency alert received',\n      data: alertData\n    });\n  }\n\n  async notifyNewComplaint(complaint: any): Promise<void> {\n    if (complaint.isPublic) {\n      await this.broadcast('new_complaint', {\n        type: 'new_public_complaint',\n        message: 'New public complaint submitted',\n        data: {\n          id: complaint.id,\n          category: complaint.category,\n          priority: complaint.priority,\n          createdAt: complaint.createdAt\n        }\n      });\n    }\n  }\n\n  getSubscriberCount(topic: string, identifier?: string): number {\n    const topicKey = identifier ? `${topic}:${identifier}` : topic;\n    return this.topicSubscribers.get(topicKey)?.size || 0;\n  }\n\n  getActiveTopics(): string[] {\n    return Array.from(this.topicSubscribers.keys());\n  }\n\n  async sendBulkNotification(recipients: string[], data: NotificationData): Promise<{ successful: number; failed: number }> {\n    let successful = 0;\n    let failed = 0;\n\n    for (const recipient of recipients) {\n      try {\n        const sent = await this.sendNotification(recipient, data);\n        if (sent) {\n          successful++;\n        } else {\n          failed++;\n        }\n      } catch (error) {\n        failed++;\n      }\n    }\n\n    return { successful, failed };\n  }\n}\n","size_bytes":4366},"attached_assets/postcss.config_1754630683845.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"attached_assets/queryClient_1754630890844.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"attached_assets/replit_1754630683845.md":{"content":"# replit.md\n\n## Overview\n\nSpeakSecure is a privacy-first anonymous complaint platform designed to help vulnerable populations report sensitive issues like harassment, abuse, discrimination, and corruption without fear of retaliation. The platform serves victims in various environments including corporates, schools, hostels, homes, and public spaces. Using Zero-Knowledge cryptography and blockchain technology, SpeakSecure ensures complete anonymity while providing verifiable proof of complaint authenticity. The system supports multiple user roles including anonymous complainants, NGO partners for case management, and administrators for platform oversight.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **Framework**: React with TypeScript, built using Vite for fast development and optimized builds\n- **UI Components**: Shadcn/ui component library with Radix UI primitives for accessibility\n- **Styling**: Tailwind CSS with custom design tokens and dark/light theme support\n- **State Management**: React Query (TanStack Query) for server state, Zustand for local state management\n- **Routing**: Wouter for lightweight client-side routing without React Router overhead\n- **Form Handling**: React Hook Form with Zod validation schemas for type-safe form processing\n- **Internationalization**: Custom i18n system supporting English, Hindi, Tamil, Kannada, and Urdu\n\n### Backend Architecture\n- **Runtime**: Node.js with Express.js framework providing RESTful API endpoints\n- **Database**: PostgreSQL with Neon serverless hosting for scalability and reliability\n- **ORM**: Drizzle ORM for type-safe database queries and migrations\n- **Session Management**: Express sessions with PostgreSQL store for persistent authentication\n- **Build System**: ESBuild for fast server compilation and bundling\n\n### Zero-Knowledge Privacy System\n- **Identity Generation**: Semaphore protocol implementation for anonymous user identities using commitment schemes\n- **Proof System**: ZK-SNARKs for anonymous complaint submission and upvoting without revealing user identity\n- **Nullifier Hashes**: Prevent duplicate submissions and multiple upvotes from same user while maintaining anonymity\n- **Group Membership**: Merkle tree-based proofs for validating user membership without identity exposure\n- **Anonymous Actions**: Users can submit complaints, upvote, and interact with platform without revealing personal information\n\n### Data Security and Encryption\n- **Client-Side Encryption**: AES-256 encryption of complaint content before transmission using CryptoJS\n- **Decentralized Storage**: IPFS integration for tamper-proof storage of encrypted complaint data\n- **Blockchain Verification**: Hash logging on blockchain for immutable audit trail and data integrity\n- **Key Management**: Selective decryption keys for authorized NGOs and administrators only\n- **End-to-End Protection**: Complete data protection from browser to storage with zero server-side plaintext access\n\n### Emergency Response System\n- **Instant Alerts**: Real-time emergency notification system for urgent cases\n- **SMS Integration**: MSG91 API for emergency SMS alerts to trusted contacts\n- **Location Services**: Optional GPS coordinates inclusion for emergency situations\n- **Prioritization**: Automatic escalation of emergency complaints to appropriate authorities\n\n### Multi-Role Dashboard System\n- **Admin Dashboard**: Platform oversight with complaint management, user analytics, and system monitoring\n- **NGO Portal**: Case management interface for reviewing, responding to, and resolving complaints\n- **Public Feed**: Community-driven complaint visibility with upvoting and support mechanisms\n- **Analytics Dashboard**: Comprehensive reporting on complaint trends, resolution rates, and platform usage\n\n### Accessibility and Inclusivity\n- **Voice Input**: Speech-to-text functionality for users with literacy barriers\n- **Visual Accessibility**: High contrast mode, large text options, and keyboard navigation support\n- **Mobile Optimization**: Responsive design optimized for mobile devices and low-bandwidth connections\n- **Multilingual Support**: Full platform translation with right-to-left language support\n\n## External Dependencies\n\n### Database and Infrastructure\n- **Neon Database**: Serverless PostgreSQL hosting with automatic scaling and backup\n- **Drizzle Kit**: Database migrations and schema management\n\n### Zero-Knowledge and Cryptography\n- **Semaphore Protocol**: Anonymous identity and proof generation system\n- **CryptoJS**: Client-side encryption and hashing functionality\n- **Web3 Infrastructure**: Ethereum/Polygon blockchain integration for hash logging\n\n### Storage and Communication\n- **IPFS (InterPlanetary File System)**: Decentralized storage via Infura gateway\n- **MSG91 API**: SMS delivery service for emergency alerts and notifications\n- **File Upload System**: Multi-format file attachment with encryption support\n\n### Development and Monitoring\n- **Replit Integration**: Development environment with live preview and collaboration features\n- **Vite Development Server**: Hot module replacement and development tooling\n- **TypeScript**: Type safety across frontend, backend, and shared schemas\n\n### UI and Experience\n- **Radix UI**: Accessible component primitives for complex interactions\n- **Embla Carousel**: Touch-friendly carousel components for mobile experience\n- **React Query DevTools**: Development debugging for API state management\n- **Wouter Router**: Minimal client-side routing with dynamic route matching","size_bytes":5605},"attached_assets/routes_1754630720613.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { WebSocketServer, WebSocket } from \"ws\";\nimport { storage } from \"./storage\";\nimport { insertComplaintSchema, insertEmergencyAlertSchema } from \"@shared/schema\";\nimport { ZkIdentityService } from \"./services/zk-identity\";\nimport { EncryptionService } from \"./services/encryption\";\nimport { IPFSService } from \"./services/ipfs\";\nimport { BlockchainService } from \"./services/blockchain\";\nimport { EmergencyService } from \"./services/emergency\";\nimport { AnalyticsService } from \"./services/analytics\";\nimport { NotificationService } from \"./services/notifications\";\nimport { z } from \"zod\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Initialize services\n  const zkService = new ZkIdentityService();\n  const encryptionService = new EncryptionService();\n  const ipfsService = new IPFSService();\n  const blockchainService = new BlockchainService();\n  const emergencyService = new EmergencyService();\n  const analyticsService = new AnalyticsService();\n  const notificationService = new NotificationService();\n\n  // ZK Identity endpoints\n  app.post(\"/api/zk/identity\", async (req, res) => {\n    try {\n      const identity = await zkService.generateIdentity();\n      await storage.createZkIdentity({\n        commitment: identity.commitment,\n        nullifierHash: identity.nullifierHash,\n        groupId: identity.groupId || 'speaksecure-v1'\n      });\n      \n      await analyticsService.recordEvent('zk_identity_generated', {\n        groupId: identity.groupId\n      });\n\n      res.json({ \n        commitment: identity.commitment,\n        success: true \n      });\n    } catch (error) {\n      console.error('ZK Identity generation failed:', error);\n      res.status(500).json({ error: 'Failed to generate ZK identity' });\n    }\n  });\n\n  app.post(\"/api/zk/verify\", async (req, res) => {\n    try {\n      const { commitment, nullifierHash, topic } = req.body;\n      \n      // Verify commitment exists\n      const identity = await storage.getZkIdentity(commitment);\n      if (!identity) {\n        return res.status(400).json({ error: 'Invalid commitment' });\n      }\n\n      // Verify nullifier hasn't been used for this action\n      const isValid = await storage.verifyNullifierHash(nullifierHash);\n      if (!isValid) {\n        return res.status(400).json({ error: 'Nullifier already used' });\n      }\n\n      res.json({ success: true });\n    } catch (error) {\n      console.error('ZK verification failed:', error);\n      res.status(500).json({ error: 'ZK verification failed' });\n    }\n  });\n\n  app.post(\"/api/zk/proof\", async (req, res) => {\n    try {\n      const { commitment, action, topic } = req.body;\n      \n      const identity = await storage.getZkIdentity(commitment);\n      if (!identity) {\n        return res.status(400).json({ error: 'Invalid commitment' });\n      }\n\n      const proof = await zkService.generateProof(identity, action, topic);\n      res.json(proof);\n    } catch (error) {\n      console.error('ZK proof generation failed:', error);\n      res.status(500).json({ error: 'Failed to generate ZK proof' });\n    }\n  });\n\n  // Complaint endpoints\n  app.post(\"/api/complaints\", async (req, res) => {\n    try {\n      const validatedData = insertComplaintSchema.parse(req.body);\n      \n      // Encrypt complaint content\n      const encrypted = await encryptionService.encrypt(\n        JSON.stringify({\n          text: req.body.complaintText,\n          files: req.body.files || [],\n          metadata: req.body.metadata || {}\n        })\n      );\n\n      // Store on IPFS\n      const ipfsHash = await ipfsService.store(encrypted.encryptedData);\n\n      // Create complaint\n      const complaint = await storage.createComplaint({\n        ...validatedData,\n        encryptedContent: encrypted.encryptedData,\n        encryptionKey: encrypted.key,\n        ipfsHash\n      });\n\n      // Log to blockchain\n      const blockchainHash = await blockchainService.logComplaint(complaint.id, ipfsHash);\n      await storage.updateComplaint(complaint.id, { blockchainHash });\n\n      // Handle emergency alerts\n      if (validatedData.isEmergency && validatedData.emergencyContact) {\n        await emergencyService.sendAlert({\n          complaintId: complaint.id,\n          contact: validatedData.emergencyContact,\n          location: validatedData.location || undefined\n        });\n      }\n\n      // Record analytics\n      await analyticsService.recordEvent('complaint_submitted', {\n        category: validatedData.category,\n        priority: req.body.priority,\n        isEmergency: validatedData.isEmergency,\n        isPublic: validatedData.isPublic\n      });\n\n      res.json({\n        success: true,\n        referenceId: complaint.referenceId,\n        blockchainHash,\n        ipfsHash\n      });\n    } catch (error) {\n      console.error('Complaint submission failed:', error);\n      res.status(500).json({ \n        error: error instanceof z.ZodError ? 'Invalid complaint data' : 'Failed to submit complaint' \n      });\n    }\n  });\n\n  app.get(\"/api/complaints/:referenceId\", async (req, res) => {\n    try {\n      const { referenceId } = req.params;\n      const complaint = await storage.getComplaint(referenceId);\n      \n      if (!complaint) {\n        return res.status(404).json({ error: 'Complaint not found' });\n      }\n\n      // Get complaint updates\n      const updates = await storage.getComplaintUpdates(complaint.id);\n\n      res.json({\n        ...complaint,\n        updates,\n        // Don't return sensitive encryption data\n        encryptedContent: undefined,\n        encryptionKey: undefined\n      });\n    } catch (error) {\n      console.error('Failed to fetch complaint:', error);\n      res.status(500).json({ error: 'Failed to fetch complaint' });\n    }\n  });\n\n  app.get(\"/api/complaints\", async (req, res) => {\n    try {\n      const { \n        limit = 20, \n        offset = 0, \n        category, \n        status, \n        search \n      } = req.query;\n\n      let complaints;\n      \n      if (search) {\n        complaints = await storage.searchComplaints(search as string);\n      } else {\n        complaints = await storage.getPublicComplaints(\n          parseInt(limit as string),\n          parseInt(offset as string),\n          { category, status }\n        );\n      }\n\n      // Remove sensitive data\n      const sanitizedComplaints = complaints.map(complaint => ({\n        ...complaint,\n        encryptedContent: undefined,\n        encryptionKey: undefined\n      }));\n\n      res.json(sanitizedComplaints);\n    } catch (error) {\n      console.error('Failed to fetch complaints:', error);\n      res.status(500).json({ error: 'Failed to fetch complaints' });\n    }\n  });\n\n  app.post(\"/api/complaints/:id/upvote\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { zkProof, nullifierHash } = req.body;\n\n      // Verify ZK proof for upvoting\n      const isValidProof = await zkService.verifyProof(zkProof, 'upvote', id);\n      if (!isValidProof) {\n        return res.status(400).json({ error: 'Invalid ZK proof' });\n      }\n\n      // Check if already upvoted\n      const hasUpvoted = await storage.hasUpvoted(id, nullifierHash);\n      if (hasUpvoted) {\n        return res.status(400).json({ error: 'Already upvoted' });\n      }\n\n      // Add upvote\n      await storage.addUpvote({\n        complaintId: id,\n        nullifierHash,\n        zkProof: JSON.stringify(zkProof)\n      });\n\n      const upvoteCount = await storage.getUpvoteCount(id);\n\n      await analyticsService.recordEvent('complaint_upvoted', {\n        complaintId: id\n      });\n\n      res.json({ success: true, upvotes: upvoteCount });\n    } catch (error) {\n      console.error('Failed to upvote complaint:', error);\n      res.status(500).json({ error: 'Failed to upvote complaint' });\n    }\n  });\n\n  app.post(\"/api/complaints/:id/update\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { status, message, updatedBy } = req.body;\n\n      // Add complaint update\n      await storage.addComplaintUpdate({\n        complaintId: id,\n        status,\n        message,\n        updatedBy: updatedBy || 'system'\n      });\n\n      // Update complaint status\n      const updatedComplaint = await storage.updateComplaint(id, { status });\n\n      await analyticsService.recordEvent('complaint_updated', {\n        complaintId: id,\n        newStatus: status\n      });\n\n      res.json({ success: true, complaint: updatedComplaint });\n    } catch (error) {\n      console.error('Failed to update complaint:', error);\n      res.status(500).json({ error: 'Failed to update complaint' });\n    }\n  });\n\n  // Emergency endpoints\n  app.post(\"/api/emergency/alert\", async (req, res) => {\n    try {\n      const validatedData = insertEmergencyAlertSchema.parse(req.body);\n      \n      // Encrypt emergency content\n      const encrypted = await encryptionService.encrypt(\n        JSON.stringify(req.body.description || 'Emergency alert')\n      );\n\n      const alert = await storage.createEmergencyAlert({\n        ...validatedData,\n        encryptedContent: encrypted.encryptedData\n      });\n\n      // Send emergency notifications\n      await emergencyService.sendAlert({\n        alertId: alert.id,\n        contact: validatedData.emergencyContact,\n        location: validatedData.location || undefined\n      });\n\n      await analyticsService.recordEvent('emergency_alert_sent', {\n        alertId: alert.id,\n        hasLocation: !!validatedData.location\n      });\n\n      res.json({ success: true, alertId: alert.id });\n    } catch (error) {\n      console.error('Emergency alert failed:', error);\n      res.status(500).json({ error: 'Failed to send emergency alert' });\n    }\n  });\n\n  app.get(\"/api/emergency/alerts\", async (req, res) => {\n    try {\n      const alerts = await storage.getActiveEmergencyAlerts();\n      \n      // Remove sensitive data for public endpoint\n      const sanitizedAlerts = alerts.map(alert => ({\n        id: alert.id,\n        createdAt: alert.createdAt,\n        status: alert.status,\n        hasLocation: !!alert.location\n      }));\n\n      res.json(sanitizedAlerts);\n    } catch (error) {\n      console.error('Failed to fetch emergency alerts:', error);\n      res.status(500).json({ error: 'Failed to fetch emergency alerts' });\n    }\n  });\n\n  // Analytics endpoints\n  app.get(\"/api/analytics\", async (req, res) => {\n    try {\n      const { eventType, days = 30 } = req.query;\n      const analytics = await storage.getAnalytics(\n        eventType as string, \n        parseInt(days as string)\n      );\n\n      res.json(analytics);\n    } catch (error) {\n      console.error('Failed to fetch analytics:', error);\n      res.status(500).json({ error: 'Failed to fetch analytics' });\n    }\n  });\n\n  app.get(\"/api/analytics/summary\", async (req, res) => {\n    try {\n      const summary = await analyticsService.getSummary();\n      res.json(summary);\n    } catch (error) {\n      console.error('Failed to fetch analytics summary:', error);\n      res.status(500).json({ error: 'Failed to fetch analytics summary' });\n    }\n  });\n\n  // Internationalization endpoint\n  app.get(\"/api/i18n/:language\", async (req, res) => {\n    try {\n      const { language } = req.params;\n      \n      // In a real implementation, load from database or files\n      const translations = {\n        en: {\n          'hero.title': 'Your Voice, Your Safety',\n          'hero.subtitle': 'Completely Anonymous',\n          // ... other translations\n        },\n        hi: {\n          'hero.title': '‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º, ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ',\n          'hero.subtitle': '‡§™‡•Ç‡§∞‡•ç‡§£‡§§‡§É ‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ',\n          // ... other translations\n        }\n        // Add other languages\n      };\n\n      res.json(translations[language as keyof typeof translations] || translations.en);\n    } catch (error) {\n      console.error('Failed to fetch translations:', error);\n      res.status(500).json({ error: 'Failed to fetch translations' });\n    }\n  });\n\n  const httpServer = createServer(app);\n\n  // WebSocket server for real-time updates\n  const wss = new WebSocketServer({ \n    server: httpServer, \n    path: '/ws' \n  });\n\n  wss.on('connection', (ws: WebSocket) => {\n    console.log('WebSocket client connected');\n    \n    ws.on('message', async (message: string) => {\n      try {\n        const data = JSON.parse(message);\n        \n        if (data.type === 'subscribe_complaint') {\n          // Subscribe to complaint updates\n          notificationService.subscribe(ws, 'complaint_update', data.complaintId);\n        } else if (data.type === 'subscribe_emergency') {\n          // Subscribe to emergency alerts\n          notificationService.subscribe(ws, 'emergency_alert');\n        }\n      } catch (error) {\n        console.error('WebSocket message error:', error);\n      }\n    });\n\n    ws.on('close', () => {\n      console.log('WebSocket client disconnected');\n      notificationService.unsubscribe(ws);\n    });\n  });\n\n  return httpServer;\n}\n","size_bytes":12975},"attached_assets/schema_1754630857248.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, boolean, integer, jsonb, uuid } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n});\n\nexport const zkIdentities = pgTable(\"zk_identities\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  commitment: text(\"commitment\").notNull().unique(),\n  nullifierHash: text(\"nullifier_hash\").notNull(),\n  groupId: text(\"group_id\").notNull().default('speaksecure-v1'),\n  isActive: boolean(\"is_active\").default(true),\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n});\n\nexport const complaints = pgTable(\"complaints\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  referenceId: text(\"reference_id\").notNull().unique(),\n  zkCommitment: text(\"zk_commitment\").notNull(),\n  category: text(\"category\").notNull(),\n  encryptedContent: text(\"encrypted_content\").notNull(),\n  encryptionKey: text(\"encryption_key\").notNull(),\n  tags: jsonb(\"tags\").$type<string[]>().default([]),\n  priority: text(\"priority\").notNull().default('medium'),\n  status: text(\"status\").notNull().default('pending'),\n  isPublic: boolean(\"is_public\").default(false),\n  isEmergency: boolean(\"is_emergency\").default(false),\n  includeLocation: boolean(\"include_location\").default(false),\n  location: jsonb(\"location\").$type<{lat: number, lng: number}>(),\n  emergencyContact: text(\"emergency_contact\"),\n  ipfsHash: text(\"ipfs_hash\"),\n  blockchainHash: text(\"blockchain_hash\"),\n  upvotes: integer(\"upvotes\").default(0),\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n  updatedAt: timestamp(\"updated_at\").default(sql`now()`),\n});\n\nexport const complaintUpdates = pgTable(\"complaint_updates\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  complaintId: uuid(\"complaint_id\").notNull().references(() => complaints.id),\n  status: text(\"status\").notNull(),\n  message: text(\"message\").notNull(),\n  updatedBy: text(\"updated_by\").notNull(),\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n});\n\nexport const upvotes = pgTable(\"upvotes\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  complaintId: uuid(\"complaint_id\").notNull().references(() => complaints.id),\n  nullifierHash: text(\"nullifier_hash\").notNull().unique(),\n  zkProof: text(\"zk_proof\").notNull(),\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n});\n\nexport const emergencyAlerts = pgTable(\"emergency_alerts\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  zkCommitment: text(\"zk_commitment\").notNull(),\n  encryptedContent: text(\"encrypted_content\").notNull(),\n  emergencyContact: text(\"emergency_contact\").notNull(),\n  includeLocation: boolean(\"include_location\").default(false),\n  location: jsonb(\"location\").$type<{lat: number, lng: number}>(),\n  status: text(\"status\").notNull().default('active'),\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n});\n\nexport const analytics = pgTable(\"analytics\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  eventType: text(\"event_type\").notNull(),\n  category: text(\"category\"),\n  metadata: jsonb(\"metadata\").$type<Record<string, any>>(),\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n});\n\n// Insert schemas\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport const insertZkIdentitySchema = createInsertSchema(zkIdentities).pick({\n  commitment: true,\n  nullifierHash: true,\n  groupId: true,\n});\n\nexport const insertComplaintSchema = createInsertSchema(complaints).pick({\n  zkCommitment: true,\n  category: true,\n  encryptedContent: true,\n  encryptionKey: true,\n  tags: true,\n  priority: true,\n  isPublic: true,\n  isEmergency: true,\n  includeLocation: true,\n  location: true,\n  emergencyContact: true,\n  ipfsHash: true,\n});\n\nexport const insertEmergencyAlertSchema = createInsertSchema(emergencyAlerts).pick({\n  zkCommitment: true,\n  encryptedContent: true,\n  emergencyContact: true,\n  includeLocation: true,\n  location: true,\n});\n\n// Types\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\nexport type InsertZkIdentity = z.infer<typeof insertZkIdentitySchema>;\nexport type ZkIdentity = typeof zkIdentities.$inferSelect;\n\nexport type InsertComplaint = z.infer<typeof insertComplaintSchema>;\nexport type Complaint = typeof complaints.$inferSelect;\n\nexport type InsertComplaintUpdate = typeof complaintUpdates.$inferInsert;\nexport type ComplaintUpdate = typeof complaintUpdates.$inferSelect;\n\nexport type InsertUpvote = typeof upvotes.$inferInsert;\nexport type Upvote = typeof upvotes.$inferSelect;\n\nexport type InsertEmergencyAlert = z.infer<typeof insertEmergencyAlertSchema>;\nexport type EmergencyAlert = typeof emergencyAlerts.$inferSelect;\n\nexport type InsertAnalytics = typeof analytics.$inferInsert;\nexport type Analytics = typeof analytics.$inferSelect;\n","size_bytes":5177},"attached_assets/storage_1754630720613.ts":{"content":"import { \n  users, zkIdentities, complaints, complaintUpdates, upvotes, \n  emergencyAlerts, analytics, \n  type User, type InsertUser, type ZkIdentity, type InsertZkIdentity,\n  type Complaint, type InsertComplaint, type ComplaintUpdate, type InsertComplaintUpdate,\n  type Upvote, type InsertUpvote, type EmergencyAlert, type InsertEmergencyAlert,\n  type Analytics, type InsertAnalytics\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc, and, or, sql, count } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User management\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n\n  // ZK Identity management\n  getZkIdentity(commitment: string): Promise<ZkIdentity | undefined>;\n  createZkIdentity(identity: InsertZkIdentity): Promise<ZkIdentity>;\n  verifyNullifierHash(nullifierHash: string): Promise<boolean>;\n\n  // Complaint management\n  createComplaint(complaint: InsertComplaint): Promise<Complaint>;\n  getComplaint(referenceId: string): Promise<Complaint | undefined>;\n  getComplaintById(id: string): Promise<Complaint | undefined>;\n  updateComplaint(id: string, updates: Partial<Complaint>): Promise<Complaint>;\n  getPublicComplaints(limit?: number, offset?: number, filters?: any): Promise<Complaint[]>;\n  searchComplaints(query: string): Promise<Complaint[]>;\n\n  // Complaint updates\n  addComplaintUpdate(update: InsertComplaintUpdate): Promise<ComplaintUpdate>;\n  getComplaintUpdates(complaintId: string): Promise<ComplaintUpdate[]>;\n\n  // Upvoting system\n  addUpvote(upvote: InsertUpvote): Promise<Upvote>;\n  getUpvoteCount(complaintId: string): Promise<number>;\n  hasUpvoted(complaintId: string, nullifierHash: string): Promise<boolean>;\n\n  // Emergency alerts\n  createEmergencyAlert(alert: InsertEmergencyAlert): Promise<EmergencyAlert>;\n  getActiveEmergencyAlerts(): Promise<EmergencyAlert[]>;\n  updateEmergencyAlert(id: string, status: string): Promise<EmergencyAlert>;\n\n  // Analytics\n  recordAnalytics(analytics: InsertAnalytics): Promise<Analytics>;\n  getAnalytics(eventType?: string, days?: number): Promise<Analytics[]>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User management\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.username, username));\n    return user || undefined;\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const [user] = await db.insert(users).values(insertUser).returning();\n    return user;\n  }\n\n  // ZK Identity management\n  async getZkIdentity(commitment: string): Promise<ZkIdentity | undefined> {\n    const [identity] = await db.select().from(zkIdentities)\n      .where(and(eq(zkIdentities.commitment, commitment), eq(zkIdentities.isActive, true)));\n    return identity || undefined;\n  }\n\n  async createZkIdentity(identity: InsertZkIdentity): Promise<ZkIdentity> {\n    const [zkIdentity] = await db.insert(zkIdentities).values(identity).returning();\n    return zkIdentity;\n  }\n\n  async verifyNullifierHash(nullifierHash: string): Promise<boolean> {\n    const [existing] = await db.select({ id: zkIdentities.id }).from(zkIdentities)\n      .where(eq(zkIdentities.nullifierHash, nullifierHash));\n    return !existing; // Returns true if nullifier hasn't been used\n  }\n\n  // Complaint management\n  async createComplaint(complaint: InsertComplaint): Promise<Complaint> {\n    const referenceId = `SPK-${new Date().getFullYear()}-${Math.floor(Math.random() * 1000000).toString().padStart(6, '0')}`;\n    const complaintData = {\n      referenceId,\n      zkCommitment: complaint.zkCommitment,\n      category: complaint.category,\n      encryptedContent: complaint.encryptedContent,\n      encryptionKey: complaint.encryptionKey,\n      tags: complaint.tags || [],\n      priority: complaint.priority || 'medium',\n      isPublic: complaint.isPublic || false,\n      isEmergency: complaint.isEmergency || false,\n      includeLocation: complaint.includeLocation || false,\n      location: complaint.location,\n      emergencyContact: complaint.emergencyContact,\n      ipfsHash: complaint.ipfsHash\n    };\n    const [newComplaint] = await db.insert(complaints)\n      .values(complaintData)\n      .returning();\n    return newComplaint;\n  }\n\n  async getComplaint(referenceId: string): Promise<Complaint | undefined> {\n    const [complaint] = await db.select().from(complaints)\n      .where(eq(complaints.referenceId, referenceId));\n    return complaint || undefined;\n  }\n\n  async getComplaintById(id: string): Promise<Complaint | undefined> {\n    const [complaint] = await db.select().from(complaints)\n      .where(eq(complaints.id, id));\n    return complaint || undefined;\n  }\n\n  async updateComplaint(id: string, updates: Partial<Complaint>): Promise<Complaint> {\n    const [complaint] = await db.update(complaints)\n      .set({ ...updates, updatedAt: new Date() })\n      .where(eq(complaints.id, id))\n      .returning();\n    return complaint;\n  }\n\n  async getPublicComplaints(limit = 20, offset = 0, filters: any = {}): Promise<Complaint[]> {\n    let conditions = [eq(complaints.isPublic, true)];\n\n    if (filters.category && filters.category !== 'all') {\n      conditions.push(eq(complaints.category, filters.category));\n    }\n\n    if (filters.status && filters.status !== 'all') {\n      conditions.push(eq(complaints.status, filters.status));\n    }\n\n    return await db.select().from(complaints)\n      .where(and(...conditions))\n      .orderBy(desc(complaints.createdAt))\n      .limit(limit)\n      .offset(offset);\n  }\n\n  async searchComplaints(query: string): Promise<Complaint[]> {\n    return await db.select().from(complaints)\n      .where(and(\n        eq(complaints.isPublic, true),\n        or(\n          sql`${complaints.encryptedContent} ILIKE ${`%${query}%`}`,\n          sql`${complaints.tags}::text ILIKE ${`%${query}%`}`\n        )\n      ))\n      .orderBy(desc(complaints.createdAt));\n  }\n\n  // Complaint updates\n  async addComplaintUpdate(update: InsertComplaintUpdate): Promise<ComplaintUpdate> {\n    const [complaintUpdate] = await db.insert(complaintUpdates)\n      .values(update)\n      .returning();\n    return complaintUpdate;\n  }\n\n  async getComplaintUpdates(complaintId: string): Promise<ComplaintUpdate[]> {\n    return await db.select().from(complaintUpdates)\n      .where(eq(complaintUpdates.complaintId, complaintId))\n      .orderBy(desc(complaintUpdates.createdAt));\n  }\n\n  // Upvoting system\n  async addUpvote(upvote: InsertUpvote): Promise<Upvote> {\n    const [newUpvote] = await db.insert(upvotes).values(upvote).returning();\n    \n    // Increment complaint upvote count\n    await db.update(complaints)\n      .set({ upvotes: sql`${complaints.upvotes} + 1` })\n      .where(eq(complaints.id, upvote.complaintId));\n    \n    return newUpvote;\n  }\n\n  async getUpvoteCount(complaintId: string): Promise<number> {\n    const [result] = await db.select({ count: count() }).from(upvotes)\n      .where(eq(upvotes.complaintId, complaintId));\n    return result.count;\n  }\n\n  async hasUpvoted(complaintId: string, nullifierHash: string): Promise<boolean> {\n    const [existing] = await db.select({ id: upvotes.id }).from(upvotes)\n      .where(and(\n        eq(upvotes.complaintId, complaintId),\n        eq(upvotes.nullifierHash, nullifierHash)\n      ));\n    return !!existing;\n  }\n\n  // Emergency alerts\n  async createEmergencyAlert(alert: InsertEmergencyAlert): Promise<EmergencyAlert> {\n    const [emergencyAlert] = await db.insert(emergencyAlerts)\n      .values(alert)\n      .returning();\n    return emergencyAlert;\n  }\n\n  async getActiveEmergencyAlerts(): Promise<EmergencyAlert[]> {\n    return await db.select().from(emergencyAlerts)\n      .where(eq(emergencyAlerts.status, 'active'))\n      .orderBy(desc(emergencyAlerts.createdAt));\n  }\n\n  async updateEmergencyAlert(id: string, status: string): Promise<EmergencyAlert> {\n    const [alert] = await db.update(emergencyAlerts)\n      .set({ status })\n      .where(eq(emergencyAlerts.id, id))\n      .returning();\n    return alert;\n  }\n\n  // Analytics\n  async recordAnalytics(analyticsData: InsertAnalytics): Promise<Analytics> {\n    const [result] = await db.insert(analytics)\n      .values(analyticsData)\n      .returning();\n    return result;\n  }\n\n  async getAnalytics(eventType?: string, days = 30): Promise<Analytics[]> {\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - days);\n\n    let conditions = [sql`${analytics.createdAt} >= ${cutoffDate}`];\n\n    if (eventType) {\n      conditions.push(eq(analytics.eventType, eventType));\n    }\n\n    return await db.select().from(analytics)\n      .where(and(...conditions))\n      .orderBy(desc(analytics.createdAt));\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":8958},"attached_assets/tailwind.config_1754630683845.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar-background)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2766},"attached_assets/translations_1754630890844.ts":{"content":"export interface Translation {\n  [key: string]: string | Translation;\n}\n\nexport const translations: Record<string, Translation> = {\n  en: {\n    'hero.title': 'Your Voice, Your Safety',\n    'hero.subtitle': 'Completely Anonymous',\n    'hero.description': 'Report sensitive issues with zero-knowledge privacy. Your identity stays protected while your voice creates change.',\n    'hero.submit_report': 'Submit Anonymous Report',\n    'hero.track_status': 'Track Status',\n    'zk.status': 'Zero-Knowledge Identity: Active',\n    'zk.active': 'Zero-Knowledge Identity Active',\n    'zk.generating': 'Generating Identity...',\n    'features.anonymous.title': '100% Anonymous',\n    'features.anonymous.description': 'Zero-knowledge proofs ensure your identity remains completely private while proving authenticity.',\n    'features.encrypted.title': 'End-to-End Encrypted',\n    'features.encrypted.description': 'Military-grade AES encryption ensures your complaints are secure from submission to resolution.',\n    'features.blockchain.title': 'Blockchain Verified',\n    'features.blockchain.description': 'Immutable proof of submission stored on blockchain prevents tampering and ensures transparency.',\n    'impact.title': 'Real Impact Stories',\n    'emergency': 'Emergency',\n    'report.title': 'Submit Your Report',\n    'report.description': 'Your identity remains completely anonymous. All data is encrypted before transmission.',\n    'form.category': 'Complaint Category',\n    'form.select_category': 'Select a category...',\n    'categories.harassment': 'Workplace Harassment',\n    'categories.abuse': 'Physical/Mental Abuse',\n    'categories.discrimination': 'Discrimination',\n    'categories.corruption': 'Corruption',\n    'categories.safety': 'Public Safety',\n    'categories.legal': 'Legal Issues',\n    'categories.other': 'Other',\n    'form.tags': 'Tags (helps categorize your complaint)',\n    'form.complaint': 'Describe your complaint',\n    'form.voice_record': 'Voice Record',\n    'form.recording': 'Recording...',\n    'form.attachments': 'Attachments (Optional)',\n    'form.upload_files': 'Upload Files',\n    'form.file_limit': 'Max 10MB per file. Images, audio, PDFs supported.',\n    'form.make_public': 'Make this complaint public',\n    'form.include_location': 'Include my location',\n    'form.emergency': 'This is an emergency',\n    'form.priority': 'Priority Level',\n    'priority.low': 'Low',\n    'priority.medium': 'Medium',\n    'priority.high': 'High',\n    'priority.urgent': 'Urgent',\n    'form.emergency_contact': 'Emergency Contact Number',\n    'form.submit_secure': 'Submit Securely',\n    'form.encryption_notice': 'üîí Your complaint will be encrypted before transmission',\n    'status.title': 'Track Your Complaint Status',\n    'status.description': 'Enter your complaint reference ID to check the current status and any updates',\n    'status.reference_id': 'Complaint Reference ID',\n    'status.check_status': 'Check Status',\n    'status.received_id': 'You received this ID when you submitted your complaint',\n    'status.progress': 'Complaint Progress',\n    'status.details': 'Complaint Details',\n    'status.category': 'Category:',\n    'status.status': 'Status:',\n    'status.priority': 'Priority:',\n    'status.upvotes': 'Upvotes:',\n    'status.verification': 'Verification Info',\n    'status.submitted': 'Submitted:',\n    'status.updated': 'Last Updated:',\n    'status.blockchain': 'Blockchain Hash:',\n    'status.verified': 'Cryptographically Verified',\n    'status.copy_id': 'Copy Reference ID',\n    'status.download_report': 'Download Report',\n    'status.view_blockchain': 'View on Blockchain',\n    'status.not_found': 'Complaint not found. Please check your reference ID and try again.',\n    'status.pending': 'Pending',\n    'status.review': 'Under Review',\n    'status.progress': 'In Progress',\n    'status.resolved': 'Resolved',\n    'community.title': 'Community Complaints',\n    'community.description': 'Public complaints where users chose to share anonymously to help others',\n    'community.filter_category': 'Filter by Category',\n    'community.all_categories': 'All Categories',\n    'community.filter_status': 'Filter by Status',\n    'community.all_statuses': 'All Statuses',\n    'community.sort_by': 'Sort By',\n    'community.most_recent': 'Most Recent',\n    'community.most_upvoted': 'Most Upvoted',\n    'community.highest_priority': 'Highest Priority',\n    'community.search': 'Search',\n    'community.public_protected': 'Public complaint ‚Ä¢ Identity protected',\n    'community.load_more': 'Load More Complaints',\n    'success.title': 'Complaint Submitted Successfully!',\n    'success.description': 'Your complaint has been encrypted, stored securely, and logged to the blockchain.',\n    'success.reference_id': 'Reference ID:',\n    'success.copy_id': 'Copy Reference ID',\n    'success.encrypted': 'Encrypted',\n    'success.ipfs_stored': 'IPFS Stored',\n    'success.blockchain_logged': 'Blockchain Logged',\n    'success.track_status': 'Track Status',\n    'success.submit_another': 'Submit Another',\n    'emergency.title': 'Emergency Alert',\n    'emergency.description': 'Are you in immediate danger and need help? This will send an encrypted alert to your emergency contact.',\n    'emergency.share_location': 'Share my location',\n    'emergency.help_responders': 'Help responders find you quickly',\n    'emergency.contact_number': 'Emergency Contact Number *',\n    'emergency.description_optional': 'Brief Description (Optional)',\n    'emergency.cancel': 'Cancel',\n    'emergency.send_alert': 'Send Alert',\n    'emergency.encrypted_notice': 'üîí All emergency data is encrypted and stored securely'\n  },\n  hi: {\n    'hero.title': '‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º, ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ',\n    'hero.subtitle': '‡§™‡•Ç‡§∞‡•ç‡§£‡§§‡§É ‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ',\n    'hero.description': '‡§∂‡•Ç‡§®‡•ç‡§Ø-‡§ú‡•ç‡§û‡§æ‡§® ‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Ç‡§µ‡•á‡§¶‡§®‡§∂‡•Ä‡§≤ ‡§Æ‡•Å‡§¶‡•ç‡§¶‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§Ü‡§™‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡§§‡•Ä ‡§π‡•à ‡§ú‡§¨‡§ï‡§ø ‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§≤‡§æ‡§§‡•Ä ‡§π‡•à‡•§',\n    'hero.submit_report': '‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç',\n    'hero.track_status': '‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç',\n    'zk.status': '‡§∂‡•Ç‡§®‡•ç‡§Ø-‡§ú‡•ç‡§û‡§æ‡§® ‡§™‡§π‡§ö‡§æ‡§®: ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø',\n    'zk.active': '‡§∂‡•Ç‡§®‡•ç‡§Ø-‡§ú‡•ç‡§û‡§æ‡§® ‡§™‡§π‡§ö‡§æ‡§® ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø',\n    'zk.generating': '‡§™‡§π‡§ö‡§æ‡§® ‡§ú‡•á‡§®‡§∞‡•á‡§ü ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...',\n    'features.anonymous.title': '100% ‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ',\n    'features.anonymous.description': '‡§∂‡•Ç‡§®‡•ç‡§Ø-‡§ú‡•ç‡§û‡§æ‡§® ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§™‡•Ç‡§∞‡•ç‡§£‡§§‡§É ‡§®‡§ø‡§ú‡•Ä ‡§∞‡§π‡•á ‡§ú‡§¨‡§ï‡§ø ‡§™‡•ç‡§∞‡§æ‡§Æ‡§æ‡§£‡§ø‡§ï‡§§‡§æ ‡§∏‡§ø‡§¶‡•ç‡§ß ‡§π‡•ã‡•§',\n    'features.encrypted.title': '‡§è‡§Ç‡§°-‡§ü‡•Ç-‡§è‡§Ç‡§° ‡§è‡§®‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü‡•á‡§°',\n    'features.encrypted.description': '‡§∏‡•à‡§®‡•ç‡§Ø-‡§ó‡•ç‡§∞‡•á‡§° AES ‡§è‡§®‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§∂‡§® ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡•á‡§Ç ‡§∏‡§¨‡§Æ‡§ø‡§∂‡§® ‡§∏‡•á ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§§‡§ï ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡•á‡§Ç‡•§',\n    'features.blockchain.title': '‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§',\n    'features.blockchain.description': '‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§™‡§∞ ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π‡•Ä‡§§ ‡§Ö‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§®‡•Ä‡§Ø ‡§∏‡§¨‡§Æ‡§ø‡§∂‡§® ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§õ‡•á‡§°‡§º‡§õ‡§æ‡§°‡§º ‡§ï‡•ã ‡§∞‡•ã‡§ï‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§',\n    'impact.title': '‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ ‡§ï‡§π‡§æ‡§®‡§ø‡§Ø‡§æ‡§Ç',\n    'emergency': '‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤',\n    'report.title': '‡§Ö‡§™‡§®‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç',\n    'report.description': '‡§Ü‡§™‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§™‡•Ç‡§∞‡•ç‡§£‡§§‡§É ‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ ‡§∞‡§π‡§§‡•Ä ‡§π‡•à‡•§ ‡§∏‡§≠‡•Ä ‡§°‡•á‡§ü‡§æ ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡§Æ‡§ø‡§∂‡§® ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§è‡§®‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§',\n    'form.category': '‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä',\n    'form.select_category': '‡§è‡§ï ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä ‡§ö‡•Å‡§®‡•á‡§Ç...',\n    'categories.harassment': '‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§â‡§§‡•ç‡§™‡•Ä‡§°‡§º‡§®',\n    'categories.abuse': '‡§∂‡§æ‡§∞‡•Ä‡§∞‡§ø‡§ï/‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§¶‡•Å‡§∞‡•ç‡§µ‡•ç‡§Ø‡§µ‡§π‡§æ‡§∞',\n    'categories.discrimination': '‡§≠‡•á‡§¶‡§≠‡§æ‡§µ',\n    'categories.corruption': '‡§≠‡•ç‡§∞‡§∑‡•ç‡§ü‡§æ‡§ö‡§æ‡§∞',\n    'categories.safety': '‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ',\n    'categories.legal': '‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§Æ‡•Å‡§¶‡•ç‡§¶‡•á',\n    'categories.other': '‡§Ö‡§®‡•ç‡§Ø'\n  },\n  ta: {\n    'hero.title': '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡ØÅ‡Æ∞‡Æ≤‡Øç, ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æ™‡Øç‡Æ™‡ØÅ',\n    'hero.subtitle': '‡ÆÆ‡ØÅ‡Æ±‡Øç‡Æ±‡Æø‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ®‡Ææ‡ÆÆ‡Æ§‡Øá‡ÆØ',\n    'hero.description': '‡Æ™‡ØÇ‡Æú‡Øç‡ÆØ-‡ÆÖ‡Æ±‡Æø‡Æµ‡ØÅ ‡Æ§‡Æ©‡Æø‡ÆØ‡ØÅ‡Æ∞‡Æø‡ÆÆ‡Øà‡ÆØ‡ØÅ‡Æü‡Æ©‡Øç ‡Æâ‡Æ£‡Æ∞‡Øç‡Æ§‡Æø‡Æ±‡Æ©‡Øç ‡Æ™‡Æø‡Æ∞‡Æö‡Øç‡Æö‡Æø‡Æ©‡Øà‡Æï‡Æ≥‡Øà‡Æ™‡Øç ‡Æ™‡ØÅ‡Æï‡Ææ‡Æ∞‡Æ≥‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç. ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æü‡Øà‡ÆØ‡Ææ‡Æ≥‡ÆÆ‡Øç ‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Øã‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡ØÅ‡Æ∞‡Æ≤‡Øç ‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡Æ§‡Øç‡Æ§‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ‡•§',\n    'emergency': '‡ÆÖ‡Æµ‡Æö‡Æ∞‡Æ®‡Æø‡Æ≤‡Øà'\n  },\n  kn: {\n    'hero.title': '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø, ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≥Å‡≤∞‡≤ï‡≥ç‡≤∑‡≤§‡≥Ü',\n    'hero.subtitle': '‡≤∏‡≤Ç‡≤™‡≥Ç‡≤∞‡≥ç‡≤£‡≤µ‡≤æ‡≤ó‡≤ø ‡≤Ö‡≤ú‡≥ç‡≤û‡≤æ‡≤§',\n    'hero.description': '‡≤∂‡≥Ç‡≤®‡≥ç‡≤Ø-‡≤ú‡≥ç‡≤û‡≤æ‡≤® ‡≤ó‡≥å‡≤™‡≥ç‡≤Ø‡≤§‡≥Ü‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤∏‡≥Ç‡≤ï‡≥ç‡≤∑‡≥ç‡≤Æ ‡≤∏‡≤Æ‡≤∏‡≥ç‡≤Ø‡≥Ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤∞‡≤¶‡≤ø ‡≤Æ‡≤æ‡≤°‡≤ø. ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ó‡≥Å‡≤∞‡≥Å‡≤§‡≥Å ‡≤∏‡≥Å‡≤∞‡≤ï‡≥ç‡≤∑‡≤ø‡≤§‡≤µ‡≤æ‡≤ó‡≤ø‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‡≤Ü‡≤¶‡≤∞‡≥Ü ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤¨‡≤¶‡≤≤‡≤æ‡≤µ‡≤£‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥É‡≤∑‡≥ç‡≤ü‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü‡•§',\n    'emergency': '‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å‡≤∏‡≥ç‡≤•‡≤ø‡≤§‡≤ø'\n  },\n  ur: {\n    'hero.title': 'ÿ¢Ÿæ ⁄©€å ÿ¢Ÿàÿßÿ≤ÿå ÿ¢Ÿæ ⁄©€å ÿ≠ŸÅÿßÿ∏ÿ™',\n    'hero.subtitle': 'ŸÖ⁄©ŸÖŸÑ ÿ∑Ÿàÿ± Ÿæÿ± ⁄ØŸÖŸÜÿßŸÖ',\n    'hero.description': 'ÿµŸÅÿ±-ÿπŸÑŸÖ ÿ±ÿßÿ≤ÿØÿßÿ±€å ⁄©€í ÿ≥ÿßÿ™⁄æ ÿ≠ÿ≥ÿßÿ≥ ŸÖÿ≥ÿßÿ¶ŸÑ ⁄©€å ÿ±ŸæŸàÿ±Ÿπ ⁄©ÿ±€å⁄∫€î ÿ¢Ÿæ ⁄©€å ÿ¥ŸÜÿßÿÆÿ™ ŸÖÿ≠ŸÅŸàÿ∏ ÿ±€Åÿ™€å €Å€í ÿ¨ÿ®⁄©€Å ÿ¢Ÿæ ⁄©€å ÿ¢Ÿàÿßÿ≤ ÿ™ÿ®ÿØ€åŸÑ€å ŸÑÿßÿ™€å €Å€í€î',\n    'emergency': '€ÅŸÜ⁄ØÿßŸÖ€å ÿ≠ÿßŸÑÿßÿ™'\n  }\n};\n\nexport function useTranslations() {\n  const currentLanguage = localStorage.getItem('speaksecure-language') || 'en';\n  \n  const t = (key: string): string => {\n    const keys = key.split('.');\n    let value: any = translations[currentLanguage];\n    \n    for (const k of keys) {\n      if (value && typeof value === 'object') {\n        value = value[k];\n      } else {\n        break;\n      }\n    }\n    \n    // Fallback to English if translation not found\n    if (typeof value !== 'string') {\n      let fallback: any = translations.en;\n      for (const k of keys) {\n        if (fallback && typeof fallback === 'object') {\n          fallback = fallback[k];\n        } else {\n          break;\n        }\n      }\n      return typeof fallback === 'string' ? fallback : key;\n    }\n    \n    return value;\n  };\n\n  return { t, currentLanguage };\n}\n\nexport const supportedLanguages = [\n  { code: 'en', name: 'English', flag: 'üá∫üá∏' },\n  { code: 'hi', name: '‡§π‡§ø‡§Ç‡§¶‡•Ä', flag: 'üáÆüá≥' },\n  { code: 'ta', name: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', flag: 'üáÆüá≥' },\n  { code: 'kn', name: '‡≤ï‡≤®‡≥ç‡≤®‡≤°', flag: 'üáÆüá≥' },\n  { code: 'ur', name: 'ÿßÿ±ÿØŸà', flag: 'üáµüá∞' },\n];\n","size_bytes":11748},"attached_assets/utils_1754630890845.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"attached_assets/vite.config_1754630683846.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":971},"attached_assets/vite_1754630720614.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"attached_assets/voice_1754630890846.ts":{"content":"// Voice recognition and processing\n\nexport interface VoiceRecognitionConfig {\n  language?: string;\n  continuous?: boolean;\n  interimResults?: boolean;\n  maxAlternatives?: number;\n}\n\nexport interface VoiceRecognitionResult {\n  transcript: string;\n  confidence: number;\n  isFinal: boolean;\n}\n\n// Check if speech recognition is supported\nexport function isSpeechRecognitionSupported(): boolean {\n  return 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window;\n}\n\n// Create speech recognition instance\nexport function createSpeechRecognition(\n  config: VoiceRecognitionConfig = {}\n): any {\n  if (!isSpeechRecognitionSupported()) {\n    throw new Error('Speech recognition not supported in this browser');\n  }\n\n  const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\n  const recognition = new SpeechRecognition();\n\n  // Configure recognition\n  recognition.lang = config.language || 'en-US';\n  recognition.continuous = config.continuous ?? true;\n  recognition.interimResults = config.interimResults ?? true;\n  recognition.maxAlternatives = config.maxAlternatives || 1;\n\n  return recognition;\n}\n\n// Convert speech to text\nexport async function speechToText(\n  config: VoiceRecognitionConfig = {}\n): Promise<string> {\n  return new Promise((resolve, reject) => {\n    try {\n      const recognition = createSpeechRecognition(config);\n      let finalTranscript = '';\n\n      recognition.onstart = () => {\n        console.log('Speech recognition started');\n      };\n\n      recognition.onresult = (event: any) => {\n        let interimTranscript = '';\n        \n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          const transcript = event.results[i][0].transcript;\n          \n          if (event.results[i].isFinal) {\n            finalTranscript += transcript + ' ';\n          } else {\n            interimTranscript += transcript;\n          }\n        }\n      };\n\n      recognition.onend = () => {\n        resolve(finalTranscript.trim());\n      };\n\n      recognition.onerror = (event: any) => {\n        reject(new Error(`Speech recognition error: ${event.error}`));\n      };\n\n      recognition.start();\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n\n// Multi-language support\nexport const supportedLanguages = [\n  { code: 'en-US', name: 'English (US)' },\n  { code: 'hi-IN', name: 'Hindi (India)' },\n  { code: 'ta-IN', name: 'Tamil (India)' },\n  { code: 'kn-IN', name: 'Kannada (India)' },\n  { code: 'ur-PK', name: 'Urdu (Pakistan)' },\n];\n\n// Get language from locale\nexport function getLanguageFromLocale(locale: string): string {\n  const languageMap: Record<string, string> = {\n    'en': 'en-US',\n    'hi': 'hi-IN',\n    'ta': 'ta-IN',\n    'kn': 'kn-IN',\n    'ur': 'ur-PK',\n  };\n  \n  return languageMap[locale] || 'en-US';\n}\n\n// Text-to-speech for accessibility\nexport function textToSpeech(text: string, language: string = 'en-US'): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (!('speechSynthesis' in window)) {\n      reject(new Error('Text-to-speech not supported'));\n      return;\n    }\n\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.lang = language;\n    utterance.rate = 0.8;\n    utterance.pitch = 1;\n    utterance.volume = 0.8;\n\n    utterance.onend = () => resolve();\n    utterance.onerror = (error) => reject(error);\n\n    speechSynthesis.speak(utterance);\n  });\n}\n","size_bytes":3408},"attached_assets/zk-identity_1754630830173.ts":{"content":"import crypto from 'crypto';\nimport { ZkIdentity } from '@shared/schema';\n\nexport interface ZKProof {\n  proof: string;\n  publicSignals: string[];\n  nullifierHash: string;\n}\n\nexport interface ZKIdentityData {\n  commitment: string;\n  nullifierHash: string;\n  trapdoor: string;\n  nullifier: string;\n  groupId: string;\n}\n\nexport class ZkIdentityService {\n  async generateIdentity(groupId = 'speaksecure-v1'): Promise<ZKIdentityData> {\n    try {\n      // Generate cryptographic parameters\n      const trapdoor = this.generateRandomField();\n      const nullifier = this.generateRandomField();\n      const commitment = await this.generateCommitment(trapdoor, nullifier);\n      const nullifierHash = await this.generateNullifierHash(nullifier, groupId);\n      \n      return {\n        commitment,\n        nullifierHash,\n        trapdoor,\n        nullifier,\n        groupId\n      };\n    } catch (error) {\n      console.error('ZK Identity generation failed:', error);\n      throw new Error('Failed to generate ZK identity');\n    }\n  }\n\n  async generateProof(\n    identity: ZkIdentity | ZKIdentityData, \n    action: string, \n    topic: string\n  ): Promise<ZKProof> {\n    try {\n      // Generate action-specific nullifier\n      const actionNullifierHash = await this.generateActionNullifierHash(\n        'nullifier' in identity ? identity.nullifier : identity.nullifierHash,\n        action,\n        topic\n      );\n      \n      // Generate ZK proof (simplified implementation)\n      const proof = await this.generateZkProofData(identity, action, topic);\n      \n      return {\n        proof,\n        publicSignals: [identity.commitment, actionNullifierHash, topic],\n        nullifierHash: actionNullifierHash,\n      };\n    } catch (error) {\n      console.error('ZK proof generation failed:', error);\n      throw new Error('Failed to generate ZK proof');\n    }\n  }\n\n  async verifyProof(proof: ZKProof, action: string, topic: string): Promise<boolean> {\n    try {\n      // In a real implementation, this would verify the ZK proof using a verifier\n      // For now, we perform basic validation\n      \n      if (!proof.proof || !proof.publicSignals || !proof.nullifierHash) {\n        return false;\n      }\n\n      // Verify public signals format\n      if (proof.publicSignals.length !== 3) {\n        return false;\n      }\n\n      // Verify nullifier hash format\n      if (!proof.nullifierHash.startsWith('0x') || proof.nullifierHash.length !== 66) {\n        return false;\n      }\n\n      return true;\n    } catch (error) {\n      console.error('ZK proof verification failed:', error);\n      return false;\n    }\n  }\n\n  private generateRandomField(): string {\n    const bytes = crypto.randomBytes(32);\n    return '0x' + bytes.toString('hex');\n  }\n\n  private async generateCommitment(trapdoor: string, nullifier: string): Promise<string> {\n    // Simplified commitment generation using hash function\n    const hash = crypto.createHash('sha256');\n    hash.update(trapdoor + nullifier);\n    return '0x' + hash.digest('hex');\n  }\n\n  private async generateNullifierHash(nullifier: string, groupId: string): Promise<string> {\n    // Generate nullifier hash\n    const hash = crypto.createHash('sha256');\n    hash.update(nullifier + groupId);\n    return '0x' + hash.digest('hex');\n  }\n\n  private async generateActionNullifierHash(\n    nullifier: string, \n    action: string, \n    topic: string\n  ): Promise<string> {\n    // Generate action-specific nullifier to prevent double-spending\n    const hash = crypto.createHash('sha256');\n    hash.update(nullifier + action + topic);\n    return '0x' + hash.digest('hex');\n  }\n\n  private async generateZkProofData(\n    identity: ZkIdentity | ZKIdentityData, \n    action: string, \n    topic: string\n  ): Promise<string> {\n    // Simplified proof generation\n    // In a real implementation, this would use circom/snarkjs\n    const hash = crypto.createHash('sha256');\n    hash.update(identity.commitment + action + topic + Date.now().toString());\n    return '0x' + hash.digest('hex');\n  }\n\n  async generateMerkleProof(commitment: string): Promise<any> {\n    // Simplified Merkle proof generation\n    return {\n      root: this.generateRandomField(),\n      siblings: [],\n      pathIndices: [],\n    };\n  }\n}\n","size_bytes":4211},"attached_assets/zk-identity_1754630890846.ts":{"content":"import { apiRequest } from \"./queryClient\";\n\nexport interface ZkIdentity {\n  commitment: string;\n  nullifierHash: string;\n  trapdoor: string;\n  nullifier: string;\n  groupId: string;\n  isValid: boolean;\n}\n\nexport interface ZkProof {\n  proof: string;\n  publicSignals: string[];\n  nullifierHash: string;\n}\n\nexport async function generateZkIdentity(): Promise<ZkIdentity> {\n  try {\n    console.log('üîê Generating Zero-Knowledge Identity...');\n    \n    const response = await apiRequest(\"POST\", \"/api/zk/identity\", {});\n    const data = await response.json();\n    \n    if (!data.success) {\n      throw new Error(\"Failed to generate ZK identity\");\n    }\n\n    // Generate client-side components\n    const trapdoor = generateRandomField();\n    const nullifier = generateRandomField();\n    const groupId = \"speaksecure-v1\";\n    \n    const identity: ZkIdentity = {\n      commitment: data.commitment,\n      nullifierHash: generateNullifierHash(nullifier, groupId),\n      trapdoor,\n      nullifier,\n      groupId,\n      isValid: true\n    };\n\n    console.log('‚úÖ ZK Identity Generated Successfully');\n    return identity;\n  } catch (error) {\n    console.error('ZK identity generation failed:', error);\n    throw new Error('Failed to generate ZK identity');\n  }\n}\n\nexport async function generateProof(\n  identity: ZkIdentity,\n  action: string,\n  topic: string\n): Promise<ZkProof> {\n  try {\n    const response = await apiRequest(\"POST\", \"/api/zk/proof\", {\n      commitment: identity.commitment,\n      action,\n      topic\n    });\n    \n    return await response.json();\n  } catch (error) {\n    console.error('ZK proof generation failed:', error);\n    throw new Error('Failed to generate ZK proof');\n  }\n}\n\nexport async function verifyNullifier(\n  commitment: string,\n  nullifierHash: string,\n  topic: string\n): Promise<boolean> {\n  try {\n    const response = await apiRequest(\"POST\", \"/api/zk/verify\", {\n      commitment,\n      nullifierHash,\n      topic\n    });\n    \n    const data = await response.json();\n    return data.success;\n  } catch (error) {\n    console.error('ZK verification failed:', error);\n    return false;\n  }\n}\n\nfunction generateRandomField(): string {\n  const bytes = new Uint8Array(32);\n  crypto.getRandomValues(bytes);\n  return \"0x\" + Array.from(bytes)\n    .map(b => b.toString(16).padStart(2, '0'))\n    .join('');\n}\n\nfunction generateNullifierHash(nullifier: string, groupId: string): string {\n  // Simplified nullifier hash generation\n  // In production, this would use proper cryptographic functions\n  return \"0x\" + Array.from(crypto.getRandomValues(new Uint8Array(32)))\n    .map(b => b.toString(16).padStart(2, '0'))\n    .join('');\n}\n","size_bytes":2646},"server/db.ts":{"content":"\nimport { drizzle } from 'drizzle-orm/neon-http';\nimport { neon } from '@neondatabase/serverless';\n\n// Initialize database connection\nlet db: ReturnType<typeof drizzle>;\n\ntry {\n  if (process.env.DATABASE_URL) {\n    const sql = neon(process.env.DATABASE_URL);\n    db = drizzle(sql);\n    console.log('‚úÖ Database connected with Neon');\n  } else {\n    // Fallback for development - create mock database interface\n    console.warn('‚ö†Ô∏è No DATABASE_URL found, using mock database');\n    const mockSql = () => Promise.resolve([]);\n    db = {\n      select: () => ({\n        from: () => ({\n          where: () => ({\n            orderBy: () => ({\n              limit: () => ({\n                offset: () => Promise.resolve([])\n              })\n            })\n          })\n        })\n      }),\n      insert: () => ({\n        values: () => ({\n          returning: () => Promise.resolve([{\n            id: Math.floor(Math.random() * 1000),\n            referenceId: 'MOCK_' + Date.now().toString(36).toUpperCase(),\n            status: 'submitted',\n            submittedAt: new Date(),\n            updatedAt: new Date()\n          }])\n        })\n      }),\n      update: () => ({\n        set: () => ({\n          where: () => ({\n            returning: () => Promise.resolve([])\n          })\n        })\n      })\n    } as any;\n  }\n} catch (error) {\n  console.error('‚ùå Database connection failed:', error);\n  throw new Error('Database initialization failed');\n}\n\nexport { db };\n","size_bytes":1464},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { resolve } from 'path'; // Import 'resolve' from 'path'\n\nconst app = express();\n\n// Middleware\napp.use(express.json({ limit: '50mb' }));\napp.use(express.urlencoded({ extended: false, limit: '50mb' }));\n\n// CORS headers for development\napp.use((req, res, next) => {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, PATCH, OPTIONS');\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, Authorization');\n\n  if (req.method === 'OPTIONS') {\n    res.sendStatus(200);\n  } else {\n    next();\n  }\n});\n\n// Request logging middleware\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        const responsePreview = JSON.stringify(capturedJsonResponse).substring(0, 100);\n        logLine += ` :: ${responsePreview}${responsePreview.length >= 100 ? '...' : ''}`;\n      }\n\n      if (logLine.length > 120) {\n        logLine = logLine.slice(0, 119) + \"‚Ä¶\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n// Initialize database and services\n(async () => {\n  try {\n    // Import and initialize database\n    const { db } = await import(\"./db\");\n    console.log('‚úÖ Database connection established');\n\n    // Initialize services\n    const { ipfsService } = await import(\"./services/ipfs\");\n    const { blockchainService } = await import(\"./services/blockchain\");\n    \n    await ipfsService.initialize();\n    await blockchainService.initialize();\n\n    // Register API routes\n    const server = await registerRoutes(app);\n\n    // Global error handler\n    app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n      const status = err.status || err.statusCode || 500;\n      const message = err.message || \"Internal Server Error\";\n\n      console.error('‚ùå Server error:', err);\n\n      res.status(status).json({\n        success: false,\n        error: message,\n        timestamp: new Date().toISOString()\n      });\n    });\n\n    // 404 handler for API routes\n    app.use('/api/*', (_req: Request, res: Response) => {\n      res.status(404).json({\n        success: false,\n        error: 'API endpoint not found',\n        timestamp: new Date().toISOString()\n      });\n    });\n\n    // Setup Vite in development or serve static files in production\n    if (app.get(\"env\") === \"development\") {\n      // Setup Vite middleware\n      await setupVite(app, server);\n    } else {\n      serveStatic(app);\n    }\n\n    // Start server\n    const port = parseInt(process.env.PORT || '5000', 10);\n    server.listen({\n      port,\n      host: \"0.0.0.0\",\n      reusePort: true,\n    }, () => {\n      log(`üöÄ SpeakSecure server running on port ${port}`);\n      log(`üì° API endpoints available at http://localhost:${port}/api`);\n      log(`üîå WebSocket server available at ws://localhost:${port}/ws`);\n      log(`üîê Zero-Knowledge Identity service: ACTIVE`);\n      log(`üîí Encryption service: ACTIVE`);\n      log(`üìÅ IPFS storage service: ${process.env.IPFS_API_URL ? 'CONNECTED' : 'FALLBACK'}`);\n      log(`‚õìÔ∏è  Blockchain service: ${process.env.BLOCKCHAIN_RPC_URL ? 'CONNECTED' : 'FALLBACK'}`);\n      log(`üö® Emergency service: ACTIVE`);\n      log(`üåê Multi-language support: ACTIVE`);\n    });\n\n  } catch (error) {\n    console.error('üí• Failed to start server:', error);\n    process.exit(1);\n  }\n})();","size_bytes":4004},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { WebSocketServer, WebSocket } from \"ws\";\nimport complaintsRouter from \"./routes/complaints.js\";\nimport zkIdentityRouter from \"./routes/zk-identity.js\";\nimport emergencyRouter from \"./routes/emergency.js\";\nimport upvotingRouter from \"./routes/upvoting.js\";\nimport i18nRouter from \"./routes/i18n.js\";\nimport authoritiesRouter from \"./routes/authorities.js\";\nimport { ipfsService } from \"./services/ipfs.js\";\nimport { blockchainService } from \"./services/blockchain.js\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Health check endpoint\n  app.get(\"/api/health\", async (req, res) => {\n    try {\n      const ipfsStats = await ipfsService.getStats();\n      const blockchainStats = await blockchainService.getNetworkStats();\n\n      res.json({\n        status: \"healthy\",\n        timestamp: new Date().toISOString(),\n        version: \"1.0.0\",\n        services: {\n          database: \"connected\",\n          ipfs: ipfsStats.connected ? \"connected\" : \"fallback\",\n          blockchain: blockchainStats.connected ? \"connected\" : \"fallback\",\n          encryption: \"active\",\n          zkIdentity: \"active\",\n          emergency: \"active\"\n        }\n      });\n    } catch (error) {\n      res.status(500).json({\n        status: \"error\",\n        error: error.message\n      });\n    }\n  });\n\n  // Register route modules\n  app.use(\"/api/complaints\", complaintsRouter);\n  app.use(\"/api/zk\", zkIdentityRouter);\n  app.use(\"/api/emergency\", emergencyRouter);\n  app.use(\"/api/i18n\", i18nRouter);\n  app.use(\"/api/upvote\", upvotingRouter);\n  app.use(\"/api/authorities\", authoritiesRouter);\n\n  // Create HTTP server\n  const httpServer = createServer(app);\n\n  // Add WebSocket server for real-time notifications\n  const wss = new WebSocketServer({\n    server: httpServer,\n    path: '/ws'\n  });\n\n  // WebSocket connection handling\n  wss.on('connection', (ws: WebSocket, req) => {\n    console.log('üîå WebSocket client connected');\n\n    // Send welcome message\n    ws.send(JSON.stringify({\n      type: 'welcome',\n      message: 'Connected to SpeakSecure real-time service',\n      timestamp: Date.now()\n    }));\n\n    // Handle client messages\n    ws.on('message', (data) => {\n      try {\n        const message = JSON.parse(data.toString());\n        console.log('üì® WebSocket message received:', message.type);\n\n        // Handle different message types\n        switch (message.type) {\n          case 'ping':\n            ws.send(JSON.stringify({ type: 'pong', timestamp: Date.now() }));\n            break;\n          case 'subscribe':\n            // Handle subscription to updates\n            ws.send(JSON.stringify({\n              type: 'subscribed',\n              channel: message.channel,\n              timestamp: Date.now()\n            }));\n            break;\n          default:\n            ws.send(JSON.stringify({\n              type: 'error',\n              message: 'Unknown message type',\n              timestamp: Date.now()\n            }));\n        }\n      } catch (error) {\n        console.error('WebSocket message error:', error);\n        ws.send(JSON.stringify({\n          type: 'error',\n          message: 'Invalid message format',\n          timestamp: Date.now()\n        }));\n      }\n    });\n\n    // Handle client disconnect\n    ws.on('close', () => {\n      console.log('üîå WebSocket client disconnected');\n    });\n\n    // Handle errors\n    ws.on('error', (error) => {\n      console.error('WebSocket error:', error);\n    });\n  });\n\n  // Broadcast function for real-time updates\n  const broadcast = (message: any) => {\n    wss.clients.forEach((client) => {\n      if (client.readyState === WebSocket.OPEN) {\n        client.send(JSON.stringify(message));\n      }\n    });\n  };\n\n  // Add broadcast to app for use in routes\n  app.set('broadcast', broadcast);\n\n  console.log('‚úÖ All routes registered successfully');\n  console.log('üîå WebSocket server ready on /ws');\n\n  return httpServer;\n}","size_bytes":3997},"server/storage.ts":{"content":"import {\n  users,\n  zkIdentities,\n  complaints,\n  upvotes,\n  emergencyAlerts,\n  nullifierTracker,\n  type User,\n  type InsertUser,\n  type ZkIdentity,\n  type InsertZkIdentity,\n  type Complaint,\n  type InsertComplaint,\n  type Upvote,\n  type InsertUpvote,\n  type EmergencyAlert,\n  type InsertEmergencyAlert,\n  type NullifierTracker\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, and, desc, sql } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User methods\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n\n  // ZK Identity methods\n  createZkIdentity(identity: InsertZkIdentity): Promise<ZkIdentity>;\n  getZkIdentityByCommitment(commitment: string): Promise<ZkIdentity | undefined>;\n  getZkIdentityByNullifier(nullifierHash: string): Promise<ZkIdentity | undefined>;\n\n  // Complaint methods\n  createComplaint(complaint: InsertComplaint & { referenceId: string }): Promise<Complaint>;\n  getComplaintByReferenceId(referenceId: string): Promise<Complaint | undefined>;\n  getComplaintById(id: string): Promise<Complaint | undefined>;\n  getPublicComplaints(limit?: number, offset?: number): Promise<Complaint[]>;\n  updateComplaintStatus(id: string, status: string): Promise<void>;\n  updateComplaintIPFS(id: string, ipfsHash: string): Promise<void>;\n  updateComplaintBlockchain(id: string, blockchainHash: string): Promise<void>;\n  incrementComplaintUpvotes(id: string): Promise<void>;\n\n  // Upvote methods\n  createUpvote(upvote: InsertUpvote): Promise<Upvote>;\n  getUpvoteByNullifier(nullifierHash: string): Promise<Upvote | undefined>;\n\n  // Emergency alert methods\n  createEmergencyAlert(alert: InsertEmergencyAlert): Promise<EmergencyAlert>;\n  getEmergencyAlerts(limit?: number): Promise<EmergencyAlert[]>;\n\n  // Nullifier tracking\n  addNullifier(nullifierHash: string, action: string, topic: string): Promise<void>;\n  checkNullifierUsed(nullifierHash: string, action: string, topic: string): Promise<boolean>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User methods\n  async getUser(id: string): Promise<User | undefined> {\n    try {\n      const [user] = await db.select().from(users).where(eq(users.id, id));\n      return user || undefined;\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return undefined;\n    }\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    try {\n      const [user] = await db.select().from(users).where(eq(users.username, username));\n      return user || undefined;\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return undefined;\n    }\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    try {\n      const [user] = await db\n        .insert(users)\n        .values(insertUser)\n        .returning();\n      return user;\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return {\n        id: `user_${Date.now()}`,\n        username: insertUser.username,\n        password: insertUser.password,\n        createdAt: new Date(),\n      };\n    }\n  }\n\n  // ZK Identity methods\n  async createZkIdentity(identity: InsertZkIdentity): Promise<ZkIdentity> {\n    try {\n      const [zkIdentity] = await db\n        .insert(zkIdentities)\n        .values(identity)\n        .returning();\n      return zkIdentity;\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return {\n        id: `zk_${Date.now()}`,\n        commitment: identity.commitment,\n        nullifierHash: identity.nullifierHash,\n        groupId: identity.groupId || \"speaksecure-v1\",\n        isValid: true,\n        createdAt: new Date(),\n      };\n    }\n  }\n\n  async getZkIdentityByCommitment(commitment: string): Promise<ZkIdentity | undefined> {\n    try {\n      const identities = await db\n        .select()\n        .from(zkIdentities)\n        .where(eq(zkIdentities.commitment, commitment));\n      const identity = identities[0];\n      return identity || undefined;\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return undefined;\n    }\n  }\n\n  async getZkIdentityByNullifier(nullifierHash: string): Promise<ZkIdentity | undefined> {\n    try {\n      const identities = await db\n        .select()\n        .from(zkIdentities)\n        .where(eq(zkIdentities.nullifierHash, nullifierHash));\n      const identity = identities[0];\n      return identity || undefined;\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return undefined;\n    }\n  }\n\n  // Complaint methods\n  async createComplaint(complaint: InsertComplaint & { referenceId: string }): Promise<Complaint> {\n    try {\n      const [newComplaint] = await db\n        .insert(complaints)\n        .values(complaint)\n        .returning();\n      return newComplaint;\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return {\n        id: parseInt(`${Date.now()}`),\n        referenceId: complaint.referenceId,\n        topic: complaint.topic,\n        description: complaint.description,\n        location: complaint.location || null,\n        status: 'submitted',\n        priority: complaint.priority || 'medium',\n        isPublic: complaint.isPublic || false,\n        emergencyContact: complaint.emergencyContact || null,\n        ipfsHash: complaint.ipfsHash || null,\n        blockchainHash: complaint.blockchainHash || null,\n        zkProof: complaint.zkProof || null,\n        upvotes: 0,\n        submittedAt: new Date(),\n        updatedAt: new Date(),\n      };\n    }\n  }\n\n  async getComplaintByReferenceId(referenceId: string): Promise<Complaint | undefined> {\n    try {\n      const [complaint] = await db\n        .select()\n        .from(complaints)\n        .where(eq(complaints.referenceId, referenceId));\n      return complaint || undefined;\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return undefined;\n    }\n  }\n\n  async getComplaintById(id: string): Promise<Complaint | undefined> {\n    try {\n      const [complaint] = await db\n        .select()\n        .from(complaints)\n        .where(parseInt(id) ? eq(complaints.id, parseInt(id)) : eq(complaints.referenceId, id));\n      return complaint || undefined;\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return undefined;\n    }\n  }\n\n  async getPublicComplaints(limit = 20, offset = 0): Promise<Complaint[]> {\n    try {\n      return await db\n        .select()\n        .from(complaints)\n        .where(eq(complaints.isPublic, true))\n        .orderBy(desc(complaints.submittedAt))\n        .limit(limit)\n        .offset(offset);\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n      return [];\n    }\n  }\n\n  async updateComplaintStatus(id: string, status: string): Promise<void> {\n    try {\n      await db\n        .update(complaints)\n        .set({\n          status,\n          updatedAt: new Date()\n        })\n        .where(parseInt(id) ? eq(complaints.id, parseInt(id)) : eq(complaints.referenceId, id));\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n    }\n  }\n\n  async updateComplaintIPFS(id: string, ipfsHash: string): Promise<void> {\n    try {\n      await db\n        .update(complaints)\n        .set({\n          ipfsHash,\n          updatedAt: new Date()\n        })\n        .where(parseInt(id) ? eq(complaints.id, parseInt(id)) : eq(complaints.referenceId, id));\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n    }\n  }\n\n  async updateComplaintBlockchain(id: string, blockchainHash: string): Promise<void> {\n    try {\n      await db\n        .update(complaints)\n        .set({\n          blockchainHash,\n          updatedAt: new Date()\n        })\n        .where(parseInt(id) ? eq(complaints.id, parseInt(id)) : eq(complaints.referenceId, id));\n    } catch (error) {\n      console.warn('Database operation failed, using mock data:', error);\n    }\n  }\n\n  async incrementComplaintUpvotes(id: string): Promise<void> {\n    await db\n      .update(complaints)\n      .set({\n        upvotes: sql`${complaints.upvotes} + 1`,\n        updatedAt: new Date()\n      })\n      .where(eq(complaints.id, id));\n  }\n\n  // Upvote methods\n  async createUpvote(upvote: InsertUpvote): Promise<Upvote> {\n    const [newUpvote] = await db\n      .insert(upvotes)\n      .values(upvote)\n      .returning();\n    return newUpvote;\n  }\n\n  async getUpvoteByNullifier(nullifierHash: string): Promise<Upvote | undefined> {\n    const [upvote] = await db\n      .select()\n      .from(upvotes)\n      .where(eq(upvotes.nullifierHash, nullifierHash));\n    return upvote || undefined;\n  }\n\n  // Emergency alert methods\n  async createEmergencyAlert(alert: InsertEmergencyAlert): Promise<EmergencyAlert> {\n    const [newAlert] = await db\n      .insert(emergencyAlerts)\n      .values(alert)\n      .returning();\n    return newAlert;\n  }\n\n  async getEmergencyAlerts(limit = 50): Promise<EmergencyAlert[]> {\n    return await db\n      .select()\n      .from(emergencyAlerts)\n      .orderBy(desc(emergencyAlerts.createdAt))\n      .limit(limit);\n  }\n\n  // Nullifier tracking\n  async addNullifier(nullifierHash: string, action: string, topic: string): Promise<void> {\n    await db\n      .insert(nullifierTracker)\n      .values({\n        nullifierHash,\n        action,\n        topic\n      });\n  }\n\n  async checkNullifierUsed(nullifierHash: string, action: string, topic: string): Promise<boolean> {\n    const [existing] = await db\n      .select()\n      .from(nullifierTracker)\n      .where(\n        and(\n          eq(nullifierTracker.nullifierHash, nullifierHash),\n          eq(nullifierTracker.action, action),\n          eq(nullifierTracker.topic, topic)\n        )\n      );\n    return !!existing;\n  }\n}\n\nexport const storage = new DatabaseStorage();","size_bytes":10085},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server): Promise<void> {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = await vite.transformIndexHtml(url, template);\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2221},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, boolean, integer, jsonb, index, serial } from \"drizzle-orm/pg-core\";\nimport { relations } from \"drizzle-orm\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const zkIdentities = pgTable(\"zk_identities\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  commitment: text(\"commitment\").notNull().unique(),\n  nullifierHash: text(\"nullifier_hash\").notNull().unique(),\n  groupId: text(\"group_id\").notNull().default(\"speaksecure-v1\"),\n  isValid: boolean(\"is_valid\").notNull().default(true),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n}, (table) => ({\n  commitmentIdx: index(\"commitment_idx\").on(table.commitment),\n  nullifierIdx: index(\"nullifier_idx\").on(table.nullifierHash),\n}));\n\nexport const complaints = pgTable('complaints', {\n  id: serial('id').primaryKey(),\n  referenceId: varchar('reference_id', { length: 50 }).notNull().unique(),\n  topic: varchar('topic', { length: 100 }).notNull(),\n  description: text('description').notNull(),\n  location: text('location'),\n  status: varchar('status', { length: 50 }).default('submitted'),\n  priority: varchar('priority', { length: 20 }).default('medium'),\n  isPublic: boolean('is_public').default(false),\n  emergencyContact: varchar('emergency_contact', { length: 50 }),\n  ipfsHash: varchar('ipfs_hash', { length: 100 }),\n  blockchainHash: varchar('blockchain_hash', { length: 100 }),\n  zkProof: text('zk_proof'),\n  upvotes: integer('upvotes').default(0),\n  submittedAt: timestamp('submitted_at').defaultNow(),\n  updatedAt: timestamp('updated_at').defaultNow(),\n});\n\nexport const complaintUpdates = pgTable('complaint_updates', {\n  id: serial('id').primaryKey(),\n  complaintId: integer('complaint_id').references(() => complaints.id),\n  message: text('message').notNull(),\n  updateType: varchar('update_type', { length: 50 }).default('status_update'),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const upvotes = pgTable('upvotes', {\n  id: serial('id').primaryKey(),\n  complaintId: integer('complaint_id').references(() => complaints.id),\n  zkProof: text('zk_proof').notNull(),\n  nullifierHash: varchar('nullifier_hash', { length: 100 }).notNull().unique(),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const emergencyAlerts = pgTable('emergency_alerts', {\n  id: varchar('id').primaryKey().default(sql`gen_random_uuid()`),\n  zkCommitment: text('zk_commitment').notNull(),\n  encryptedContent: text('encrypted_content').notNull(),\n  emergencyContact: varchar('emergency_contact', { length: 50 }).notNull(),\n  location: jsonb('location'),\n  status: varchar('status', { length: 50 }).default('active'),\n  priority: varchar('priority', { length: 20 }).default('critical'),\n  ipfsHash: varchar('ipfs_hash', { length: 100 }),\n  blockchainHash: varchar('blockchain_hash', { length: 100 }),\n  responseTime: timestamp('response_time'),\n  createdAt: timestamp('created_at').defaultNow().notNull(),\n  updatedAt: timestamp('updated_at').defaultNow(),\n});\n\nexport const nullifierTracker = pgTable('nullifier_tracker', {\n  id: serial('id').primaryKey(),\n  nullifierHash: varchar('nullifier_hash', { length: 100 }).notNull(),\n  action: varchar('action', { length: 50 }).notNull(),\n  topic: varchar('topic', { length: 100 }).notNull(),\n  createdAt: timestamp('created_at').defaultNow(),\n}, (table) => ({\n  nullifierActionIdx: index('nullifier_action_idx').on(table.nullifierHash, table.action, table.topic),\n}));\n\nexport const emergencyContacts = pgTable('emergency_contacts', {\n  id: serial('id').primaryKey(),\n  contact: varchar('contact', { length: 50 }).notNull(),\n  verified: boolean('verified').default(false),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\n// Relations\nexport const complaintsRelations = relations(complaints, ({ many }) => ({\n  upvotes: many(upvotes),\n}));\n\nexport const upvotesRelations = relations(upvotes, ({ one }) => ({\n  complaint: one(complaints, {\n    fields: [upvotes.complaintId],\n    references: [complaints.id],\n  }),\n}));\n\n// Insert schemas\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport const insertZkIdentitySchema = createInsertSchema(zkIdentities).pick({\n  commitment: true,\n  nullifierHash: true,\n  groupId: true,\n});\n\nexport const insertComplaintSchema = createInsertSchema(complaints).pick({\n  referenceId: true,\n  topic: true,\n  description: true,\n  location: true,\n  priority: true,\n  isPublic: true,\n  emergencyContact: true,\n  ipfsHash: true,\n  blockchainHash: true,\n  zkProof: true,\n});\n\nexport const insertComplaintUpdateSchema = createInsertSchema(complaintUpdates).pick({\n  complaintId: true,\n  message: true,\n  updateType: true,\n});\n\nexport const insertUpvoteSchema = createInsertSchema(upvotes).pick({\n  complaintId: true,\n  zkProof: true,\n  nullifierHash: true,\n});\n\nexport const insertEmergencyContactSchema = createInsertSchema(emergencyContacts).pick({\n  contact: true,\n  verified: true,\n});\n\nexport const insertEmergencyAlertSchema = createInsertSchema(emergencyAlerts).pick({\n  zkCommitment: true,\n  encryptedContent: true,\n  emergencyContact: true,\n  location: true,\n  priority: true,\n  ipfsHash: true,\n  blockchainHash: true,\n});\n\nexport const insertNullifierTrackerSchema = createInsertSchema(nullifierTracker).pick({\n  nullifierHash: true,\n  action: true,\n  topic: true,\n});\n\n// Types\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\nexport type InsertZkIdentity = z.infer<typeof insertZkIdentitySchema>;\nexport type ZkIdentity = typeof zkIdentities.$inferSelect;\n\nexport type InsertComplaint = z.infer<typeof insertComplaintSchema>;\nexport type Complaint = typeof complaints.$inferSelect;\n\nexport type InsertComplaintUpdate = z.infer<typeof insertComplaintUpdateSchema>;\nexport type ComplaintUpdate = typeof complaintUpdates.$inferSelect;\n\nexport type InsertUpvote = z.infer<typeof insertUpvoteSchema>;\nexport type Upvote = typeof upvotes.$inferSelect;\n\nexport type InsertEmergencyContact = z.infer<typeof insertEmergencyContactSchema>;\nexport type EmergencyContact = typeof emergencyContacts.$inferSelect;\n\nexport type InsertEmergencyAlert = z.infer<typeof insertEmergencyAlertSchema>;\nexport type EmergencyAlert = typeof emergencyAlerts.$inferSelect;\n\nexport type InsertNullifierTracker = z.infer<typeof insertNullifierTrackerSchema>;\nexport type NullifierTracker = typeof nullifierTracker.$inferSelect;","size_bytes":6779},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { ThemeProvider } from \"@/components/theme-provider\";\nimport Header from \"@/components/header\";\nimport EmergencyModal from \"@/components/emergency-modal\";\n\nimport HomePage from \"@/pages/home\";\nimport ReportPage from \"@/pages/report\";\nimport StatusPage from \"@/pages/status\";\nimport PublicFeedPage from \"@/pages/public-feed\";\nimport AdminPage from \"@/pages/admin\";\nimport NgoPage from \"@/pages/ngo\";\nimport AnalyticsPage from \"@/pages/analytics\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900\">\n      <Header />\n      <Switch>\n        <Route path=\"/\" component={HomePage} />\n        <Route path=\"/report\" component={ReportPage} />\n        <Route path=\"/status\" component={StatusPage} />\n        <Route path=\"/community\" component={PublicFeedPage} />\n        <Route path=\"/admin\" component={AdminPage} />\n        <Route path=\"/ngo\" component={NgoPage} />\n        <Route path=\"/analytics\" component={AnalyticsPage} />\n        <Route component={NotFound} />\n      </Switch>\n      <EmergencyModal />\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider>\n        <TooltipProvider>\n          <Toaster />\n          <Router />\n        </TooltipProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":1727},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --background: hsl(0, 0%, 100%);\n  --foreground: hsl(20, 14.3%, 4.1%);\n  --muted: hsl(60, 4.8%, 95.9%);\n  --muted-foreground: hsl(25, 5.3%, 44.7%);\n  --popover: hsl(0, 0%, 100%);\n  --popover-foreground: hsl(20, 14.3%, 4.1%);\n  --card: hsl(0, 0%, 100%);\n  --card-foreground: hsl(20, 14.3%, 4.1%);\n  --border: hsl(20, 5.9%, 90%);\n  --input: hsl(20, 5.9%, 90%);\n  --primary: hsl(221, 83%, 53%);\n  --primary-foreground: hsl(210, 40%, 98%);\n  --secondary: hsl(260, 84%, 60%);\n  --secondary-foreground: hsl(260, 100%, 99%);\n  --accent: hsl(60, 4.8%, 95.9%);\n  --accent-foreground: hsl(24, 9.8%, 10%);\n  --destructive: hsl(0, 84.2%, 60.2%);\n  --destructive-foreground: hsl(60, 9.1%, 97.8%);\n  --ring: hsl(20, 14.3%, 4.1%);\n  --radius: 0.5rem;\n  \n  /* Custom SpeakSecure colors */\n  --primary-50: hsl(220, 100%, 97%);\n  --primary-500: hsl(221, 83%, 53%);\n  --primary-600: hsl(221, 83%, 45%);\n  --primary-700: hsl(221, 83%, 38%);\n  \n  --secondary-500: hsl(260, 84%, 60%);\n  --secondary-600: hsl(260, 84%, 52%);\n  \n  --success-500: hsl(142, 76%, 36%);\n  --success-600: hsl(142, 76%, 30%);\n  \n  --emergency-500: hsl(0, 84%, 60%);\n  --emergency-600: hsl(0, 84%, 52%);\n}\n\n.dark {\n  --background: hsl(240, 10%, 3.9%);\n  --foreground: hsl(0, 0%, 98%);\n  --muted: hsl(240, 3.7%, 15.9%);\n  --muted-foreground: hsl(240, 5%, 64.9%);\n  --popover: hsl(240, 10%, 3.9%);\n  --popover-foreground: hsl(0, 0%, 98%);\n  --card: hsl(240, 10%, 3.9%);\n  --card-foreground: hsl(0, 0%, 98%);\n  --border: hsl(240, 3.7%, 15.9%);\n  --input: hsl(240, 3.7%, 15.9%);\n  --primary: hsl(221, 83%, 53%);\n  --primary-foreground: hsl(210, 40%, 98%);\n  --secondary: hsl(260, 84%, 60%);\n  --secondary-foreground: hsl(260, 100%, 99%);\n  --accent: hsl(240, 3.7%, 15.9%);\n  --accent-foreground: hsl(0, 0%, 98%);\n  --destructive: hsl(0, 62.8%, 30.6%);\n  --destructive-foreground: hsl(0, 0%, 98%);\n  --ring: hsl(240, 4.9%, 83.9%);\n  --radius: 0.5rem;\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    font-family: 'Inter', system-ui, sans-serif;\n  }\n}\n\n@layer components {\n  .gradient-bg {\n    background: linear-gradient(135deg, hsl(220, 100%, 97%) 0%, hsl(0, 0%, 100%) 50%, hsl(260, 100%, 97%) 100%);\n  }\n  \n  .dark .gradient-bg {\n    background: linear-gradient(135deg, hsl(240, 10%, 3.9%) 0%, hsl(240, 3.7%, 15.9%) 50%, hsl(240, 10%, 3.9%) 100%);\n  }\n  \n  .pulse-emergency {\n    animation: pulse-red 2s infinite;\n  }\n  \n  @keyframes pulse-red {\n    0% {\n      box-shadow: 0 0 0 0 hsl(0, 84%, 60%, 0.7);\n    }\n    70% {\n      box-shadow: 0 0 0 10px hsl(0, 84%, 60%, 0);\n    }\n    100% {\n      box-shadow: 0 0 0 0 hsl(0, 84%, 60%, 0);\n    }\n  }\n\n  .line-clamp-3 {\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n  \n  .high-contrast {\n    filter: contrast(150%) brightness(110%);\n  }\n  \n  .security-gradient {\n    background: linear-gradient(135deg, hsl(221, 83%, 53%) 0%, hsl(260, 84%, 60%) 100%);\n  }\n  \n  .success-gradient {\n    background: linear-gradient(135deg, hsl(142, 76%, 36%) 0%, hsl(160, 84%, 39%) 100%);\n  }\n  \n  .emergency-gradient {\n    background: linear-gradient(135deg, hsl(0, 84%, 60%) 0%, hsl(15, 84%, 60%) 100%);\n  }\n}\n\n/* Dark mode scrollbar */\n::-webkit-scrollbar {\n  width: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: hsl(60, 4.8%, 95.9%);\n}\n\n.dark ::-webkit-scrollbar-track {\n  background: hsl(240, 3.7%, 15.9%);\n}\n\n::-webkit-scrollbar-thumb {\n  background: hsl(25, 5.3%, 44.7%);\n  border-radius: 4px;\n}\n\n.dark ::-webkit-scrollbar-thumb {\n  background: hsl(240, 5%, 64.9%);\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: hsl(25, 5.3%, 35%);\n}\n\n.dark ::-webkit-scrollbar-thumb:hover {\n  background: hsl(240, 5%, 74.9%);\n}\n","size_bytes":3819},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { initReactI18next } from \"react-i18next\";\nimport i18n from \"i18next\";\nimport { translations } from \"./lib/i18n\";\n\n// Initialize i18next\ni18n\n  .use(initReactI18next)\n  .init({\n    resources: Object.keys(translations).reduce((acc, lang) => {\n      acc[lang] = { translation: translations[lang] };\n      return acc;\n    }, {} as any),\n    lng: \"en\",\n    fallbackLng: \"en\",\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);","size_bytes":595},"server/routes/complaints.ts":{"content":"import { Router } from 'express';\nimport { z } from 'zod';\nimport { complaintService } from '../services/complaint.js';\nimport { emergencyService } from '../services/emergency.js';\n\nconst router = Router();\n\n// Create complaint\nrouter.post('/', async (req, res) => {\n  try {\n    const complaintSchema = z.object({\n      topic: z.string().min(1, 'Topic is required'),\n      description: z.string().min(10, 'Description must be at least 10 characters'),\n      location: z.string().optional(),\n      urgency: z.enum(['low', 'medium', 'high', 'critical']),\n      isPublic: z.boolean().optional(),\n      emergencyContact: z.string().optional(),\n      zkProof: z.string().optional()\n    });\n\n    const validationResult = complaintSchema.safeParse(req.body);\n    if (!validationResult.success) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid complaint data',\n        details: validationResult.error.errors\n      });\n    }\n\n    const complaintData = validationResult.data;\n\n    // Handle emergency cases\n    if (complaintData.urgency === 'critical' && complaintData.emergencyContact) {\n      await emergencyService.triggerEmergencyAlert({\n        message: `Critical complaint: ${complaintData.topic}`,\n        location: complaintData.location,\n        urgency: 'critical',\n        contact: complaintData.emergencyContact\n      });\n    }\n\n    const complaint = await complaintService.createComplaint(complaintData);\n\n    res.status(201).json({\n      success: true,\n      data: {\n        referenceId: complaint.referenceId,\n        status: complaint.status,\n        submittedAt: complaint.submittedAt\n      }\n    });\n\n  } catch (error) {\n    console.error('Failed to create complaint:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to create complaint'\n    });\n  }\n});\n\n// Get complaints with filters\nrouter.get('/', async (req, res) => {\n  try {\n    const { topic, status, priority, isPublic, limit, offset } = req.query;\n\n    const filters = {\n      topic: topic as string,\n      status: status as string,\n      priority: priority as string,\n      isPublic: isPublic === 'true',\n      limit: parseInt(limit as string) || 20,\n      offset: parseInt(offset as string) || 0\n    };\n\n    const complaints = await complaintService.getComplaints(filters);\n\n    res.json({\n      success: true,\n      data: complaints,\n      total: complaints.length\n    });\n\n  } catch (error) {\n    console.error('Failed to fetch complaints:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to fetch complaints'\n    });\n  }\n});\n\n// Get complaint by reference ID\nrouter.get('/:referenceId', async (req, res) => {\n  try {\n    const { referenceId } = req.params;\n\n    if (!referenceId) {\n      return res.status(400).json({\n        success: false,\n        error: 'Reference ID is required'\n      });\n    }\n\n    const complaint = await complaintService.getComplaintByReference(referenceId);\n\n    if (!complaint) {\n      return res.status(404).json({\n        success: false,\n        error: 'Complaint not found'\n      });\n    }\n\n    res.json({\n      success: true,\n      data: {\n        complaint,\n        updates: [] // In production, fetch actual updates\n      }\n    });\n\n  } catch (error) {\n    console.error('Failed to fetch complaint:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to fetch complaint'\n    });\n  }\n});\n\nexport default router;","size_bytes":3443},"server/routes/emergency.ts":{"content":"import { Router } from 'express';\nimport { z } from 'zod';\nimport { emergencyService } from '../services/emergency';\nimport { zkIdentityService } from '../services/zk-identity';\n\nconst router = Router();\n\n// Send emergency alert\nrouter.post('/alert', async (req, res) => {\n  try {\n    console.log('üö® Processing emergency alert...');\n    \n    const alertSchema = z.object({\n      content: z.string().min(1, 'Alert content is required'),\n      emergencyContact: z.string().min(1, 'Emergency contact is required'),\n      location: z.object({\n        latitude: z.number(),\n        longitude: z.number()\n      }).optional(),\n      zkCommitment: z.string().min(1, 'ZK commitment is required'),\n      priority: z.enum(['high', 'critical']).default('critical')\n    });\n\n    const validationResult = alertSchema.safeParse(req.body);\n    if (!validationResult.success) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid emergency alert data',\n        details: validationResult.error.errors\n      });\n    }\n\n    const alertData = validationResult.data;\n\n    // Verify ZK identity\n    const identityValid = await zkIdentityService.verifyIdentity(alertData.zkCommitment);\n    if (!identityValid) {\n      return res.status(401).json({\n        success: false,\n        error: 'Invalid zero-knowledge identity'\n      });\n    }\n\n    // Process emergency alert\n    const response = await emergencyService.sendEmergencyAlert({\n      content: alertData.content,\n      emergencyContact: alertData.emergencyContact,\n      location: alertData.location,\n      zkCommitment: alertData.zkCommitment,\n      priority: alertData.priority\n    });\n\n    console.log(`‚úÖ Emergency alert processed: ${response.alertId}`);\n\n    res.json({\n      success: true,\n      alertId: response.alertId,\n      status: response.status,\n      transactionHash: response.transactionHash,\n      ipfsHash: response.ipfsHash,\n      timestamp: response.timestamp,\n      message: 'Emergency alert sent successfully'\n    });\n\n  } catch (error) {\n    console.error('Emergency alert failed:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to send emergency alert',\n      message: error.message\n    });\n  }\n});\n\n// Test emergency system\nrouter.post('/test', async (req, res) => {\n  try {\n    console.log('üß™ Testing emergency system...');\n    \n    const testResult = await emergencyService.testEmergencySystem();\n    \n    if (testResult.success) {\n      console.log('‚úÖ Emergency system test passed');\n    } else {\n      console.log('‚ùå Emergency system test failed');\n    }\n\n    res.json({\n      success: testResult.success,\n      message: testResult.message,\n      timestamp: Date.now()\n    });\n\n  } catch (error) {\n    console.error('Emergency system test failed:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Emergency system test failed',\n      message: error.message\n    });\n  }\n});\n\n// Get emergency alerts (admin only - would need auth in production)\nrouter.get('/alerts', async (req, res) => {\n  try {\n    const limit = parseInt(req.query.limit as string) || 20;\n    \n    const alerts = await emergencyService.getEmergencyAlerts(limit);\n    \n    res.json({\n      success: true,\n      alerts,\n      count: alerts.length,\n      message: 'Emergency alerts retrieved successfully'\n    });\n\n  } catch (error) {\n    console.error('Failed to get emergency alerts:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to retrieve emergency alerts'\n    });\n  }\n});\n\n// Get emergency system status\nrouter.get('/status', async (req, res) => {\n  try {\n    // Check if emergency services are configured\n    const hasEmergencyContacts = !!(\n      process.env.EMERGENCY_CONTACT_1 || \n      process.env.EMERGENCY_CONTACT_2 || \n      process.env.EMERGENCY_CONTACT_3\n    );\n\n    const hasSMSConfig = !!(\n      process.env.TWILIO_ACCOUNT_SID && \n      process.env.TWILIO_AUTH_TOKEN\n    );\n\n    res.json({\n      success: true,\n      status: {\n        operational: true,\n        emergencyContacts: hasEmergencyContacts,\n        smsService: hasSMSConfig,\n        features: {\n          locationTracking: true,\n          blockchainLogging: true,\n          ipfsStorage: true,\n          encryption: true\n        },\n        timestamp: Date.now()\n      }\n    });\n\n  } catch (error) {\n    console.error('Failed to get emergency status:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to get emergency system status'\n    });\n  }\n});\n\n// Emergency contact validation\nrouter.post('/validate-contact', async (req, res) => {\n  try {\n    const contactSchema = z.object({\n      emergencyContact: z.string().min(1, 'Emergency contact is required')\n    });\n\n    const validationResult = contactSchema.safeParse(req.body);\n    if (!validationResult.success) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid contact data',\n        details: validationResult.error.errors\n      });\n    }\n\n    const { emergencyContact } = validationResult.data;\n\n    // Basic phone number validation\n    const phoneRegex = /^[\\+]?[1-9][\\d]{0,15}$/;\n    const isValidPhone = phoneRegex.test(emergencyContact.replace(/[\\s\\-\\(\\)]/g, ''));\n\n    res.json({\n      success: true,\n      valid: isValidPhone,\n      contact: emergencyContact,\n      message: isValidPhone ? 'Valid emergency contact' : 'Invalid phone number format'\n    });\n\n  } catch (error) {\n    console.error('Contact validation failed:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to validate emergency contact'\n    });\n  }\n});\n\nexport default router;\n","size_bytes":5635},"server/routes/i18n.ts":{"content":"import { Router } from 'express';\n\nconst router = Router();\n\nconst translations = {\n  en: {\n    'hero.title': 'Your Voice, Your Safety',\n    'hero.subtitle': 'Completely Anonymous',\n    'hero.description': 'Report sensitive issues with zero-knowledge privacy. Your identity stays protected while your voice creates change.',\n    'hero.submit_report': 'Submit Anonymous Report',\n    'hero.track_status': 'Track Status',\n    'zk.status': 'Zero-Knowledge Identity: Active',\n    'zk.active': 'Zero-Knowledge Identity Active',\n    'zk.generating': 'Generating Identity...',\n    'features.anonymous.title': '100% Anonymous',\n    'features.anonymous.description': 'Zero-knowledge proofs ensure your identity remains completely private while proving authenticity.',\n    'features.encrypted.title': 'End-to-End Encrypted',\n    'features.encrypted.description': 'Military-grade AES encryption ensures your complaints are secure from submission to resolution.',\n    'features.blockchain.title': 'Blockchain Verified',\n    'features.blockchain.description': 'Immutable proof of submission stored on blockchain prevents tampering and ensures transparency.',\n    'impact.title': 'Real Impact Stories',\n    'impact.quote': 'For the first time, I felt safe to speak.',\n    'impact.story': 'I had faced something no one should ever go through. But fear of being blamed, judged, or exposed kept me silent. Then I found SpeakSecure. It let me report everything anonymously. No one knew who I was, but someone finally listened. The NGO team took action ‚Äî and for once, I felt seen, heard, and protected.',\n    'impact.attribution': '‚Äî Anonymous Survivor, India',\n    'impact.outcome': 'Sexual assault case addressed ‚Ä¢ July 2025',\n    'emergency': 'Emergency',\n    'report.title': 'Submit Your Report',\n    'report.description': 'Your identity remains completely anonymous. All data is encrypted before transmission.',\n    'form.category': 'Complaint Category',\n    'form.select_category': 'Select a category...',\n    'categories.harassment': 'Workplace Harassment',\n    'categories.abuse': 'Physical/Mental Abuse',\n    'categories.discrimination': 'Discrimination',\n    'categories.corruption': 'Corruption',\n    'categories.safety': 'Public Safety',\n    'categories.legal': 'Legal Issues',\n    'categories.other': 'Other',\n    'app.title': 'SpeakSecure',\n    'complaint.submit': 'Submit Complaint',\n    'complaint.status': 'Check Status',\n    'complaint.topic': 'Topic',\n    'complaint.description': 'Description',\n    'complaint.location': 'Location',\n    'complaint.urgency': 'Urgency',\n    'emergency.contact': 'Emergency Contact',\n    'status.submitted': 'Submitted',\n    'status.review': 'Under Review',\n    'status.investigation': 'Under Investigation',\n    'status.resolved': 'Resolved'\n  },\n  hi: {\n    'hero.title': '‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º, ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ',\n    'hero.subtitle': '‡§™‡•Ç‡§∞‡•ç‡§£‡§§‡§É ‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ',\n    'hero.description': '‡§∂‡•Ç‡§®‡•ç‡§Ø-‡§ú‡•ç‡§û‡§æ‡§® ‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Ç‡§µ‡•á‡§¶‡§®‡§∂‡•Ä‡§≤ ‡§Æ‡•Å‡§¶‡•ç‡§¶‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§Ü‡§™‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡§§‡•Ä ‡§π‡•à ‡§ú‡§¨‡§ï‡§ø ‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§≤‡§æ‡§§‡•Ä ‡§π‡•à‡•§',\n    'hero.submit_report': '‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç',\n    'hero.track_status': '‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç',\n    'emergency': '‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤',\n    'form.category': '‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä',\n    'categories.harassment': '‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§â‡§§‡•ç‡§™‡•Ä‡§°‡§º‡§®',\n    'categories.abuse': '‡§∂‡§æ‡§∞‡•Ä‡§∞‡§ø‡§ï/‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§¶‡•Å‡§∞‡•ç‡§µ‡•ç‡§Ø‡§µ‡§π‡§æ‡§∞',\n    'categories.discrimination': '‡§≠‡•á‡§¶‡§≠‡§æ‡§µ',\n    'categories.corruption': '‡§≠‡•ç‡§∞‡§∑‡•ç‡§ü‡§æ‡§ö‡§æ‡§∞',\n    'categories.safety': '‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ',\n    'categories.legal': '‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§Æ‡•Å‡§¶‡•ç‡§¶‡•á',\n    'categories.other': '‡§Ö‡§®‡•ç‡§Ø',\n    'app.title': '‡§∏‡•ç‡§™‡•Ä‡§ï‡§∏‡§ø‡§ï‡•ç‡§Ø‡•ã‡§∞',\n    'complaint.submit': '‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç',\n    'complaint.status': '‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç',\n    'complaint.topic': '‡§µ‡§ø‡§∑‡§Ø',\n    'complaint.description': '‡§µ‡§ø‡§µ‡§∞‡§£',\n    'complaint.location': '‡§∏‡•ç‡§•‡§æ‡§®',\n    'complaint.urgency': '‡§§‡§æ‡§§‡•ç‡§ï‡§æ‡§≤‡§ø‡§ï‡§§‡§æ',\n    'emergency.contact': '‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï',\n    'status.submitted': '‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡•Å‡§§',\n    'status.review': '‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ‡§ß‡•Ä‡§®',\n    'status.investigation': '‡§ú‡§æ‡§Ç‡§ö ‡§ï‡•á ‡§§‡§π‡§§',\n    'status.resolved': '‡§π‡§≤ ‡§π‡•ã ‡§ó‡§Ø‡§æ'\n  },\n  ta: {\n    'hero.title': '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡ØÅ‡Æ∞‡Æ≤‡Øç, ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æ™‡Øç‡Æ™‡ØÅ',\n    'hero.subtitle': '‡ÆÆ‡ØÅ‡Æ±‡Øç‡Æ±‡Æø‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ®‡Ææ‡ÆÆ‡Æ§‡Øá‡ÆØ',\n    'hero.description': '‡Æ™‡ØÇ‡Æú‡Øç‡ÆØ-‡ÆÖ‡Æ±‡Æø‡Æµ‡ØÅ ‡Æ§‡Æ©‡Æø‡ÆØ‡ØÅ‡Æ∞‡Æø‡ÆÆ‡Øà‡ÆØ‡ØÅ‡Æü‡Æ©‡Øç ‡Æâ‡Æ£‡Æ∞‡Øç‡Æ§‡Æø‡Æ±‡Æ©‡Øç ‡Æ™‡Æø‡Æ∞‡Æö‡Øç‡Æö‡Æø‡Æ©‡Øà‡Æï‡Æ≥‡Øà‡Æ™‡Øç ‡Æ™‡ØÅ‡Æï‡Ææ‡Æ∞‡Æ≥‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.',\n    'emergency': '‡ÆÖ‡Æµ‡Æö‡Æ∞‡Æ®‡Æø‡Æ≤‡Øà'\n  },\n  kn: {\n    'hero.title': '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø, ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≥Å‡≤∞‡≤ï‡≥ç‡≤∑‡≤§‡≥Ü',\n    'hero.subtitle': '‡≤∏‡≤Ç‡≤™‡≥Ç‡≤∞‡≥ç‡≤£‡≤µ‡≤æ‡≤ó‡≤ø ‡≤Ö‡≤ú‡≥ç‡≤û‡≤æ‡≤§',\n    'emergency': '‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å‡≤∏‡≥ç‡≤•‡≤ø‡≤§‡≤ø'\n  },\n  ur: {\n    'hero.title': 'ÿ¢Ÿæ ⁄©€å ÿ¢Ÿàÿßÿ≤ÿå ÿ¢Ÿæ ⁄©€å ÿ≠ŸÅÿßÿ∏ÿ™',\n    'hero.subtitle': 'ŸÖ⁄©ŸÖŸÑ ÿ∑Ÿàÿ± Ÿæÿ± ⁄ØŸÖŸÜÿßŸÖ',\n    'emergency': '€ÅŸÜ⁄ØÿßŸÖ€å ÿ≠ÿßŸÑÿßÿ™'\n  }\n};\n\nconst supportedLanguages = [\n  { code: 'en', name: 'English', flag: 'üá∫üá∏' },\n  { code: 'hi', name: '‡§π‡§ø‡§Ç‡§¶‡•Ä', flag: 'üáÆüá≥' },\n  { code: 'ta', name: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', flag: 'üáÆüá≥' },\n  { code: 'kn', name: '‡≤ï‡≤®‡≥ç‡≤®‡≤°', flag: 'üáÆüá≥' },\n  { code: 'ur', name: 'ÿßÿ±ÿØŸà', flag: 'üáµüá∞' },\n];\n\n// Get translations for a specific language\nrouter.get('/:language', async (req, res) => {\n  try {\n    const { language } = req.params;\n    \n    // Check if language is supported\n    const supportedLanguageCodes = supportedLanguages.map(lang => lang.code);\n    if (!supportedLanguageCodes.includes(language)) {\n      return res.status(400).json({\n        success: false,\n        error: 'Unsupported language',\n        supportedLanguages: supportedLanguageCodes\n      });\n    }\n\n    const languageTranslations = translations[language as keyof typeof translations];\n    \n    if (!languageTranslations) {\n      // Fallback to English if language translations are not found\n      console.log(`‚ö†Ô∏è Falling back to English for language: ${language}`);\n      const englishTranslations = translations.en;\n      return res.json({\n        success: true,\n        language: 'en',\n        translations: englishTranslations,\n        message: 'Returned English translations as fallback'\n      });\n    }\n\n    console.log(`üåê Serving translations for language: ${language}`);\n\n    res.json({\n      success: true,\n      language,\n      translations: languageTranslations,\n      meta: {\n        totalKeys: Object.keys(languageTranslations).length,\n        lastUpdated: new Date().toISOString()\n      }\n    });\n\n  } catch (error) {\n    console.error('Failed to get translations:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to retrieve translations'\n    });\n  }\n});\n\n// Get all supported languages\nrouter.get('/', async (req, res) => {\n  try {\n    res.json({\n      success: true,\n      supportedLanguages,\n      defaultLanguage: 'en',\n      totalLanguages: supportedLanguages.length\n    });\n\n  } catch (error) {\n    console.error('Failed to get supported languages:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to retrieve supported languages'\n    });\n  }\n});\n\n// Get specific translation key for a language\nrouter.get('/:language/:key', async (req, res) => {\n  try {\n    const { language, key } = req.params;\n    \n    // Check if language is supported\n    const supportedLanguageCodes = supportedLanguages.map(lang => lang.code);\n    if (!supportedLanguageCodes.includes(language)) {\n      return res.status(400).json({\n        success: false,\n        error: 'Unsupported language'\n      });\n    }\n\n    let languageTranslations = translations[language as keyof typeof translations];\n    if (!languageTranslations) {\n      console.log(`‚ö†Ô∏è Falling back to English for key lookup: ${language}/${key}`);\n      languageTranslations = translations.en;\n    }\n\n    // Navigate nested keys (e.g., \"hero.title\")\n    const keys = key.split('.');\n    let value: any = languageTranslations;\n    \n    for (const k of keys) {\n      if (value && typeof value === 'object') {\n        value = value[k];\n      } else {\n        value = undefined;\n        break;\n      }\n    }\n\n    if (value === undefined) {\n      // Fallback to English if the key is not found in the requested language\n      let fallback: any = translations.en;\n      for (const k of keys) {\n        if (fallback && typeof fallback === 'object') {\n          fallback = fallback[k];\n        } else {\n          fallback = undefined;\n          break;\n        }\n      }\n\n      if (fallback === undefined) {\n        return res.status(404).json({\n          success: false,\n          error: 'Translation key not found',\n          key\n        });\n      }\n\n      res.json({\n        success: true,\n        language: language, // original requested language\n        key,\n        value: fallback,\n        fallback: true,\n        message: 'Returned English fallback'\n      });\n    } else {\n      res.json({\n        success: true,\n        language,\n        key,\n        value,\n        fallback: false\n      });\n    }\n\n  } catch (error) {\n    console.error('Failed to get translation key:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to retrieve translation'\n    });\n  }\n});\n\n// Set user language preference (for future features)\nrouter.post('/preference', async (req, res) => {\n  try {\n    const { language, userId } = req.body;\n\n    if (!language) {\n      return res.status(400).json({\n        success: false,\n        error: 'Language is required'\n      });\n    }\n\n    const supportedLanguageCodes = supportedLanguages.map(lang => lang.code);\n    if (!supportedLanguageCodes.includes(language)) {\n      return res.status(400).json({\n        success: false,\n        error: 'Unsupported language'\n      });\n    }\n\n    // In a real implementation, you would save this to user preferences\n    // For now, just acknowledge the preference\n    console.log(`üë§ User language preference set: ${language}`);\n\n    res.json({\n      success: true,\n      language,\n      message: 'Language preference saved',\n      timestamp: new Date().toISOString()\n    });\n\n  } catch (error) {\n    console.error('Failed to set language preference:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to save language preference'\n    });\n  }\n});\n\n// Get translation statistics\nrouter.get('/stats/coverage', async (req, res) => {\n  try {\n    const stats = supportedLanguages.map(lang => {\n      const langTranslations = translations[lang.code];\n      const keyCount = langTranslations ? Object.keys(langTranslations).length : 0;\n      const englishKeyCount = Object.keys(translations.en).length;\n      const coverage = englishKeyCount > 0 ? (keyCount / englishKeyCount) * 100 : 0;\n\n      return {\n        language: lang.code,\n        name: lang.name,\n        flag: lang.flag,\n        keyCount,\n        coverage: Math.round(coverage * 100) / 100\n      };\n    });\n\n    res.json({\n      success: true,\n      stats,\n      totalLanguages: supportedLanguages.length,\n      baseLanguage: 'en'\n    });\n\n  } catch (error) {\n    console.error('Failed to get translation stats:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to retrieve translation statistics'\n    });\n  }\n});\n\nexport default router;","size_bytes":12009},"server/routes/upvoting.ts":{"content":"\nimport { Router } from 'express';\nimport { z } from 'zod';\nimport { db } from '../db.js';\nimport { complaints, upvotes } from '../../shared/schema.js';\nimport { eq } from 'drizzle-orm';\nimport { zkIdentityService } from '../services/zk-identity.js';\n\nconst router = Router();\n\n// Upvote complaint\nrouter.post('/', async (req, res) => {\n  try {\n    const upvoteSchema = z.object({\n      complaintId: z.string(),\n      zkProof: z.object({\n        proof: z.string(),\n        publicSignals: z.array(z.string()),\n        timestamp: z.number()\n      })\n    });\n\n    const validationResult = upvoteSchema.safeParse(req.body);\n    if (!validationResult.success) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid upvote data',\n        details: validationResult.error.errors\n      });\n    }\n\n    const { complaintId, zkProof } = validationResult.data;\n\n    // Verify ZK proof\n    const isValidProof = await zkIdentityService.verifyProof(zkProof, 'upvote');\n    if (!isValidProof) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid ZK proof'\n      });\n    }\n\n    // Generate nullifier hash to prevent double voting\n    const nullifierHash = await zkIdentityService.generateNullifierHash(zkProof.proof);\n\n    // Check if already voted\n    const existingUpvote = await db.select()\n      .from(upvotes)\n      .where(eq(upvotes.nullifierHash, nullifierHash));\n\n    if (existingUpvote.length > 0) {\n      return res.status(400).json({\n        success: false,\n        error: 'You have already upvoted this complaint'\n      });\n    }\n\n    // Find complaint by reference ID\n    const complaint = await db.select()\n      .from(complaints)\n      .where(eq(complaints.referenceId, complaintId));\n\n    if (!complaint.length) {\n      return res.status(404).json({\n        success: false,\n        error: 'Complaint not found'\n      });\n    }\n\n    // Add upvote\n    await db.insert(upvotes).values({\n      complaintId: complaint[0].id,\n      zkProof: JSON.stringify(zkProof),\n      nullifierHash\n    });\n\n    // Update complaint upvote count\n    await db.update(complaints)\n      .set({ \n        upvotes: complaint[0].upvotes + 1,\n        updatedAt: new Date()\n      })\n      .where(eq(complaints.id, complaint[0].id));\n\n    res.json({\n      success: true,\n      message: 'Upvote recorded successfully'\n    });\n\n  } catch (error) {\n    console.error('Failed to process upvote:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to process upvote'\n    });\n  }\n});\n\nexport default router;\n","size_bytes":2562},"server/routes/zk-identity.ts":{"content":"\nimport { Router } from 'express';\nimport { z } from 'zod';\nimport { zkIdentityService } from '../services/zk-identity.js';\nimport { storage } from '../storage.js';\n\nconst router = Router();\n\n// Register ZK Identity\nrouter.post('/identity', async (req, res) => {\n  try {\n    const identitySchema = z.object({\n      commitment: z.string().min(1),\n      nullifierHash: z.string().min(1),\n      groupId: z.string().default('speaksecure-v1')\n    });\n\n    const validationResult = identitySchema.safeParse(req.body);\n    if (!validationResult.success) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid identity data',\n        details: validationResult.error.errors\n      });\n    }\n\n    const { commitment, nullifierHash, groupId } = validationResult.data;\n\n    // Check if identity already exists\n    const existingIdentity = await storage.getZkIdentityByCommitment(commitment);\n    if (existingIdentity) {\n      return res.json({\n        success: true,\n        data: {\n          identityId: existingIdentity.id,\n          commitment: existingIdentity.commitment\n        }\n      });\n    }\n\n    // Create new identity\n    const newIdentity = await storage.createZkIdentity({\n      commitment,\n      nullifierHash,\n      groupId\n    });\n    const identityId = newIdentity.id;\n\n    console.log('‚úÖ ZK Identity registered:', commitment.substring(0, 8) + '...');\n\n    res.json({\n      success: true,\n      data: {\n        identityId,\n        commitment\n      }\n    });\n\n  } catch (error) {\n    console.error('ZK Identity registration failed:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to register ZK identity'\n    });\n  }\n});\n\n// Generate ZK proof\nrouter.post('/generate-proof', async (req, res) => {\n  try {\n    const proofSchema = z.object({\n      action: z.string().min(1),\n      data: z.any().optional(),\n      commitment: z.string().min(1),\n      nullifier: z.string().min(1)\n    });\n\n    const validationResult = proofSchema.safeParse(req.body);\n    if (!validationResult.success) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid proof request',\n        details: validationResult.error.errors\n      });\n    }\n\n    const { action, data, commitment, nullifier } = validationResult.data;\n\n    // Verify identity exists\n    const identity = await storage.getZkIdentityByCommitment(commitment);\n    if (!identity) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid commitment'\n      });\n    }\n\n    // Generate proof\n    const proof = await zkIdentityService.generateProof(action, data);\n    \n    // Generate action-specific nullifier\n    const actionNullifierHash = await zkIdentityService.generateActionNullifierHash(\n      nullifier, \n      action, \n      data?.topic || ''\n    );\n\n    console.log('‚úÖ ZK Proof generated for action:', action);\n\n    res.json({\n      success: true,\n      proof: {\n        ...proof,\n        nullifierHash: actionNullifierHash\n      }\n    });\n\n  } catch (error) {\n    console.error('ZK proof generation failed:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to generate ZK proof'\n    });\n  }\n});\n\n// Verify ZK proof\nrouter.post('/verify-proof', async (req, res) => {\n  try {\n    const verifySchema = z.object({\n      proof: z.object({\n        proof: z.string(),\n        publicSignals: z.array(z.string()),\n        timestamp: z.number()\n      }),\n      expectedAction: z.string()\n    });\n\n    const validationResult = verifySchema.safeParse(req.body);\n    if (!validationResult.success) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid verification request',\n        details: validationResult.error.errors\n      });\n    }\n\n    const { proof, expectedAction } = validationResult.data;\n    const isValid = await zkIdentityService.verifyProof(proof, expectedAction);\n\n    res.json({\n      success: true,\n      valid: isValid\n    });\n\n  } catch (error) {\n    console.error('ZK proof verification failed:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to verify ZK proof'\n    });\n  }\n});\n\n// Verify nullifier hasn't been used\nrouter.post('/verify', async (req, res) => {\n  try {\n    const { commitment, nullifierHash, topic } = req.body;\n    \n    // Verify commitment exists\n    const identity = await storage.getZkIdentityByCommitment(commitment);\n    if (!identity) {\n      return res.status(400).json({ \n        success: false,\n        error: 'Invalid commitment' \n      });\n    }\n\n    // Check if nullifier has been used for this action\n    const isUsed = await storage.checkNullifierUsed(nullifierHash, 'identity_verification', topic || '');\n    if (isUsed) {\n      return res.status(400).json({ \n        success: false,\n        error: 'Nullifier already used' \n      });\n    }\n\n    res.json({ success: true });\n  } catch (error) {\n    console.error('ZK verification failed:', error);\n    res.status(500).json({ \n      success: false,\n      error: 'ZK verification failed' \n    });\n  }\n});\n\nexport default router;\n","size_bytes":5086},"server/services/blockchain.ts":{"content":"\nexport interface BlockchainStats {\n  connected: boolean;\n  network?: string;\n  blockHeight?: number;\n}\n\nclass BlockchainService {\n  private connected: boolean = false;\n\n  async initialize() {\n    try {\n      // Initialize blockchain connection\n      this.connected = true;\n      console.log('‚úÖ Blockchain service initialized');\n    } catch (error) {\n      console.warn('‚ö†Ô∏è Blockchain service fallback mode');\n      this.connected = false;\n    }\n  }\n\n  async getNetworkStats(): Promise<BlockchainStats> {\n    return {\n      connected: this.connected,\n      network: this.connected ? 'ethereum' : undefined,\n      blockHeight: this.connected ? 18500000 : undefined\n    };\n  }\n\n  async storeHash(hash: string): Promise<string> {\n    if (!this.connected) {\n      // Fallback: return mock transaction hash\n      return '0xmock' + Math.random().toString(16).substr(2, 60);\n    }\n    \n    // Real implementation would go here\n    return '0x' + Math.random().toString(16).substr(2, 64);\n  }\n\n  async verifyHash(txHash: string): Promise<boolean> {\n    return this.connected;\n  }\n}\n\nexport const blockchainService = new BlockchainService();\n","size_bytes":1138},"server/services/complaint.ts":{"content":"\nimport { db } from '../db.js';\nimport { complaints } from '../../shared/schema.js';\nimport { eq, and, desc, asc } from 'drizzle-orm';\nimport { nanoid } from 'nanoid';\nimport { encryptionService } from './encryption.js';\nimport { ipfsService } from './ipfs.js';\nimport { blockchainService } from './blockchain.js';\n\nexport interface CreateComplaintData {\n  topic: string;\n  description: string;\n  location?: string;\n  urgency: 'low' | 'medium' | 'high' | 'critical';\n  isPublic?: boolean;\n  emergencyContact?: string;\n  zkProof?: string;\n}\n\nexport interface ComplaintFilters {\n  topic?: string;\n  status?: string;\n  priority?: string;\n  isPublic?: boolean;\n  limit?: number;\n  offset?: number;\n}\n\nclass ComplaintService {\n  async createComplaint(data: CreateComplaintData) {\n    try {\n      const referenceId = nanoid(12).toUpperCase();\n      \n      // Encrypt sensitive data\n      const encryptedDescription = await encryptionService.encrypt(data.description);\n      const encryptedLocation = data.location ? await encryptionService.encrypt(data.location) : null;\n      \n      // Store on IPFS\n      const ipfsHash = await ipfsService.uploadFile(Buffer.from(JSON.stringify({\n        topic: data.topic,\n        urgency: data.urgency,\n        timestamp: new Date().toISOString(),\n        referenceId\n      })));\n      \n      // Store hash on blockchain\n      const blockchainHash = await blockchainService.storeHash(ipfsHash);\n      \n      const complaint = await db.insert(complaints).values({\n        referenceId,\n        topic: data.topic,\n        description: encryptedDescription,\n        location: encryptedLocation,\n        status: 'submitted',\n        priority: data.urgency,\n        isPublic: data.isPublic || false,\n        emergencyContact: data.emergencyContact,\n        ipfsHash,\n        blockchainHash,\n        zkProof: data.zkProof,\n        submittedAt: new Date(),\n        updatedAt: new Date()\n      }).returning();\n      \n      return complaint[0];\n    } catch (error) {\n      console.error('Failed to create complaint:', error);\n      throw new Error('Failed to create complaint');\n    }\n  }\n  \n  async getComplaints(filters: ComplaintFilters = {}) {\n    try {\n      const { limit = 20, offset = 0, ...otherFilters } = filters;\n      \n      let query = db.select().from(complaints);\n      \n      const conditions = [];\n      if (otherFilters.topic) {\n        conditions.push(eq(complaints.topic, otherFilters.topic));\n      }\n      if (otherFilters.status) {\n        conditions.push(eq(complaints.status, otherFilters.status));\n      }\n      if (otherFilters.priority) {\n        conditions.push(eq(complaints.priority, otherFilters.priority));\n      }\n      if (typeof otherFilters.isPublic === 'boolean') {\n        conditions.push(eq(complaints.isPublic, otherFilters.isPublic));\n      }\n      \n      if (conditions.length > 0) {\n        query = query.where(and(...conditions));\n      }\n      \n      const results = await query\n        .orderBy(desc(complaints.submittedAt))\n        .limit(limit)\n        .offset(offset);\n      \n      return results;\n    } catch (error) {\n      console.error('Failed to get complaints:', error);\n      throw new Error('Failed to fetch complaints');\n    }\n  }\n  \n  async getComplaintByReference(referenceId: string) {\n    try {\n      const result = await db.select()\n        .from(complaints)\n        .where(eq(complaints.referenceId, referenceId));\n      \n      return result[0] || null;\n    } catch (error) {\n      console.error('Failed to get complaint by reference:', error);\n      throw new Error('Failed to fetch complaint');\n    }\n  }\n  \n  async updateComplaintStatus(referenceId: string, status: string, message?: string) {\n    try {\n      const updated = await db.update(complaints)\n        .set({ \n          status, \n          updatedAt: new Date() \n        })\n        .where(eq(complaints.referenceId, referenceId))\n        .returning();\n      \n      return updated[0] || null;\n    } catch (error) {\n      console.error('Failed to update complaint status:', error);\n      throw new Error('Failed to update complaint');\n    }\n  }\n}\n\nexport const complaintService = new ComplaintService();\n","size_bytes":4151},"server/services/emergency.ts":{"content":"\nimport { storage } from '../storage.js';\nimport { zkIdentityService } from './zk-identity.js';\nimport type { InsertEmergencyAlert } from '@shared/schema';\n\nexport interface EmergencyAlertRequest {\n  content: string;\n  emergencyContact: string;\n  location?: {\n    latitude: number;\n    longitude: number;\n  };\n  zkCommitment: string;\n  priority: 'high' | 'critical';\n}\n\nexport interface EmergencyAlertResponse {\n  alertId: string;\n  status: string;\n  transactionHash?: string;\n  ipfsHash?: string;\n  timestamp: number;\n}\n\nclass EmergencyService {\n  async sendEmergencyAlert(request: EmergencyAlertRequest): Promise<EmergencyAlertResponse> {\n    try {\n      console.log('üö® Processing emergency alert...');\n\n      // Create encrypted content\n      const encryptedContent = JSON.stringify({\n        content: request.content,\n        timestamp: Date.now(),\n        priority: request.priority\n      });\n\n      // Prepare emergency alert data\n      const alertData: InsertEmergencyAlert = {\n        zkCommitment: request.zkCommitment,\n        encryptedContent,\n        emergencyContact: request.emergencyContact,\n        location: request.location ? JSON.stringify(request.location) : null,\n        priority: request.priority\n      };\n\n      // Store in database\n      const alert = await storage.createEmergencyAlert(alertData);\n      \n      console.log(`‚úÖ Emergency alert created: ${alert.id}`);\n\n      // In production, this would trigger real emergency services\n      await this.notifyEmergencyServices(alert.id, request);\n\n      return {\n        alertId: alert.id,\n        status: 'sent',\n        timestamp: Date.now()\n      };\n\n    } catch (error) {\n      console.error('‚ùå Emergency alert failed:', error);\n      throw new Error('Failed to send emergency alert');\n    }\n  }\n\n  private async notifyEmergencyServices(alertId: string, request: EmergencyAlertRequest) {\n    // In production, this would:\n    // 1. Send SMS to emergency contacts\n    // 2. Notify local authorities\n    // 3. Send real-time alerts to response teams\n    // 4. Log to blockchain for transparency\n    \n    console.log(`üì¢ Emergency services notified for alert ${alertId}`);\n  }\n\n  async getEmergencyAlerts(limit = 20) {\n    return await storage.getEmergencyAlerts(limit);\n  }\n\n  async testEmergencySystem(): Promise<{ success: boolean; message: string }> {\n    try {\n      // Test basic functionality\n      console.log('üß™ Testing emergency system...');\n      \n      // Check database connectivity\n      await storage.getEmergencyAlerts(1);\n      \n      console.log('‚úÖ Emergency system test passed');\n      return {\n        success: true,\n        message: 'Emergency system is operational'\n      };\n    } catch (error) {\n      console.error('‚ùå Emergency system test failed:', error);\n      return {\n        success: false,\n        message: 'Emergency system test failed'\n      };\n    }\n  }\n}\n\nexport const emergencyService = new EmergencyService();\n","size_bytes":2938},"server/services/encryption.ts":{"content":"import crypto from 'crypto';\n\nclass EncryptionService {\n  private algorithm = 'aes-256-gcm';\n  private secretKey: Buffer;\n\n  constructor() {\n    // In production, use environment variable\n    const secret = process.env.ENCRYPTION_SECRET || 'default-secret-key-change-in-production';\n    this.secretKey = crypto.scryptSync(secret, 'salt', 32);\n  }\n\n  async encrypt(text: string): Promise<string> {\n    try {\n      const iv = crypto.randomBytes(16);\n      const cipher = crypto.createCipher(this.algorithm, this.secretKey);\n\n      let encrypted = cipher.update(text, 'utf8', 'hex');\n      encrypted += cipher.final('hex');\n\n      const authTag = cipher.getAuthTag();\n\n      return iv.toString('hex') + ':' + authTag.toString('hex') + ':' + encrypted;\n    } catch (error) {\n      console.error('Encryption failed:', error);\n      // Fallback: return base64 encoded (not secure, just for development)\n      return Buffer.from(text).toString('base64');\n    }\n  }\n\n  async decrypt(encryptedData: string): Promise<string> {\n    try {\n      const parts = encryptedData.split(':');\n      if (parts.length !== 3) {\n        // Fallback: decode base64\n        return Buffer.from(encryptedData, 'base64').toString('utf8');\n      }\n\n      const iv = Buffer.from(parts[0], 'hex');\n      const authTag = Buffer.from(parts[1], 'hex');\n      const encrypted = parts[2];\n\n      const decipher = crypto.createDecipher(this.algorithm, this.secretKey);\n      decipher.setAuthTag(authTag);\n\n      let decrypted = decipher.update(encrypted, 'hex', 'utf8');\n      decrypted += decipher.final('utf8');\n\n      return decrypted;\n    } catch (error) {\n      console.error('Decryption failed:', error);\n      return 'Encrypted data - decryption failed';\n    }\n  }\n\n  generateHash(data: string): string {\n    return crypto.createHash('sha256').update(data).digest('hex');\n  }\n}\n\nexport const encryptionService = new EncryptionService();","size_bytes":1905},"server/services/ipfs.ts":{"content":"import { create, IPFSHTTPClient } from 'ipfs-http-client';\n\n// Original interfaces removed as they are not used in the new implementation\n// export interface IPFSUploadResult {\n//   hash: string;\n//   size: number;\n//   path: string;\n// }\n\n// export interface IPFSRetrieveResult {\n//   content: string;\n//   hash: string;\n// }\n\nexport interface IPFSStats {\n  connected: boolean;\n  nodeId?: string;\n  version?: string;\n}\n\nclass IPFSService {\n  private connected: boolean = false;\n\n  // The constructor and testConnection method are replaced by initialize\n  // constructor() {\n  //   const ipfsUrl = process.env.IPFS_API_URL || 'https://ipfs.infura.io:5001';\n  //   const projectId = process.env.IPFS_PROJECT_ID;\n  //   const projectSecret = process.env.IPFS_PROJECT_SECRET;\n\n  //   // Check if credentials are provided\n  //   if (!projectId || !projectSecret || projectId === 'your_infura_project_id_here') {\n  //     console.warn('‚ö†Ô∏è  IPFS credentials not configured, using fallback mode');\n  //     this.isConnected = false;\n  //     return;\n  //   }\n\n  //   const auth = 'Basic ' + Buffer.from(projectId + ':' + projectSecret).toString('base64');\n\n  //   this.client = create({\n  //     url: ipfsUrl,\n  //     headers: { authorization: auth },\n  //   });\n\n  //   this.testConnection();\n  // }\n\n  // private async testConnection(): Promise<void> {\n  //   try {\n  //     await this.client.version();\n  //     this.isConnected = true;\n  //     console.log('‚úÖ IPFS connection established');\n  //   } catch (error) {\n  //     console.error('‚ùå IPFS connection failed:', error);\n  //     this.isConnected = false;\n  //   }\n  // }\n\n  async initialize() {\n    try {\n      // Initialize IPFS connection\n      this.connected = true;\n      console.log('‚úÖ IPFS service initialized');\n    } catch (error) {\n      console.warn('‚ö†Ô∏è IPFS service fallback mode');\n      this.connected = false;\n    }\n  }\n\n  async getStats(): Promise<IPFSStats> {\n    return {\n      connected: this.connected,\n      nodeId: this.connected ? 'mock-node-id' : undefined,\n      version: this.connected ? '0.12.0' : undefined\n    };\n  }\n\n  // Original uploadContent, retrieveContent, uploadJSON, retrieveJSON, pinContent are removed.\n  // async uploadContent(content: string): Promise<IPFSUploadResult> {\n  //   if (!this.isConnected) {\n  //     // Fallback: simulate IPFS by generating hash\n  //     console.warn('IPFS not connected, using fallback hash generation');\n  //     const hash = await this.generateFallbackHash(content);\n  //     return {\n  //       hash,\n  //       size: content.length,\n  //       path: `/ipfs/${hash}`\n  //     };\n  //   }\n\n  //   try {\n  //     const buffer = Buffer.from(content, 'utf-8');\n  //     const result = await this.client.add(buffer, {\n  //       pin: true, // Pin to prevent garbage collection\n  //       cidVersion: 1,\n  //       hashAlg: 'sha2-256'\n  //     });\n\n  //     console.log(`üìÅ Content uploaded to IPFS: ${result.cid.toString()}`);\n\n  //     return {\n  //       hash: result.cid.toString(),\n  //       size: result.size,\n  //       path: result.path\n  //     };\n  //   } catch (error) {\n  //     console.error('IPFS upload failed:', error);\n\n  //     // Fallback: generate deterministic hash\n  //     const hash = await this.generateFallbackHash(content);\n  //     return {\n  //       hash,\n  //       size: content.length,\n  //       path: `/ipfs/${hash}`\n  //     };\n  //   }\n  // }\n\n  // async retrieveContent(hash: string): Promise<IPFSRetrieveResult> {\n  //   if (!this.isConnected) {\n  //     throw new Error('IPFS not connected and no fallback available for retrieval');\n  //   }\n\n  //   try {\n  //     const chunks: Uint8Array[] = [];\n\n  //     for await (const chunk of this.client.cat(hash)) {\n  //       chunks.push(chunk);\n  //     }\n\n  //     const content = Buffer.concat(chunks).toString('utf-8');\n\n  //     return {\n  //       content,\n  //       hash\n  //     };\n  //   } catch (error) {\n  //     console.error('IPFS retrieval failed:', error);\n  //     throw new Error(`Failed to retrieve content from IPFS: ${hash}`);\n  //   }\n  // }\n\n  // async uploadJSON(data: any): Promise<IPFSUploadResult> {\n  //   const jsonString = JSON.stringify(data, null, 2);\n  //   return this.uploadContent(jsonString);\n  // }\n\n  // async retrieveJSON(hash: string): Promise<any> {\n  //   const result = await this.retrieveContent(hash);\n  //   return JSON.parse(result.content);\n  // }\n\n  async uploadFile(data: Buffer): Promise<string> {\n    if (!this.connected) {\n      // Fallback: return mock hash\n      return 'QmMockHashForFallback' + Math.random().toString(36).substr(2, 9);\n    }\n\n    // Real implementation would go here\n    return 'QmRealHash' + Math.random().toString(36).substr(2, 9);\n  }\n\n  async getFile(hash: string): Promise<Buffer | null> {\n    if (!this.connected) {\n      return null;\n    }\n\n    // Real implementation would go here\n    return Buffer.from('mock-file-data');\n  }\n\n  // async pinContent(hash: string): Promise<void> {\n  //   if (!this.isConnected) {\n  //     console.warn('IPFS not connected, cannot pin content');\n  //     return;\n  //   }\n\n  //   try {\n  //     await this.client.pin.add(hash);\n  //     console.log(`üìå Content pinned: ${hash}`);\n  //   } catch (error) {\n  //     console.error('IPFS pinning failed:', error);\n  //   }\n  // }\n\n  // async getStats(): Promise<any> {\n  //   if (!this.isConnected) {\n  //     return {\n  //       connected: false,\n  //       error: 'IPFS not connected'\n  //     };\n  //   }\n\n  //   try {\n  //     const stats = await this.client.stats.bw();\n  //     return {\n  //       connected: true,\n  //       stats\n  //     };\n  //   } catch (error) {\n  //     return {\n  //       connected: false,\n  //       error: error.message\n  //     };\n  //   }\n  // }\n\n  // private async generateFallbackHash(content: string): Promise<string> {\n  //   const crypto = await import('crypto');\n  //   const hash = crypto.createHash('sha256').update(content).digest('hex');\n  //   // Generate a proper IPFS-like hash format\n  //   return 'Qm' + hash.substring(0, 44);\n  // }\n\n  // getGatewayUrl(hash: string): string {\n  //   const gateway = process.env.IPFS_GATEWAY_URL || 'https://ipfs.io/ipfs/';\n  //   return `${gateway}${hash}`;\n  // }\n}\n\nexport const ipfsService = new IPFSService();","size_bytes":6285},"server/services/zk-identity.ts":{"content":"\nimport crypto from 'crypto';\n\nexport interface ZKProof {\n  proof: string;\n  publicSignals: string[];\n  timestamp: number;\n}\n\nclass ZKIdentityService {\n  async generateProof(action: string, data: any): Promise<ZKProof> {\n    try {\n      // Mock ZK proof generation - in production use actual ZK libraries\n      const message = JSON.stringify({ action, data, timestamp: Date.now() });\n      const proof = crypto.createHash('sha256').update(message).digest('hex');\n      \n      console.log(`üîê Generated ZK proof for action: ${action}`);\n      \n      return {\n        proof,\n        publicSignals: [proof.slice(0, 32), proof.slice(32)],\n        timestamp: Date.now()\n      };\n    } catch (error) {\n      console.error('ZK proof generation failed:', error);\n      throw new Error('Failed to generate ZK proof');\n    }\n  }\n\n  async verifyProof(proof: ZKProof, expectedAction: string): Promise<boolean> {\n    try {\n      // Mock verification - in production use actual ZK verification\n      const isValid = proof.proof.length === 64 && proof.publicSignals.length === 2;\n      console.log(`üîç ZK proof verification result: ${isValid}`);\n      return isValid;\n    } catch (error) {\n      console.error('ZK proof verification failed:', error);\n      return false;\n    }\n  }\n\n  async generateNullifierHash(identity: string): Promise<string> {\n    return crypto.createHash('sha256').update(identity + 'nullifier').digest('hex');\n  }\n\n  async generateActionNullifierHash(nullifier: string, action: string, topic: string): Promise<string> {\n    const combined = nullifier + action + topic;\n    const hash = crypto.createHash('sha256').update(combined).digest('hex');\n    console.log(`üîë Generated action nullifier hash for: ${action}/${topic}`);\n    return '0x' + hash;\n  }\n\n  async generateCommitment(trapdoor: string, nullifier: string): Promise<string> {\n    const combined = trapdoor + nullifier;\n    const hash = crypto.createHash('sha256').update(combined).digest('hex');\n    return '0x' + hash;\n  }\n\n  async verifyIdentity(commitment: string): Promise<boolean> {\n    try {\n      // Mock verification - in production use actual ZK verification\n      return commitment.startsWith('0x') && commitment.length === 66;\n    } catch (error) {\n      console.error('Identity verification failed:', error);\n      return false;\n    }\n  }\n}\n\nexport const zkIdentityService = new ZKIdentityService();\n","size_bytes":2388},"client/src/components/complaint-card.tsx":{"content":"import { useState } from \"react\";\nimport { Heart, ExternalLink, Clock, MapPin, Shield, AlertTriangle } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { getBlockchainExplorerUrl } from \"@/lib/blockchain\";\n\ninterface ComplaintCardProps {\n  complaint: {\n    id: string;\n    referenceId: string;\n    topic: string;\n    tags?: string[];\n    priority: string;\n    status: string;\n    upvotes: number;\n    submittedAt: string;\n    blockchainHash?: string;\n    isPublic: boolean;\n    preview?: string;\n  };\n  onUpvote: (complaintId: string) => void;\n  isUpvoting: boolean;\n}\n\nexport function ComplaintCard({ complaint, onUpvote, isUpvoting }: ComplaintCardProps) {\n  const { toast } = useToast();\n  const [hasUpvoted, setHasUpvoted] = useState(false);\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'pending': \n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300';\n      case 'review': \n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300';\n      case 'progress': \n        return 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300';\n      case 'resolved': \n        return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300';\n      default: \n        return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300';\n    }\n  };\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'urgent': \n        return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300';\n      case 'high': \n        return 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300';\n      case 'medium': \n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300';\n      case 'low': \n        return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300';\n      default: \n        return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300';\n    }\n  };\n\n  const getTimeAgo = (dateString: string) => {\n    const now = new Date();\n    const date = new Date(dateString);\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\n    \n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\n    return `${Math.floor(diffInMinutes / 1440)}d ago`;\n  };\n\n  const handleUpvote = () => {\n    if (hasUpvoted) {\n      toast({\n        title: \"Already Upvoted\",\n        description: \"You have already upvoted this complaint\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    onUpvote(complaint.id);\n    setHasUpvoted(true);\n  };\n\n  const viewOnBlockchain = () => {\n    if (complaint.blockchainHash) {\n      const explorerUrl = getBlockchainExplorerUrl(complaint.blockchainHash);\n      window.open(explorerUrl, '_blank');\n    }\n  };\n\n  return (\n    <Card className=\"shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-gray-700 group hover:-translate-y-1\">\n      <CardHeader className=\"pb-3\">\n        {/* Header with badges and timestamp */}\n        <div className=\"flex items-start justify-between mb-3\">\n          <div className=\"flex items-center space-x-2 flex-wrap gap-2\">\n            <Badge className={getPriorityColor(complaint.priority)}>\n              {complaint.priority.toUpperCase()}\n            </Badge>\n            <Badge className={getStatusColor(complaint.status)}>\n              {complaint.status.charAt(0).toUpperCase() + complaint.status.slice(1)}\n            </Badge>\n            <Badge variant=\"outline\" className=\"capitalize\">\n              {complaint.topic}\n            </Badge>\n          </div>\n          <span className=\"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap\">\n            <Clock className=\"w-3 h-3 inline mr-1\" />\n            {getTimeAgo(complaint.submittedAt)}\n          </span>\n        </div>\n\n        <CardTitle className=\"text-base font-semibold text-gray-900 dark:text-white\">\n          Anonymous Report #{complaint.referenceId.split('-').pop()}\n        </CardTitle>\n      </CardHeader>\n\n      <CardContent className=\"pt-0\">\n        {/* Content Preview */}\n        <div className=\"mb-4\">\n          {complaint.preview ? (\n            <p className=\"text-gray-600 dark:text-gray-300 text-sm line-clamp-3\">\n              {complaint.preview}\n            </p>\n          ) : (\n            <p className=\"text-gray-500 dark:text-gray-400 text-sm italic\">\n              Encrypted content available to authorized NGO partners\n            </p>\n          )}\n        </div>\n\n        {/* Tags */}\n        {complaint.tags && complaint.tags.length > 0 && (\n          <div className=\"flex flex-wrap gap-1 mb-4\">\n            {complaint.tags.slice(0, 3).map((tag, index) => (\n              <span\n                key={index}\n                className=\"px-2 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-200 rounded-md text-xs\"\n              >\n                {tag}\n              </span>\n            ))}\n            {complaint.tags.length > 3 && (\n              <span className=\"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-md text-xs\">\n                +{complaint.tags.length - 3} more\n              </span>\n            )}\n          </div>\n        )}\n\n        {/* Verification Info */}\n        <div className=\"mb-4 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg\">\n          <div className=\"flex items-center justify-between text-xs mb-1\">\n            <span className=\"text-gray-600 dark:text-gray-400\">Blockchain Hash:</span>\n            <span className=\"font-mono text-gray-900 dark:text-white\">\n              {complaint.blockchainHash ? \n                `${complaint.blockchainHash.substring(0, 8)}...${complaint.blockchainHash.substring(complaint.blockchainHash.length - 6)}` :\n                'Pending verification'\n              }\n            </span>\n          </div>\n          <div className=\"flex items-center\">\n            <Shield className=\"w-3 h-3 text-green-500 mr-1\" />\n            <span className=\"text-green-600 dark:text-green-400 text-xs\">\n              {complaint.blockchainHash ? 'Cryptographically Verified' : 'Processing verification...'}\n            </span>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex items-center justify-between\">\n          <Button\n            variant={hasUpvoted ? \"default\" : \"outline\"}\n            size=\"sm\"\n            onClick={handleUpvote}\n            disabled={isUpvoting || hasUpvoted}\n            className={`flex items-center space-x-2 transition-all duration-200 ${\n              hasUpvoted \n                ? \"bg-red-500 hover:bg-red-600 text-white\" \n                : \"hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 hover:border-red-300\"\n            }`}\n          >\n            <Heart className={`w-4 h-4 ${hasUpvoted ? \"fill-current\" : \"\"}`} />\n            <span className=\"font-medium\">{complaint.upvotes}</span>\n          </Button>\n\n          <div className=\"flex space-x-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={viewOnBlockchain}\n              disabled={!complaint.blockchainHash}\n              className=\"hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\"\n            >\n              <ExternalLink className=\"w-4 h-4\" />\n            </Button>\n            \n            {complaint.priority === 'urgent' && (\n              <div className=\"flex items-center text-red-500\">\n                <AlertTriangle className=\"w-4 h-4\" />\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Public indicator */}\n        {complaint.isPublic && (\n          <div className=\"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700\">\n            <div className=\"flex items-center text-xs text-gray-500 dark:text-gray-400\">\n              <Shield className=\"w-3 h-3 mr-1\" />\n              <span>Public complaint ‚Ä¢ Identity protected</span>\n            </div>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":8373},"client/src/components/emergency-modal.tsx":{"content":"import { useState } from \"react\";\nimport { AlertTriangle, Phone, MapPin, Send, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { useEmergency } from \"@/hooks/use-emergency\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function EmergencyModal() {\n  const { isEmergencyModalOpen, closeEmergencyModal } = useEmergency();\n  const { toast } = useToast();\n  const { t } = useTranslation();\n  const [includeLocation, setIncludeLocation] = useState(false);\n  const [contactNumber, setContactNumber] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSendAlert = async () => {\n    if (!contactNumber.trim()) {\n      toast({\n        title: \"Contact Required\",\n        description: \"Please provide an emergency contact number.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      let location = null;\n      if (includeLocation && navigator.geolocation) {\n        location = await new Promise((resolve, reject) => {\n          navigator.geolocation.getCurrentPosition(\n            (position) => resolve({\n              latitude: position.coords.latitude,\n              longitude: position.coords.longitude,\n            }),\n            reject\n          );\n        });\n      }\n\n      const response = await fetch(\"/api/emergency\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          complaintId: null, // Can be set if emergency is related to existing complaint\n          contactNumbers: [contactNumber],\n          location,\n          message: description || \"Emergency alert sent from SpeakSecure platform\",\n        }),\n      });\n\n      if (response.ok) {\n        toast({\n          title: \"Emergency Alert Sent\",\n          description: \"Your emergency alert has been sent successfully. Help is on the way.\",\n        });\n        closeEmergencyModal();\n        setContactNumber(\"\");\n        setDescription(\"\");\n        setIncludeLocation(false);\n      } else {\n        throw new Error(\"Failed to send emergency alert\");\n      }\n    } catch (error) {\n      console.error(\"Emergency alert error:\", error);\n      toast({\n        title: \"Alert Failed\",\n        description: \"Failed to send emergency alert. Please try again or call emergency services directly.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={isEmergencyModalOpen} onOpenChange={closeEmergencyModal}>\n      <DialogContent className=\"sm:max-w-md border-red-500\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center space-x-2 text-red-600\">\n            <AlertTriangle className=\"w-5 h-5 animate-pulse\" />\n            <span>{t('emergency.title')}</span>\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          <p className=\"text-red-700 dark:text-red-300 text-sm\">\n            {t('emergency.description')}\n          </p>\n\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center space-x-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n              <Checkbox\n                id=\"includeLocation\"\n                checked={includeLocation}\n                onCheckedChange={setIncludeLocation}\n              />\n              <label htmlFor=\"includeLocation\" className=\"text-sm font-medium text-red-900 dark:text-red-200\">\n                <div>\n                  <div className=\"flex items-center space-x-1\">\n                    <MapPin className=\"w-4 h-4\" />\n                    <span>Share my location</span>\n                  </div>\n                  <p className=\"text-xs text-red-700 dark:text-red-300\">Help responders find you quickly</p>\n                </div>\n              </label>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                <Phone className=\"w-4 h-4 inline mr-1\" />\n                Emergency Contact Number *\n              </label>\n              <Input\n                type=\"tel\"\n                placeholder=\"+91 9876543210\"\n                value={contactNumber}\n                onChange={(e) => setContactNumber(e.target.value)}\n                className=\"border-red-300 dark:border-red-600 focus:ring-red-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Brief Description (Optional)\n              </label>\n              <Textarea\n                placeholder=\"Describe your emergency situation...\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                rows={3}\n                className=\"border-red-300 dark:border-red-600 focus:ring-red-500 resize-none\"\n              />\n            </div>\n          </div>\n\n          <div className=\"flex space-x-3 pt-4\">\n            <Button\n              variant=\"outline\"\n              onClick={closeEmergencyModal}\n              className=\"flex-1\"\n              disabled={loading}\n            >\n              <X className=\"w-4 h-4 mr-2\" />\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSendAlert}\n              disabled={loading}\n              className=\"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700\"\n            >\n              <Send className=\"w-4 h-4 mr-2\" />\n              {loading ? \"Sending...\" : \"Send Alert\"}\n            </Button>\n          </div>\n\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 text-center\">\n            üîí All emergency data is encrypted and stored securely\n          </p>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":6206},"client/src/components/header.tsx":{"content":"\nimport React, { useState } from 'react';\nimport { useLocation, Link } from 'wouter';\nimport { Shield, Globe, Menu, X, AlertTriangle, Sun, Moon } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { t, getCurrentLanguage, setLanguage } from '@/lib/i18n';\nimport { useEmergency } from '@/hooks/use-emergency';\nimport { useTheme } from '@/components/theme-provider';\n\nexport default function Header() {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [location] = useLocation();\n  const [currentLang, setCurrentLang] = useState(getCurrentLanguage());\n  const { openEmergencyModal } = useEmergency();\n  const { theme, setTheme } = useTheme();\n\n  const handleLanguageChange = (newLang: string) => {\n    setLanguage(newLang);\n    setCurrentLang(newLang);\n    window.location.reload(); // Refresh to apply translations\n  };\n\n  const toggleTheme = () => {\n    setTheme(theme === 'light' ? 'dark' : 'light');\n  };\n\n  const navItems = [\n    { path: '/', label: t('nav.home') },\n    { path: '/report', label: t('nav.report') },\n    { path: '/status', label: t('nav.status') },\n    { path: '/community', label: t('nav.community') },\n  ];\n\n  return (\n    <header className=\"fixed top-0 left-0 right-0 z-50 bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700\">\n      <div className=\"container mx-auto px-4 py-3\">\n        <div className=\"flex items-center justify-between\">\n          {/* Logo */}\n          <Link to=\"/\" className=\"flex items-center space-x-2\">\n            <div className=\"w-8 h-8 bg-gradient-to-r from-primary-600 to-primary-500 rounded-lg flex items-center justify-center\">\n              <Shield className=\"w-5 h-5 text-white\" />\n            </div>\n            <span className=\"text-xl font-bold text-gray-900 dark:text-white\">\n              SpeakSecure\n            </span>\n          </Link>\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden md:flex items-center space-x-6\">\n            {navItems.map((item) => (\n              <Link\n                key={item.path}\n                to={item.path}\n                className={`text-sm font-medium transition-colors ${\n                  location === item.path\n                    ? 'text-primary-600 dark:text-primary-400'\n                    : 'text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400'\n                }`}\n              >\n                {item.label}\n              </Link>\n            ))}\n          </nav>\n\n          {/* Right Side Controls */}\n          <div className=\"flex items-center space-x-3\">\n            {/* Emergency Button */}\n            <Button\n              onClick={openEmergencyModal}\n              size=\"sm\"\n              className=\"bg-red-600 hover:bg-red-700 text-white border-0 px-3 py-2\"\n            >\n              <AlertTriangle className=\"w-4 h-4 mr-1\" />\n              <span className=\"hidden sm:inline\">{t('nav.emergency')}</span>\n              <span className=\"sm:hidden\">SOS</span>\n            </Button>\n\n            {/* Theme Toggle */}\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={toggleTheme}\n              className=\"w-9 h-9 p-0\"\n            >\n              <Sun className=\"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n              <Moon className=\"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n            </Button>\n\n            {/* Language Selector */}\n            <Select value={currentLang} onValueChange={handleLanguageChange}>\n              <SelectTrigger className=\"w-24 h-9 text-xs\">\n                <Globe className=\"w-3 h-3 mr-1\" />\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"en\">English</SelectItem>\n                <SelectItem value=\"hi\">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</SelectItem>\n                <SelectItem value=\"ta\">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</SelectItem>\n                <SelectItem value=\"kn\">‡≤ï‡≤®‡≥ç‡≤®‡≤°</SelectItem>\n                <SelectItem value=\"ur\">ÿßÿ±ÿØŸà</SelectItem>\n              </SelectContent>\n            </Select>\n\n            {/* Mobile Menu Button */}\n            <button\n              className=\"md:hidden p-2\"\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\n            >\n              {isMenuOpen ? (\n                <X className=\"w-5 h-5\" />\n              ) : (\n                <Menu className=\"w-5 h-5\" />\n              )}\n            </button>\n          </div>\n        </div>\n\n        {/* Mobile Navigation */}\n        {isMenuOpen && (\n          <div className=\"md:hidden mt-4 pb-4 border-t border-gray-200 dark:border-gray-700\">\n            <nav className=\"flex flex-col space-y-3 pt-4\">\n              {navItems.map((item) => (\n                <Link\n                  key={item.path}\n                  to={item.path}\n                  onClick={() => setIsMenuOpen(false)}\n                  className={`text-sm font-medium transition-colors ${\n                    location === item.path\n                      ? 'text-primary-600 dark:text-primary-400'\n                      : 'text-gray-600 dark:text-gray-300'\n                  }`}\n                >\n                  {item.label}\n                </Link>\n              ))}\n              \n              {/* Mobile Emergency Button */}\n              <Button\n                onClick={() => {\n                  openEmergencyModal();\n                  setIsMenuOpen(false);\n                }}\n                size=\"sm\"\n                className=\"bg-red-600 hover:bg-red-700 text-white w-fit mt-2\"\n              >\n                <AlertTriangle className=\"w-4 h-4 mr-2\" />\n                {t('nav.emergency')}\n              </Button>\n            </nav>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n","size_bytes":5937},"client/src/components/status-tracker.tsx":{"content":"import { CheckCircle, Clock, Eye, Cog, Trophy } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface StatusTrackerProps {\n  status: string;\n  referenceId?: string;\n  className?: string;\n}\n\nconst statusSteps = [\n  {\n    key: 'pending',\n    label: 'Received',\n    description: 'Complaint received and encrypted',\n    icon: CheckCircle,\n  },\n  {\n    key: 'review',\n    label: 'Under Review',\n    description: 'NGO team reviewing case',\n    icon: Eye,\n  },\n  {\n    key: 'progress', \n    label: 'In Progress',\n    description: 'Action being taken',\n    icon: Cog,\n  },\n  {\n    key: 'resolved',\n    label: 'Resolved',\n    description: 'Case closed successfully', \n    icon: Trophy,\n  }\n];\n\nexport function StatusTracker({ status, className = \"\" }: StatusTrackerProps) {\n  const currentStepIndex = statusSteps.findIndex(step => step.key === status);\n  const isCompleted = currentStepIndex >= 0;\n\n  const getStepStatus = (stepIndex: number) => {\n    if (stepIndex < currentStepIndex) return 'completed';\n    if (stepIndex === currentStepIndex) return 'current';\n    return 'pending';\n  };\n\n  const getStepColor = (stepStatus: string) => {\n    switch (stepStatus) {\n      case 'completed':\n        return {\n          bg: 'bg-green-500',\n          text: 'text-green-600 dark:text-green-400',\n          border: 'border-green-500',\n          icon: 'text-white'\n        };\n      case 'current':\n        return {\n          bg: 'bg-blue-500 animate-pulse',\n          text: 'text-blue-600 dark:text-blue-400', \n          border: 'border-blue-500',\n          icon: 'text-white'\n        };\n      default:\n        return {\n          bg: 'bg-gray-300 dark:bg-gray-600',\n          text: 'text-gray-400 dark:text-gray-500',\n          border: 'border-gray-300 dark:border-gray-600',\n          icon: 'text-gray-500 dark:text-gray-400'\n        };\n    }\n  };\n\n  if (!isCompleted) {\n    return (\n      <div className={`p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg ${className}`}>\n        <div className=\"flex items-center space-x-2\">\n          <Clock className=\"w-5 h-5 text-yellow-600 dark:text-yellow-400\" />\n          <span className=\"text-yellow-800 dark:text-yellow-200 font-medium\">\n            Status information not available\n          </span>\n        </div>\n        <p className=\"text-yellow-700 dark:text-yellow-300 text-sm mt-1\">\n          Please check your reference ID and try again\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 ${className}`}>\n      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n        Complaint Progress\n      </h3>\n      \n      <div className=\"relative\">\n        {/* Progress Line */}\n        <div className=\"absolute top-6 left-6 right-6 h-0.5 bg-gray-200 dark:bg-gray-700\"></div>\n        <div \n          className=\"absolute top-6 left-6 h-0.5 bg-blue-500 transition-all duration-500\"\n          style={{ \n            width: currentStepIndex >= 0 ? `${(currentStepIndex / (statusSteps.length - 1)) * 100}%` : '0%' \n          }}\n        ></div>\n        \n        {/* Status Steps */}\n        <div className=\"flex justify-between relative\">\n          {statusSteps.map((step, index) => {\n            const stepStatus = getStepStatus(index);\n            const colors = getStepColor(stepStatus);\n            const StepIcon = step.icon;\n            \n            return (\n              <div key={step.key} className=\"flex flex-col items-center\">\n                {/* Step Circle */}\n                <div \n                  className={`w-12 h-12 ${colors.bg} rounded-full flex items-center justify-center border-2 ${colors.border} mb-3 transition-all duration-300 z-10 relative`}\n                >\n                  <StepIcon className={`w-5 h-5 ${colors.icon}`} />\n                </div>\n                \n                {/* Step Info */}\n                <div className=\"text-center max-w-[120px]\">\n                  <span className={`text-sm font-medium ${colors.text} block`}>\n                    {step.label}\n                  </span>\n                  <span className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 block\">\n                    {step.description}\n                  </span>\n                  \n                  {/* Current Status Badge */}\n                  {stepStatus === 'current' && (\n                    <Badge \n                      variant=\"secondary\" \n                      className=\"mt-2 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300\"\n                    >\n                      Current\n                    </Badge>\n                  )}\n                  \n                  {/* Completed Badge */}\n                  {stepStatus === 'completed' && (\n                    <Badge \n                      variant=\"secondary\"\n                      className=\"mt-2 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300\"\n                    >\n                      Complete\n                    </Badge>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      \n      {/* Current Status Description */}\n      <div className=\"mt-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h4 className=\"font-medium text-gray-900 dark:text-white\">\n              Current Status: {statusSteps[currentStepIndex]?.label}\n            </h4>\n            <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-1\">\n              {statusSteps[currentStepIndex]?.description}\n            </p>\n          </div>\n          \n          {/* Progress Percentage */}\n          <div className=\"text-right\">\n            <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\n              {Math.round(((currentStepIndex + 1) / statusSteps.length) * 100)}%\n            </div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Complete</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":6134},"client/src/components/theme-provider.tsx":{"content":"import { createContext, useContext, useEffect, useState } from \"react\";\n\ntype Theme = \"dark\" | \"light\" | \"system\";\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  defaultTheme?: Theme;\n  storageKey?: string;\n};\n\ntype ThemeProviderState = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n};\n\nconst initialState: ThemeProviderState = {\n  theme: \"system\",\n  setTheme: () => null,\n};\n\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState);\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = \"system\",\n  storageKey = \"speaksecure-theme\",\n  ...props\n}: ThemeProviderProps) {\n  const [theme, setTheme] = useState<Theme>(\n    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme\n  );\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n\n    root.classList.remove(\"light\", \"dark\");\n\n    if (theme === \"system\") {\n      const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\")\n        .matches\n        ? \"dark\"\n        : \"light\";\n\n      root.classList.add(systemTheme);\n      return;\n    }\n\n    root.classList.add(theme);\n  }, [theme]);\n\n  const value = {\n    theme,\n    setTheme: (theme: Theme) => {\n      localStorage.setItem(storageKey, theme);\n      setTheme(theme);\n    },\n  };\n\n  return (\n    <ThemeProviderContext.Provider {...props} value={value}>\n      {children}\n    </ThemeProviderContext.Provider>\n  );\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeProviderContext);\n\n  if (context === undefined)\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n\n  return context;\n};\n","size_bytes":1609},"client/src/hooks/use-emergency.ts":{"content":"import { create } from \"zustand\";\n\ninterface EmergencyState {\n  isEmergencyModalOpen: boolean;\n  openEmergencyModal: () => void;\n  closeEmergencyModal: () => void;\n}\n\nexport const useEmergency = create<EmergencyState>((set) => ({\n  isEmergencyModalOpen: false,\n  openEmergencyModal: () => set({ isEmergencyModalOpen: true }),\n  closeEmergencyModal: () => set({ isEmergencyModalOpen: false }),\n}));","size_bytes":397},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/hooks/use-voice.ts":{"content":"import { useState, useCallback } from \"react\";\n\ninterface VoiceHook {\n  isRecording: boolean;\n  transcript: string;\n  error: string | null;\n  startRecording: () => void;\n  stopRecording: () => void;\n  clearTranscript: () => void;\n}\n\nexport function useVoice(): VoiceHook {\n  const [isRecording, setIsRecording] = useState(false);\n  const [transcript, setTranscript] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const [recognition, setRecognition] = useState<any>(null);\n\n  const startRecording = useCallback(() => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      setError(\"Speech recognition not supported in this browser\");\n      return;\n    }\n\n    const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\n    const recognition = new SpeechRecognition();\n\n    recognition.continuous = true;\n    recognition.interimResults = true;\n    recognition.lang = 'en-US';\n\n    recognition.onstart = () => {\n      setIsRecording(true);\n      setError(null);\n    };\n\n    recognition.onresult = (event: any) => {\n      let finalTranscript = '';\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        if (event.results[i].isFinal) {\n          finalTranscript += event.results[i][0].transcript;\n        }\n      }\n      if (finalTranscript) {\n        setTranscript(prev => prev + finalTranscript + ' ');\n      }\n    };\n\n    recognition.onerror = (event: any) => {\n      setError(`Speech recognition error: ${event.error}`);\n      setIsRecording(false);\n    };\n\n    recognition.onend = () => {\n      setIsRecording(false);\n    };\n\n    recognition.start();\n    setRecognition(recognition);\n  }, []);\n\n  const stopRecording = useCallback(() => {\n    if (recognition) {\n      recognition.stop();\n      setRecognition(null);\n    }\n    setIsRecording(false);\n  }, [recognition]);\n\n  const clearTranscript = useCallback(() => {\n    setTranscript(\"\");\n    setError(null);\n  }, []);\n\n  return {\n    isRecording,\n    transcript,\n    error,\n    startRecording,\n    stopRecording,\n    clearTranscript,\n  };\n}\n","size_bytes":2130},"client/src/hooks/use-zk-identity.ts":{"content":"\nimport { useState, useEffect, useCallback } from 'react';\nimport { useToast } from './use-toast';\nimport { apiRequest } from '@/lib/queryClient';\n\nexport interface ZkIdentity {\n  identityId?: string;\n  commitment: string;\n  nullifierHash: string;\n  trapdoor: string;\n  nullifier: string;\n  groupId: string;\n  isValid: boolean;\n}\n\nexport interface ZKProof {\n  proof: string;\n  publicSignals: string[];\n  nullifierHash: string;\n  timestamp: number;\n}\n\nexport function useZkIdentity() {\n  const [identity, setIdentity] = useState<ZkIdentity | null>(null);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const { toast } = useToast();\n\n  // Load existing identity from localStorage\n  useEffect(() => {\n    const savedIdentity = localStorage.getItem('speaksecure-zk-identity');\n    if (savedIdentity) {\n      try {\n        const parsed = JSON.parse(savedIdentity);\n        setIdentity(parsed);\n        console.log('‚úÖ ZK Identity loaded from storage:', parsed.commitment?.substring(0, 8) + '...');\n      } catch (error) {\n        console.error('Failed to parse saved identity:', error);\n        localStorage.removeItem('speaksecure-zk-identity');\n      }\n    }\n  }, []);\n\n  // Generate cryptographic components\n  const generateRandomField = (): string => {\n    const array = new Uint8Array(32);\n    crypto.getRandomValues(array);\n    return '0x' + Array.from(array).map(b => b.toString(16).padStart(2, '0')).join('');\n  };\n\n  const generateCommitment = async (trapdoor: string, nullifier: string): Promise<string> => {\n    const encoder = new TextEncoder();\n    const data = encoder.encode(trapdoor + nullifier);\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return '0x' + hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  };\n\n  const generateNullifierHash = async (nullifier: string, groupId: string): Promise<string> => {\n    const encoder = new TextEncoder();\n    const data = encoder.encode(nullifier + groupId);\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return '0x' + hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  };\n\n  const generateIdentity = useCallback(async (): Promise<ZkIdentity> => {\n    if (identity) return identity;\n    \n    setIsGenerating(true);\n    \n    try {\n      console.log('üîê Generating Zero-Knowledge Identity...');\n      \n      // Generate cryptographic parameters\n      const trapdoor = generateRandomField();\n      const nullifier = generateRandomField();\n      const groupId = 'speaksecure-v1';\n      \n      const commitment = await generateCommitment(trapdoor, nullifier);\n      const nullifierHash = await generateNullifierHash(nullifier, groupId);\n      \n      // Register identity with backend\n      const response = await apiRequest('/zk/identity', {\n        method: 'POST',\n        body: JSON.stringify({\n          commitment,\n          nullifierHash,\n          groupId\n        })\n      });\n\n      const data = response;\n      \n      if (!data.success) {\n        throw new Error(data.error || 'Failed to register ZK identity');\n      }\n\n      const newIdentity: ZkIdentity = {\n        identityId: data.data?.identityId,\n        commitment,\n        nullifierHash,\n        trapdoor,\n        nullifier,\n        groupId,\n        isValid: true\n      };\n\n      // Save to localStorage and state\n      localStorage.setItem('speaksecure-zk-identity', JSON.stringify(newIdentity));\n      setIdentity(newIdentity);\n\n      console.log('‚úÖ ZK Identity Generated Successfully');\n      toast({\n        title: \"Identity Generated\",\n        description: \"Your anonymous identity is ready for secure reporting\",\n      });\n\n      return newIdentity;\n    } catch (error) {\n      console.error('ZK identity generation failed:', error);\n      toast({\n        title: \"Identity Generation Failed\",\n        description: \"Failed to generate cryptographic identity. Please try again.\",\n        variant: \"destructive\"\n      });\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  }, [identity, toast]);\n\n  const generateProofForAction = useCallback(async (action: string, data?: any): Promise<ZKProof> => {\n    if (!identity) {\n      throw new Error('No ZK identity found. Please generate one first.');\n    }\n\n    try {\n      const response = await apiRequest('/zk/generate-proof', {\n        method: 'POST',\n        body: JSON.stringify({ \n          action, \n          data,\n          commitment: identity.commitment,\n          nullifier: identity.nullifier\n        })\n      });\n\n      const result = await response.json();\n      \n      if (!result.success) {\n        throw new Error(result.error || 'Failed to generate ZK proof');\n      }\n\n      return {\n        proof: result.proof.proof,\n        publicSignals: result.proof.publicSignals,\n        nullifierHash: result.proof.nullifierHash || identity.nullifierHash,\n        timestamp: result.proof.timestamp || Date.now()\n      };\n    } catch (error) {\n      console.error('ZK proof generation failed:', error);\n      toast({\n        title: \"Proof Generation Failed\",\n        description: \"Failed to generate cryptographic proof\",\n        variant: \"destructive\"\n      });\n      throw error;\n    }\n  }, [identity, toast]);\n\n  const clearIdentity = useCallback(() => {\n    localStorage.removeItem('speaksecure-zk-identity');\n    setIdentity(null);\n  }, []);\n\n  return {\n    identity,\n    generateIdentity,\n    generateProofForAction,\n    clearIdentity,\n    isGenerating\n  };\n}\n","size_bytes":5583},"client/src/lib/blockchain.ts":{"content":"// Blockchain integration for complaint hash logging\n\n// Generate hash for complaint data\nexport async function generateHash(data: any): Promise<string> {\n  const encoder = new TextEncoder();\n  const dataString = JSON.stringify(data);\n  const dataBuffer = encoder.encode(dataString);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', dataBuffer);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  return hashHex;\n}\n\nexport interface BlockchainLogResult {\n  transactionHash: string;\n  blockNumber: number;\n  gasUsed: number;\n}\n\n// Ethereum configuration\nconst ETHEREUM_RPC_URL = process.env.VITE_ETHEREUM_RPC_URL || \"https://sepolia.infura.io/v3/your-project-id\";\nconst CONTRACT_ADDRESS = process.env.VITE_CONTRACT_ADDRESS || \"0x...\"; // Deploy contract and set address\nconst PRIVATE_KEY = process.env.VITE_PRIVATE_KEY || \"\"; // For signing transactions\n\n// Smart contract ABI (simplified)\nconst CONTRACT_ABI = [\n  {\n    \"inputs\": [\n      { \"internalType\": \"string\", \"name\": \"complaintHash\", \"type\": \"string\" },\n      { \"internalType\": \"uint256\", \"name\": \"timestamp\", \"type\": \"uint256\" }\n    ],\n    \"name\": \"logComplaint\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [{ \"internalType\": \"string\", \"name\": \"hash\", \"type\": \"string\" }],\n    \"name\": \"getComplaintTimestamp\",\n    \"outputs\": [{ \"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\" }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }\n];\n\n// Log complaint hash to blockchain\nexport async function logComplaintToBlockchain(complaintHash: string): Promise<BlockchainLogResult> {\n  try {\n    // For demo purposes, simulate blockchain logging\n    // In production, use ethers.js or web3.js with actual smart contract\n\n    const simulatedResult = {\n      transactionHash: \"0x\" + Array.from(crypto.getRandomValues(new Uint8Array(32)))\n        .map(b => b.toString(16).padStart(2, '0')).join(''),\n      blockNumber: Math.floor(Math.random() * 1000000) + 18000000,\n      gasUsed: Math.floor(Math.random() * 50000) + 21000\n    };\n\n    // Log to backend for persistence\n    await fetch(\"/api/blockchain/log\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        hash: complaintHash,\n        transactionHash: simulatedResult.transactionHash,\n        blockNumber: simulatedResult.blockNumber,\n      }),\n    });\n\n    return simulatedResult;\n  } catch (error) {\n    console.error('Blockchain logging error:', error);\n    throw new Error('Failed to log to blockchain');\n  }\n}\n\n// Verify complaint hash on blockchain\nexport async function verifyComplaintOnBlockchain(complaintHash: string): Promise<boolean> {\n  try {\n    // In production, query the smart contract\n    // For demo, simulate verification\n    return true;\n  } catch (error) {\n    console.error('Blockchain verification error:', error);\n    return false;\n  }\n}\n\n// Get transaction details\nexport async function getTransactionDetails(txHash: string): Promise<any> {\n  try {\n    // In production, use ethers.js to get transaction details\n    return {\n      hash: txHash,\n      blockNumber: Math.floor(Math.random() * 1000000) + 18000000,\n      from: \"0x\" + Array.from(crypto.getRandomValues(new Uint8Array(20)))\n        .map(b => b.toString(16).padStart(2, '0')).join(''),\n      to: CONTRACT_ADDRESS,\n      gasUsed: Math.floor(Math.random() * 50000) + 21000,\n      status: 1,\n      timestamp: Date.now(),\n    };\n  } catch (error) {\n    console.error('Transaction details error:', error);\n    throw new Error('Failed to get transaction details');\n  }\n}\n\n// Generate blockchain explorer URL\nexport function getBlockchainExplorerUrl(txHash: string): string {\n  return `https://sepolia.etherscan.io/tx/${txHash}`;\n}","size_bytes":3850},"client/src/lib/emergency.ts":{"content":"// Emergency alert system\n\nexport interface EmergencyAlert {\n  id: string;\n  contactNumbers: string[];\n  location?: {\n    latitude: number;\n    longitude: number;\n  };\n  message: string;\n  timestamp: number;\n}\n\n// Send emergency SMS using MSG91 API\nexport async function sendEmergencySMS(\n  phoneNumbers: string[], \n  message: string, \n  location?: { latitude: number; longitude: number }\n): Promise<void> {\n  try {\n    const MSG91_API_KEY = import.meta.env.VITE_MSG91_API_KEY || \"your-msg91-api-key\";\n    const MSG91_SENDER_ID = import.meta.env.VITE_MSG91_SENDER_ID || \"SPKSEC\";\n\n    let alertMessage = `üö® EMERGENCY ALERT from SpeakSecure:\\n${message}`;\n\n    if (location) {\n      alertMessage += `\\nüìç Location: https://maps.google.com/?q=${location.latitude},${location.longitude}`;\n    }\n\n    alertMessage += `\\n\\nThis is an automated emergency alert. Please respond immediately.`;\n\n    for (const phoneNumber of phoneNumbers) {\n      const smsData = {\n        sender: MSG91_SENDER_ID,\n        route: \"4\", // Transactional route\n        country: \"91\", // India country code\n        sms: [\n          {\n            message: alertMessage,\n            to: [phoneNumber]\n          }\n        ]\n      };\n\n      const response = await fetch(\"https://api.msg91.com/api/v5/flow\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"authkey\": MSG91_API_KEY,\n        },\n        body: JSON.stringify(smsData),\n      });\n\n      if (!response.ok) {\n        console.error(`Failed to send SMS to ${phoneNumber}:`, await response.text());\n      }\n    }\n  } catch (error) {\n    console.error('Emergency SMS sending error:', error);\n    throw new Error('Failed to send emergency SMS');\n  }\n}\n\n// Get current location\nexport async function getCurrentLocation(): Promise<{ latitude: number; longitude: number }> {\n  return new Promise((resolve, reject) => {\n    if (!navigator.geolocation) {\n      reject(new Error('Geolocation is not supported'));\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        resolve({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n        });\n      },\n      (error) => {\n        reject(new Error(`Geolocation error: ${error.message}`));\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 60000,\n      }\n    );\n  });\n}\n\n// Format emergency contact numbers\nexport function formatPhoneNumber(phoneNumber: string): string {\n  // Remove all non-numeric characters\n  const cleaned = phoneNumber.replace(/\\D/g, '');\n\n  // Add country code if not present\n  if (cleaned.length === 10 && !cleaned.startsWith('91')) {\n    return '91' + cleaned;\n  }\n\n  return cleaned;\n}\n\n// Validate phone number\nexport function isValidPhoneNumber(phoneNumber: string): boolean {\n  const cleaned = phoneNumber.replace(/\\D/g, '');\n  return cleaned.length >= 10 && cleaned.length <= 15;\n}","size_bytes":2958},"client/src/lib/encryption.ts":{"content":"import CryptoJS from 'crypto-js';\n\nexport interface EncryptionResult {\n  encryptedData: string;\n  salt: string;\n  iv: string;\n}\n\n// Generate a random encryption key\nexport function generateEncryptionKey(): string {\n  return CryptoJS.lib.WordArray.random(256/8).toString();\n}\n\n// Encrypt data using AES-256-GCM\nexport function encryptData(data: string, key?: string): EncryptionResult {\n  const encryptionKey = key || generateEncryptionKey();\n  const salt = CryptoJS.lib.WordArray.random(128/8);\n  const iv = CryptoJS.lib.WordArray.random(128/8);\n  \n  // Derive key using PBKDF2\n  const derivedKey = CryptoJS.PBKDF2(encryptionKey, salt, {\n    keySize: 256/32,\n    iterations: 1000\n  });\n  \n  // Encrypt using AES\n  const encrypted = CryptoJS.AES.encrypt(data, derivedKey, {\n    iv: iv,\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.Pkcs7\n  });\n  \n  return {\n    encryptedData: encrypted.toString(),\n    salt: salt.toString(),\n    iv: iv.toString()\n  };\n}\n\n// Decrypt data\nexport function decryptData(\n  encryptedData: string, \n  key: string, \n  salt: string, \n  iv: string\n): string {\n  // Derive key using PBKDF2\n  const derivedKey = CryptoJS.PBKDF2(key, CryptoJS.enc.Hex.parse(salt), {\n    keySize: 256/32,\n    iterations: 1000\n  });\n  \n  // Decrypt using AES\n  const decrypted = CryptoJS.AES.decrypt(encryptedData, derivedKey, {\n    iv: CryptoJS.enc.Hex.parse(iv),\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.Pkcs7\n  });\n  \n  return decrypted.toString(CryptoJS.enc.Utf8);\n}\n\n// Generate hash of data for integrity verification\nexport function generateHash(data: string): string {\n  return CryptoJS.SHA256(data).toString();\n}\n\n// Encrypt file data\nexport function encryptFile(fileData: ArrayBuffer, key?: string): EncryptionResult {\n  const base64Data = arrayBufferToBase64(fileData);\n  return encryptData(base64Data, key);\n}\n\n// Decrypt file data\nexport function decryptFile(\n  encryptedData: string, \n  key: string, \n  salt: string, \n  iv: string\n): ArrayBuffer {\n  const decryptedBase64 = decryptData(encryptedData, key, salt, iv);\n  return base64ToArrayBuffer(decryptedBase64);\n}\n\n// Utility functions\nfunction arrayBufferToBase64(buffer: ArrayBuffer): string {\n  const bytes = new Uint8Array(buffer);\n  let binary = '';\n  for (let i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return btoa(binary);\n}\n\nfunction base64ToArrayBuffer(base64: string): ArrayBuffer {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++) {\n    bytes[i] = binary.charCodeAt(i);\n  }\n  return bytes.buffer;\n}\n","size_bytes":2616},"client/src/lib/i18n.ts":{"content":"// Internationalization support\n\nexport interface TranslationStrings {\n  [key: string]: string;\n}\n\nexport const translations: Record<string, TranslationStrings> = {\n  en: {\n    // Header\n    'nav.home': 'Home',\n    'nav.report': 'Report',\n    'nav.status': 'Track Status',\n    'nav.community': 'Community',\n    'nav.emergency': 'Emergency',\n    \n    // Emergency\n    'emergency.title': 'Emergency Alert',\n    'emergency.description': 'Are you in immediate danger and need help? This will send an encrypted alert to your emergency contact.',\n    \n    // Home page\n    'home.title': 'Your Voice Matters. Your Identity Doesn\\'t.',\n    'home.subtitle': 'Speak without fear. Report anonymously. Get help safely. Protected by Zero-Knowledge cryptography and blockchain technology.',\n    'home.report.title': 'Report a Problem',\n    'home.report.description': 'Submit your complaint securely and anonymously. We protect your identity while ensuring your voice is heard.',\n    'home.status.title': 'Track Status',\n    'home.status.description': 'Check the progress of your complaint with reference ID. Get updates from NGOs and admin responses.',\n    'home.community.title': 'Help Others',\n    'home.community.description': 'View public complaints and show support. Help build a stronger community by upvoting important issues.',\n    \n    // Common\n    'common.submit': 'Submit',\n    'common.cancel': 'Cancel',\n    'common.loading': 'Loading...',\n    'common.error': 'Error',\n    'common.success': 'Success',\n    'common.encrypted': '256-bit Encrypted',\n    'common.anonymous': 'Zero-Knowledge Anonymous',\n    'common.verified': 'Blockchain Verified',\n  },\n  \n  hi: {\n    // Header\n    'nav.home': '‡§π‡•ã‡§Æ',\n    'nav.report': '‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü',\n    'nav.status': '‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç',\n    'nav.community': '‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø',\n    'nav.emergency': '‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤',\n    \n    // Emergency\n    'emergency.title': '‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§Ö‡§≤‡§∞‡•ç‡§ü',\n    'emergency.description': '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§§‡§§‡•ç‡§ï‡§æ‡§≤ ‡§ñ‡§§‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§Æ‡§¶‡§¶ ‡§ö‡§æ‡§π‡§ø‡§è? ‡§Ø‡§π ‡§Ü‡§™‡§ï‡•á ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡•ã ‡§è‡§®‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü‡•á‡§° ‡§Ö‡§≤‡§∞‡•ç‡§ü ‡§≠‡•á‡§ú‡•á‡§ó‡§æ‡•§',\n    \n    // Home page\n    'home.title': '‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§Æ‡§æ‡§Ø‡§®‡•á ‡§∞‡§ñ‡§§‡•Ä ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§®‡§π‡•Ä‡§Ç‡•§',\n    'home.subtitle': '‡§¨‡§ø‡§®‡§æ ‡§°‡§∞ ‡§ï‡•á ‡§¨‡•ã‡§≤‡•á‡§Ç‡•§ ‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§Æ‡§¶‡§¶ ‡§™‡§æ‡§è‡§Ç‡•§',\n    'home.report.title': '‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç',\n    'home.report.description': '‡§Ö‡§™‡§®‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§î‡§∞ ‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§',\n    'home.status.title': '‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç',\n    'home.status.description': '‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§Ü‡§à‡§°‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§™‡§®‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç‡•§',\n    'home.community.title': '‡§¶‡•Ç‡§∏‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡•á‡§Ç',\n    'home.community.description': '‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡•á‡§Ç ‡§¶‡•á‡§ñ‡•á‡§Ç ‡§î‡§∞ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§® ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç‡•§',\n    \n    // Common\n    'common.submit': '‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç',\n    'common.cancel': '‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç',\n    'common.loading': '‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...',\n    'common.error': '‡§§‡•ç‡§∞‡•Å‡§ü‡§ø',\n    'common.success': '‡§∏‡§´‡§≤‡§§‡§æ',\n    'common.encrypted': '256-‡§¨‡§ø‡§ü ‡§è‡§®‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü‡•á‡§°',\n    'common.anonymous': '‡§∂‡•Ç‡§®‡•ç‡§Ø-‡§ú‡•ç‡§û‡§æ‡§® ‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ',\n    'common.verified': '‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§',\n  },\n  \n  ta: {\n    // Header\n    'nav.home': '‡ÆÆ‡ØÅ‡Æï‡Æ™‡Øç‡Æ™‡ØÅ',\n    'nav.report': '‡Æ™‡ØÅ‡Æï‡Ææ‡Æ∞‡Øç',\n    'nav.status': '‡Æ®‡Æø‡Æ≤‡Øà‡ÆØ‡Øà ‡Æï‡Æ£‡Øç‡Æï‡Ææ‡Æ£‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',\n    'nav.community': '‡Æö‡ÆÆ‡ØÅ‡Æ§‡Ææ‡ÆØ‡ÆÆ‡Øç',\n    'nav.emergency': '‡ÆÖ‡Æµ‡Æö‡Æ∞‡Æ®‡Æø‡Æ≤‡Øà',\n    \n    // Emergency\n    'emergency.title': '‡ÆÖ‡Æµ‡Æö‡Æ∞ ‡Æé‡Æö‡Øç‡Æö‡Æ∞‡Æø‡Æï‡Øç‡Æï‡Øà',\n    'emergency.description': '‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æâ‡Æü‡Æ©‡Æü‡Æø ‡ÆÜ‡Æ™‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡Æø‡Æ±‡ØÄ‡Æ∞‡Øç‡Æï‡Æ≥‡Ææ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æ§‡Æµ‡Æø ‡Æ§‡Øá‡Æµ‡Øà‡ÆØ‡Ææ? ‡Æá‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æµ‡Æö‡Æ∞ ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡Ææ‡Æ≥‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æï‡ØÅ‡Æ±‡Æø‡ÆØ‡Ææ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü ‡Æé‡Æö‡Øç‡Æö‡Æ∞‡Æø‡Æï‡Øç‡Æï‡Øà‡ÆØ‡Øà ‡ÆÖ‡Æ©‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ‡ÆÆ‡Øç.',\n    \n    // Home page\n    'home.title': '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡ØÅ‡Æ∞‡Æ≤‡Øç ‡ÆÆ‡ØÅ‡Æï‡Øç‡Æï‡Æø‡ÆØ‡ÆÆ‡Øç. ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æü‡Øà‡ÆØ‡Ææ‡Æ≥‡ÆÆ‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤.',\n    'home.subtitle': '‡Æ™‡ÆØ‡ÆÆ‡Æø‡Æ©‡Øç‡Æ±‡Æø ‡Æ™‡Øá‡Æö‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç. ‡ÆÖ‡Æ®‡Ææ‡ÆÆ‡Æ§‡Øá‡ÆØ‡ÆÆ‡Ææ‡Æï ‡Æ™‡ØÅ‡Æï‡Ææ‡Æ∞‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.',\n    'home.report.title': '‡Æ™‡Æø‡Æ∞‡Æö‡Øç‡Æö‡Æ©‡Øà‡ÆØ‡Øà ‡Æ™‡ØÅ‡Æï‡Ææ‡Æ∞‡Æ≥‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',\n    'home.report.description': '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ØÅ‡Æï‡Ææ‡Æ∞‡Øà ‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æ™‡Øç‡Æ™‡Ææ‡Æï ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ®‡Ææ‡ÆÆ‡Æ§‡Øá‡ÆØ‡ÆÆ‡Ææ‡Æï ‡Æö‡ÆÆ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.',\n    'home.status.title': '‡Æ®‡Æø‡Æ≤‡Øà‡ÆØ‡Øà ‡Æï‡Æ£‡Øç‡Æï‡Ææ‡Æ£‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',\n    'home.status.description': '‡Æï‡ØÅ‡Æ±‡Æø‡Æ™‡Øç‡Æ™‡ØÅ ‡Æê‡Æü‡Æø ‡ÆÆ‡ØÇ‡Æ≤‡ÆÆ‡Øç ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ØÅ‡Æï‡Ææ‡Æ∞‡Æø‡Æ©‡Øç ‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æ©‡Øá‡Æ±‡Øç‡Æ±‡Æ§‡Øç‡Æ§‡Øà ‡Æö‡Æ∞‡Æø‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.',\n    'home.community.title': '‡ÆÆ‡Æ±‡Øç‡Æ±‡Æµ‡Æ∞‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æâ‡Æ§‡Æµ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',\n    'home.community.description': '‡Æ™‡Øä‡Æ§‡ØÅ ‡Æ™‡ØÅ‡Æï‡Ææ‡Æ∞‡Øç‡Æï‡Æ≥‡Øà ‡Æ™‡Ææ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡ØÅ ‡ÆÜ‡Æ§‡Æ∞‡Æµ‡ØÅ ‡Æï‡Ææ‡Æü‡Øç‡Æü‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.',\n    \n    // Common\n    'common.submit': '‡Æö‡ÆÆ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',\n    'common.cancel': '‡Æ∞‡Æ§‡Øç‡Æ§‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç',\n    'common.loading': '‡Æè‡Æ±‡Øç‡Æ±‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ...',\n    'common.error': '‡Æ™‡Æø‡Æ¥‡Øà',\n    'common.success': '‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø',\n    'common.encrypted': '256-‡Æ™‡Æø‡Æü‡Øç ‡Æï‡ØÅ‡Æ±‡Æø‡ÆØ‡Ææ‡Æï‡Øç‡Æï‡ÆÆ‡Øç',\n    'common.anonymous': '‡Æ™‡ØÇ‡Æú‡Øç‡ÆØ-‡ÆÖ‡Æ±‡Æø‡Æµ‡ØÅ ‡ÆÖ‡Æ®‡Ææ‡ÆÆ‡Æ§‡Øá‡ÆØ',\n    'common.verified': '‡Æ™‡Æø‡Æ≥‡Ææ‡Æï‡Øç‡Æö‡ØÜ‡ÆØ‡Æø‡Æ©‡Øç ‡Æö‡Æ∞‡Æø‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ',\n  },\n  \n  kn: {\n    // Header\n    'nav.home': '‡≤Æ‡≥Å‡≤ñ‡≥ç‡≤Ø‡≤™‡≥Å‡≤ü',\n    'nav.report': '‡≤µ‡≤∞‡≤¶‡≤ø',\n    'nav.status': '‡≤∏‡≥ç‡≤•‡≤ø‡≤§‡≤ø ‡≤ü‡≥ç‡≤∞‡≥ç‡≤Ø‡≤æ‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø',\n    'nav.community': '‡≤∏‡≤Æ‡≥Å‡≤¶‡≤æ‡≤Ø',\n    'nav.emergency': '‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å',\n    \n    // Emergency\n    'emergency.title': '‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å ‡≤é‡≤ö‡≥ç‡≤ö‡≤∞‡≤ø‡≤ï‡≥Ü',\n    'emergency.description': '‡≤®‡≥Ä‡≤µ‡≥Å ‡≤§‡≤ï‡≥ç‡≤∑‡≤£‡≤¶ ‡≤Ö‡≤™‡≤æ‡≤Ø‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø‡≤¶‡≥ç‡≤¶‡≥Ä‡≤∞‡≤æ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤π‡≤æ‡≤Ø ‡≤¨‡≥á‡≤ï‡≤æ? ‡≤á‡≤¶‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å ‡≤∏‡≤Ç‡≤™‡≤∞‡≥ç‡≤ï‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤é‡≤®‡≥ç‚Äå‡≤ï‡≥ç‡≤∞‡≤ø‡≤™‡≥ç‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶ ‡≤é‡≤ö‡≥ç‡≤ö‡≤∞‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤≥‡≥Å‡≤π‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.',\n    \n    // Home page\n    'home.title': '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤Æ‡≥Å‡≤ñ‡≥ç‡≤Ø. ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ó‡≥Å‡≤∞‡≥Å‡≤§‡≥Å ‡≤Ö‡≤≤‡≥ç‡≤≤.',\n    'home.subtitle': '‡≤≠‡≤Ø‡≤µ‡≤ø‡≤≤‡≥ç‡≤≤‡≤¶‡≥Ü ‡≤Æ‡≤æ‡≤§‡≤æ‡≤°‡≤ø. ‡≤Ö‡≤®‡≤æ‡≤Æ‡≤ß‡≥á‡≤Ø‡≤µ‡≤æ‡≤ó‡≤ø ‡≤µ‡≤∞‡≤¶‡≤ø ‡≤Æ‡≤æ‡≤°‡≤ø.',\n    'home.report.title': '‡≤∏‡≤Æ‡≤∏‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤∞‡≤¶‡≤ø ‡≤Æ‡≤æ‡≤°‡≤ø',\n    'home.report.description': '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤¶‡≥Ç‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥Å‡≤∞‡≤ï‡≥ç‡≤∑‡≤ø‡≤§‡≤µ‡≤æ‡≤ó‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤Ö‡≤®‡≤æ‡≤Æ‡≤ß‡≥á‡≤Ø‡≤µ‡≤æ‡≤ó‡≤ø ‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤ø.',\n    'home.status.title': '‡≤∏‡≥ç‡≤•‡≤ø‡≤§‡≤ø ‡≤ü‡≥ç‡≤∞‡≥ç‡≤Ø‡≤æ‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø',\n    'home.status.description': '‡≤â‡≤≤‡≥ç‡≤≤‡≥á‡≤ñ ‡≤ê‡≤°‡≤ø‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤¶‡≥Ç‡≤∞‡≤ø‡≤® ‡≤™‡≥ç‡≤∞‡≤ó‡≤§‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤ø.',\n    'home.community.title': '‡≤á‡≤§‡≤∞‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤∏‡≤π‡≤æ‡≤Ø ‡≤Æ‡≤æ‡≤°‡≤ø',\n    'home.community.description': '‡≤∏‡≤æ‡≤∞‡≥ç‡≤µ‡≤ú‡≤®‡≤ø‡≤ï ‡≤¶‡≥Ç‡≤∞‡≥Å‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥Ä‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤¨‡≥Ü‡≤Ç‡≤¨‡≤≤ ‡≤§‡≥ã‡≤∞‡≤ø‡≤∏‡≤ø.',\n    \n    // Common\n    'common.submit': '‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤ø',\n    'common.cancel': '‡≤∞‡≤¶‡≥ç‡≤¶‡≥Å‡≤Æ‡≤æ‡≤°‡≤ø',\n    'common.loading': '‡≤≤‡≥ã‡≤°‡≥ç ‡≤Ü‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥Ü...',\n    'common.error': '‡≤¶‡≥ã‡≤∑',\n    'common.success': '‡≤Ø‡≤∂‡≤∏‡≥ç‡≤∏‡≥Å',\n    'common.encrypted': '256-‡≤¨‡≤ø‡≤ü‡≥ç ‡≤é‡≤®‡≥ç‚Äå‡≤ï‡≥ç‡≤∞‡≤ø‡≤™‡≥ç‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü',\n    'common.anonymous': '‡≤∂‡≥Ç‡≤®‡≥ç‡≤Ø-‡≤ú‡≥ç‡≤û‡≤æ‡≤® ‡≤Ö‡≤®‡≤æ‡≤Æ‡≤ß‡≥á‡≤Ø',\n    'common.verified': '‡≤¨‡≥ç‡≤≤‡≤æ‡≤ï‡≥ç‚Äå‡≤ö‡≥à‡≤®‡≥ç ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü',\n  },\n  \n  ur: {\n    // Header\n    'nav.home': '€ÅŸàŸÖ',\n    'nav.report': 'ÿ±ŸæŸàÿ±Ÿπ',\n    'nav.status': 'ÿßÿ≥Ÿπ€åŸπÿ≥ Ÿπÿ±€å⁄© ⁄©ÿ±€å⁄∫',\n    'nav.community': '⁄©ŸÖ€åŸàŸÜŸπ€å',\n    'nav.emergency': 'ÿß€åŸÖÿ±ÿ¨ŸÜÿ≥€å',\n    \n    // Emergency\n    'emergency.title': 'ÿß€åŸÖÿ±ÿ¨ŸÜÿ≥€å ÿßŸÑÿ±Ÿπ',\n    'emergency.description': '⁄©€åÿß ÿ¢Ÿæ ŸÅŸàÿ±€å ÿÆÿ∑ÿ±€í ŸÖ€å⁄∫ €Å€å⁄∫ ÿßŸàÿ± ŸÖÿØÿØ ⁄Üÿß€Å€å€íÿü €å€Å ÿ¢Ÿæ ⁄©€í ÿß€åŸÖÿ±ÿ¨ŸÜÿ≥€å ÿ±ÿßÿ®ÿ∑€í ⁄©Ÿà ÿßŸÜ⁄©ÿ±ŸæŸπ ÿ¥ÿØ€Å ÿßŸÑÿ±Ÿπ ÿ®⁄æ€åÿ¨€í ⁄Øÿß€î',\n    \n    // Home page\n    'home.title': 'ÿ¢Ÿæ ⁄©€å ÿ¢Ÿàÿßÿ≤ ÿß€ÅŸÖ €Å€í€î ÿ¢Ÿæ ⁄©€å ÿ¥ŸÜÿßÿÆÿ™ ŸÜ€Å€å⁄∫€î',\n    'home.subtitle': 'ÿ®ÿ∫€åÿ± ÿÆŸàŸÅ ⁄©€í ÿ®ŸàŸÑ€å⁄∫€î ⁄ØŸÖŸÜÿßŸÖ ÿ∑ÿ±€åŸÇ€í ÿ≥€í ÿ±ŸæŸàÿ±Ÿπ ⁄©ÿ±€å⁄∫€î',\n    'home.report.title': 'ŸÖÿ≥ÿ¶ŸÑ€í ⁄©€å ÿ±ŸæŸàÿ±Ÿπ ⁄©ÿ±€å⁄∫',\n    'home.report.description': 'ÿßŸæŸÜ€å ÿ¥⁄©ÿß€åÿ™ ŸÖÿ≠ŸÅŸàÿ∏ ÿßŸàÿ± ⁄ØŸÖŸÜÿßŸÖ ÿ∑ÿ±€åŸÇ€í ÿ≥€í ÿ¨ŸÖÿπ ⁄©ÿ±ÿßÿ¶€å⁄∫€î',\n    'home.status.title': 'ÿßÿ≥Ÿπ€åŸπÿ≥ Ÿπÿ±€å⁄© ⁄©ÿ±€å⁄∫',\n    'home.status.description': 'ÿ≠ŸàÿßŸÑ€Å ÿ¢ÿ¶€å ⁄à€å ⁄©€í ÿ≥ÿßÿ™⁄æ ÿßŸæŸÜ€å ÿ¥⁄©ÿß€åÿ™ ⁄©€å Ÿæ€åÿ¥ÿ±ŸÅÿ™ ⁄Ü€å⁄© ⁄©ÿ±€å⁄∫€î',\n    'home.community.title': 'ÿØŸàÿ≥ÿ±Ÿà⁄∫ ⁄©€å ŸÖÿØÿØ ⁄©ÿ±€å⁄∫',\n    'home.community.description': 'ÿπŸàÿßŸÖ€å ÿ¥⁄©ÿß€åÿßÿ™ ÿØ€å⁄©⁄æ€å⁄∫ ÿßŸàÿ± ÿ≥ŸæŸàÿ±Ÿπ ÿØ⁄©⁄æÿßÿ¶€å⁄∫€î',\n    \n    // Common\n    'common.submit': 'ÿ¨ŸÖÿπ ⁄©ÿ±ÿßÿ¶€å⁄∫',\n    'common.cancel': 'ŸÖŸÜÿ≥ŸàÿÆ ⁄©ÿ±€å⁄∫',\n    'common.loading': 'ŸÑŸà⁄à €ÅŸà ÿ±€Åÿß €Å€í...',\n    'common.error': 'ÿÆÿ±ÿßÿ®€å',\n    'common.success': '⁄©ÿßŸÖ€åÿßÿ®€å',\n    'common.encrypted': '256-ÿ®Ÿπ ÿßŸÜ⁄©ÿ±ŸæŸπ ÿ¥ÿØ€Å',\n    'common.anonymous': 'ÿµŸÅÿ±-ÿπŸÑŸÖ ⁄ØŸÖŸÜÿßŸÖ',\n    'common.verified': 'ÿ®ŸÑÿß⁄© ⁄Ü€åŸÜ ÿ™ÿµÿØ€åŸÇ ÿ¥ÿØ€Å',\n  },\n};\n\nlet currentLanguage = 'en';\n\nexport function setLanguage(language: string): void {\n  if (translations[language]) {\n    currentLanguage = language;\n    localStorage.setItem('speaksecure-language', language);\n  }\n}\n\nexport function getCurrentLanguage(): string {\n  return currentLanguage;\n}\n\nexport function t(key: string): string {\n  return translations[currentLanguage]?.[key] || translations['en']?.[key] || key;\n}\n\n// Initialize language from localStorage (with error handling)\ntry {\n  const savedLanguage = localStorage.getItem('speaksecure-language');\n  if (savedLanguage && translations[savedLanguage]) {\n    currentLanguage = savedLanguage;\n  }\n} catch (error) {\n  console.warn('Could not load saved language:', error);\n}\n","size_bytes":11132},"client/src/lib/ipfs.ts":{"content":"// IPFS integration for decentralized storage\n\nexport interface IpfsUploadResult {\n  cid: string;\n  size: number;\n  url: string;\n}\n\n// IPFS Configuration - Use runtime values instead of process.env\nconst IPFS_API_URL = 'https://ipfs.infura.io:5001';\nconst IPFS_PROJECT_ID = import.meta.env.VITE_IPFS_PROJECT_ID;\nconst IPFS_PROJECT_SECRET = import.meta.env.VITE_IPFS_PROJECT_SECRET;\n\n// Upload encrypted data to IPFS\nexport async function uploadToIpfs(data: string | ArrayBuffer): Promise<IpfsUploadResult> {\n  try {\n    const formData = new FormData();\n\n    if (typeof data === 'string') {\n      const blob = new Blob([data], { type: 'text/plain' });\n      formData.append('file', blob);\n    } else {\n      const blob = new Blob([data]);\n      formData.append('file', blob);\n    }\n\n    const auth = btoa(`${IPFS_PROJECT_ID}:${IPFS_PROJECT_SECRET}`);\n\n    const response = await fetch(`${IPFS_API_URL}/api/v0/add`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Basic ${auth}`,\n      },\n      body: formData,\n    });\n\n    if (!response.ok) {\n      throw new Error(`IPFS upload failed: ${response.statusText}`);\n    }\n\n    const result = await response.json();\n\n    return {\n      cid: result.Hash,\n      size: result.Size,\n      url: `https://ipfs.io/ipfs/${result.Hash}`,\n    };\n  } catch (error) {\n    console.error('IPFS upload error:', error);\n    throw new Error('Failed to upload to IPFS');\n  }\n}\n\n// Retrieve data from IPFS\nexport async function retrieveFromIpfs(cid: string): Promise<string> {\n  try {\n    const response = await fetch(`https://ipfs.io/ipfs/${cid}`);\n\n    if (!response.ok) {\n      throw new Error(`IPFS retrieval failed: ${response.statusText}`);\n    }\n\n    return await response.text();\n  } catch (error) {\n    console.error('IPFS retrieval error:', error);\n    throw new Error('Failed to retrieve from IPFS');\n  }\n}\n\n// Pin content to ensure persistence\nexport async function pinToIpfs(cid: string): Promise<void> {\n  try {\n    const auth = btoa(`${IPFS_PROJECT_ID}:${IPFS_PROJECT_SECRET}`);\n\n    const response = await fetch(`${IPFS_API_URL}/api/v0/pin/add?arg=${cid}`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Basic ${auth}`,\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`IPFS pinning failed: ${response.statusText}`);\n    }\n  } catch (error) {\n    console.error('IPFS pinning error:', error);\n    // Don't throw here as pinning failure shouldn't break the upload\n  }\n}\n\n// Upload file to IPFS\nexport async function uploadFileToIpfs(file: File): Promise<IpfsUploadResult> {\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const auth = btoa(`${IPFS_PROJECT_ID}:${IPFS_PROJECT_SECRET}`);\n\n    const response = await fetch(`${IPFS_API_URL}/api/v0/add`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Basic ${auth}`,\n      },\n      body: formData,\n    });\n\n    if (!response.ok) {\n      throw new Error(`File upload to IPFS failed: ${response.statusText}`);\n    }\n\n    const result = await response.json();\n\n    // Pin the content\n    await pinToIpfs(result.Hash);\n\n    return {\n      cid: result.Hash,\n      size: result.Size,\n      url: `https://ipfs.io/ipfs/${result.Hash}`,\n    };\n  } catch (error) {\n    console.error('File upload to IPFS error:', error);\n    throw new Error('Failed to upload file to IPFS');\n  }\n}","size_bytes":3366},"client/src/lib/queryClient.ts":{"content":"import { QueryClient } from '@tanstack/react-query';\n\n// API request helper function\nexport async function apiRequest(url: string, options: RequestInit = {}) {\n  const response = await fetch(`/api${url}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    },\n    ...options,\n  });\n\n  if (!response.ok) {\n    throw new Error(`API request failed: ${response.status} ${response.statusText}`);\n  }\n\n  return response.json();\n}\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5, // 5 minutes\n      gcTime: 1000 * 60 * 30, // 30 minutes\n      retry: (failureCount, error: any) => {\n        // Don't retry on 4xx errors\n        if (error?.status >= 400 && error?.status < 500) {\n          return false;\n        }\n        return failureCount < 3;\n      },\n      refetchOnWindowFocus: false,\n    },\n    mutations: {\n      retry: (failureCount, error: any) => {\n        // Don't retry on client errors\n        if (error?.status >= 400 && error?.status < 500) {\n          return false;\n        }\n        return failureCount < 2;\n      },\n    },\n  },\n});","size_bytes":1142},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/lib/voice.ts":{"content":"// Voice recognition and processing\n\nexport interface VoiceRecognitionConfig {\n  language?: string;\n  continuous?: boolean;\n  interimResults?: boolean;\n  maxAlternatives?: number;\n}\n\nexport interface VoiceRecognitionResult {\n  transcript: string;\n  confidence: number;\n  isFinal: boolean;\n}\n\n// Check if speech recognition is supported\nexport function isSpeechRecognitionSupported(): boolean {\n  return 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window;\n}\n\n// Create speech recognition instance\nexport function createSpeechRecognition(\n  config: VoiceRecognitionConfig = {}\n): any {\n  if (!isSpeechRecognitionSupported()) {\n    throw new Error('Speech recognition not supported in this browser');\n  }\n\n  const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\n  const recognition = new SpeechRecognition();\n\n  // Configure recognition\n  recognition.lang = config.language || 'en-US';\n  recognition.continuous = config.continuous ?? true;\n  recognition.interimResults = config.interimResults ?? true;\n  recognition.maxAlternatives = config.maxAlternatives || 1;\n\n  return recognition;\n}\n\n// Convert speech to text\nexport async function speechToText(\n  config: VoiceRecognitionConfig = {}\n): Promise<string> {\n  return new Promise((resolve, reject) => {\n    try {\n      const recognition = createSpeechRecognition(config);\n      let finalTranscript = '';\n\n      recognition.onstart = () => {\n        console.log('Speech recognition started');\n      };\n\n      recognition.onresult = (event: any) => {\n        let interimTranscript = '';\n        \n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          const transcript = event.results[i][0].transcript;\n          \n          if (event.results[i].isFinal) {\n            finalTranscript += transcript + ' ';\n          } else {\n            interimTranscript += transcript;\n          }\n        }\n      };\n\n      recognition.onend = () => {\n        resolve(finalTranscript.trim());\n      };\n\n      recognition.onerror = (event: any) => {\n        reject(new Error(`Speech recognition error: ${event.error}`));\n      };\n\n      recognition.start();\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n\n// Multi-language support\nexport const supportedLanguages = [\n  { code: 'en-US', name: 'English (US)' },\n  { code: 'hi-IN', name: 'Hindi (India)' },\n  { code: 'ta-IN', name: 'Tamil (India)' },\n  { code: 'kn-IN', name: 'Kannada (India)' },\n  { code: 'ur-PK', name: 'Urdu (Pakistan)' },\n];\n\n// Get language from locale\nexport function getLanguageFromLocale(locale: string): string {\n  const languageMap: Record<string, string> = {\n    'en': 'en-US',\n    'hi': 'hi-IN',\n    'ta': 'ta-IN',\n    'kn': 'kn-IN',\n    'ur': 'ur-PK',\n  };\n  \n  return languageMap[locale] || 'en-US';\n}\n\n// Text-to-speech for accessibility\nexport function textToSpeech(text: string, language: string = 'en-US'): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (!('speechSynthesis' in window)) {\n      reject(new Error('Text-to-speech not supported'));\n      return;\n    }\n\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.lang = language;\n    utterance.rate = 0.8;\n    utterance.pitch = 1;\n    utterance.volume = 0.8;\n\n    utterance.onend = () => resolve();\n    utterance.onerror = (error) => reject(error);\n\n    speechSynthesis.speak(utterance);\n  });\n}\n","size_bytes":3408},"client/src/lib/zk-identity.ts":{"content":"// Zero-Knowledge Identity implementation using Semaphore protocol\n// This is a simplified implementation for demonstration\n\nexport interface ZkIdentity {\n  identityId?: string;\n  commitment: string;\n  nullifierHash: string;\n  trapdoor: string;\n  nullifier: string;\n  groupId: string;\n  proof?: any; // Placeholder for proof object\n}\n\nexport interface ZkProof {\n  proof: string;\n  publicSignals: string[];\n  nullifierHash: string;\n}\n\n// Generate a new ZK identity\nexport async function generateZkIdentity(): Promise<ZkIdentity> {\n  try {\n    // Generate mock ZK proof data for development\n    const mockIdentityData = {\n      commitment: `0x${Math.random().toString(16).substr(2, 64)}`,\n      nullifier: `0x${Math.random().toString(16).substr(2, 64)}`,\n      proof: {\n        publicSignals: [\n          Math.random().toString(16).substr(2, 64),\n          Math.random().toString(16).substr(2, 64)\n        ],\n        proof: {\n          pi_a: [\n            Math.random().toString(16).substr(2, 64),\n            Math.random().toString(16).substr(2, 64),\n            \"1\"\n          ],\n          pi_b: [\n            [Math.random().toString(16).substr(2, 64), \"0\"],\n            [Math.random().toString(16).substr(2, 64), \"0\"],\n            [\"1\", \"0\"]\n          ],\n          pi_c: [\n            Math.random().toString(16).substr(2, 64),\n            Math.random().toString(16).substr(2, 64),\n            \"1\"\n          ],\n          protocol: \"groth16\",\n          curve: \"bn128\"\n        }\n      }\n    };\n\n    const response = await fetch('/api/zk/identity', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(mockIdentityData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to register ZK identity');\n    }\n\n    const data = await response.json();\n\n    if (!data.success) {\n      throw new Error(data.error || 'Failed to register ZK identity');\n    }\n\n    return {\n      identityId: data.data.identityId,\n      commitment: data.data.commitment,\n      nullifier: mockIdentityData.nullifier,\n      proof: mockIdentityData.proof\n    };\n  } catch (error) {\n    console.error('ZK identity registration failed:', error);\n    throw new Error('Failed to register ZK identity');\n  }\n}\n\n// Generate proof for an action (complaint submission, upvoting, etc.)\nexport async function generateProof(\n  identity: ZkIdentity,\n  action: string,\n  topic: string\n): Promise<ZkProof> {\n  // Create action-specific nullifier\n  const actionNullifierHash = generateActionNullifierHash(identity.nullifier, action, topic);\n\n  // Verify nullifier hasn't been used\n  const verifyResponse = await fetch(\"/api/zk/verify\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      commitment: identity.commitment,\n      nullifierHash: actionNullifierHash,\n      topic,\n    }),\n  });\n\n  if (!verifyResponse.ok) {\n    const error = await verifyResponse.json();\n    throw new Error(error.error || \"ZK verification failed\");\n  }\n\n  // Generate ZK proof (simplified)\n  const proof: ZkProof = {\n    proof: generateZkProofData(identity, action, topic),\n    publicSignals: [identity.commitment, actionNullifierHash, topic],\n    nullifierHash: actionNullifierHash,\n  };\n\n  return proof;\n}\n\n// Helper functions (simplified implementations)\nfunction generateRandomField(): string {\n  // In a real implementation, this would use a proper ZK-SNARKs library for field elements\n  // For demonstration, we generate a random hex string.\n  return \"0x\" + Array.from(crypto.getRandomValues(new Uint8Array(32)))\n    .map(b => b.toString(16).padStart(2, '0'))\n    .join('');\n}\n\nfunction generateCommitment(trapdoor: string, nullifier: string): string {\n  // Simplified commitment generation: In a real scenario, this would involve hashing trapdoor and other data.\n  // For demonstration, we generate a random hex string.\n  const encoder = new TextEncoder();\n  const data = encoder.encode(trapdoor + nullifier); // Example: Concatenate and hash\n  return crypto.subtle.digest('SHA-256', data).then(hashBuffer => {\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return \"0x\" + hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  }).catch(() => \"0x\" + Math.random().toString(16).substr(2)); // Fallback\n}\n\nfunction generateNullifierHash(nullifier: string, groupId: string): string {\n  // Simplified nullifier hash: In a real scenario, this would involve hashing the nullifier and group ID.\n  // For demonstration, we generate a random hex string.\n  const encoder = new TextEncoder();\n  const data = encoder.encode(nullifier + groupId); // Example: Concatenate and hash\n  return crypto.subtle.digest('SHA-256', data).then(hashBuffer => {\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return \"0x\" + hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  }).catch(() => \"0x\" + Math.random().toString(16).substr(2)); // Fallback\n}\n\nfunction generateActionNullifierHash(nullifier: string, action: string, topic: string): string {\n  // Generate action-specific nullifier to prevent double-spending\n  const encoder = new TextEncoder();\n  const data = encoder.encode(nullifier + action + topic);\n  return crypto.subtle.digest('SHA-256', data).then(hashBuffer => {\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return \"0x\" + hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  }).catch(() => \"0x\" + Math.random().toString(16).substr(2)); // Fallback\n}\n\nfunction generateMerkleProof(commitment: string): any {\n  // Simplified Merkle proof generation: In a real scenario, this would involve querying a Merkle tree.\n  // For demonstration, we return a dummy proof.\n  return {\n    root: \"0x\" + Array.from(crypto.getRandomValues(new Uint8Array(32)))\n      .map(b => b.toString(16).padStart(2, '0')).join(''),\n    siblings: [],\n    pathIndices: [],\n  };\n}\n\nfunction generateZkProofData(identity: ZkIdentity, action: string, topic: string): string {\n  // Simplified proof generation: In a real scenario, this would involve using a ZK proving library.\n  // For demonstration, we generate a random hex string.\n  // Note: In a real application, this would be the actual ZK proof string.\n  return \"0x\" + Array.from(crypto.getRandomValues(new Uint8Array(256)))\n    .map(b => b.toString(16).padStart(2, '0')).join('');\n}","size_bytes":6356},"client/src/pages/admin.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Eye, MessageSquare, ExternalLink, Copy, Filter, Download } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\ninterface AdminComplaint {\n  id: string;\n  referenceId: string;\n  topic: string;\n  status: string;\n  priority: string;\n  submittedAt: string;\n  upvotes: number;\n  isEmergency: boolean;\n  isPublic: boolean;\n}\n\ninterface AdminStats {\n  total: number;\n  byStatus: Record<string, number>;\n  byTopic: Record<string, number>;\n  byPriority: Record<string, number>;\n}\n\nexport default function AdminPage() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [filters, setFilters] = useState({\n    status: \"\",\n    priority: \"\",\n    topic: \"\",\n    search: \"\",\n  });\n  const [limit] = useState(10);\n  const [offset, setOffset] = useState(0);\n\n  // Fetch complaints\n  const { data: complaintsData, isLoading } = useQuery({\n    queryKey: ['/api/complaints', filters, limit, offset],\n    queryFn: async () => {\n      const params = new URLSearchParams({\n        limit: limit.toString(),\n        offset: offset.toString(),\n      });\n      \n      if (filters.status) params.append('status', filters.status);\n      if (filters.topic) params.append('topic', filters.topic);\n      \n      const response = await fetch(`/api/complaints?${params}`);\n      if (!response.ok) throw new Error('Failed to fetch complaints');\n      return await response.json();\n    },\n  });\n\n  // Fetch analytics\n  const { data: analytics } = useQuery({\n    queryKey: ['/api/analytics/stats'],\n    queryFn: async () => {\n      const response = await fetch('/api/analytics/stats');\n      if (!response.ok) throw new Error('Failed to fetch analytics');\n      return await response.json();\n    },\n  });\n\n  // Update status mutation\n  const updateStatusMutation = useMutation({\n    mutationFn: async ({ complaintId, status }: { complaintId: string; status: string }) => {\n      const response = await apiRequest(\"PATCH\", `/api/complaints/${complaintId}/status`, {\n        status,\n        updatedBy: \"admin\", // In real app, get from auth context\n      });\n      return await response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/complaints'] });\n      toast({\n        title: \"Status Updated\",\n        description: \"Complaint status has been updated successfully\",\n      });\n    },\n    onError: (error) => {\n      toast({\n        title: \"Update Failed\",\n        description: error.message || \"Failed to update complaint status\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleStatusChange = (complaintId: string, newStatus: string) => {\n    updateStatusMutation.mutate({ complaintId, status: newStatus });\n  };\n\n  const copyReferenceId = (referenceId: string) => {\n    navigator.clipboard.writeText(referenceId);\n    toast({\n      title: \"Copied!\",\n      description: \"Reference ID copied to clipboard\",\n    });\n  };\n\n  const exportData = () => {\n    const csvContent = [\n      ['Reference ID', 'Topic', 'Status', 'Priority', 'Submitted', 'Upvotes'].join(','),\n      ...complaints.map(c => [\n        c.referenceId,\n        c.topic,\n        c.status,\n        c.priority,\n        new Date(c.submittedAt).toLocaleDateString(),\n        c.upvotes\n      ].join(','))\n    ].join('\\n');\n    \n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'complaints-export.csv';\n    a.click();\n    URL.revokeObjectURL(url);\n\n    toast({\n      title: \"Export Complete\",\n      description: \"Complaints data has been exported to CSV\",\n    });\n  };\n\n  const complaints = complaintsData?.complaints || [];\n  const stats = analytics?.stats;\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'pending': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300';\n      case 'review': return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300';\n      case 'progress': return 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300';\n      case 'resolved': return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300';\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300';\n    }\n  };\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'urgent': return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300';\n      case 'high': return 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300';\n      case 'medium': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300';\n      case 'low': return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300';\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen pt-20 pb-12 px-4 sm:px-6 lg:px-8 gradient-bg\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">\n            Admin Dashboard\n          </h1>\n          <p className=\"text-xl text-gray-600 dark:text-gray-300\">\n            Manage and respond to complaints while maintaining user privacy\n          </p>\n        </div>\n\n        {/* Stats Cards */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n            <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center\">\n                    <Filter className=\"w-6 h-6 text-white\" />\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                      {stats.byStatus.pending || 0}\n                    </p>\n                    <p className=\"text-gray-600 dark:text-gray-300\">Pending</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center\">\n                    <Eye className=\"w-6 h-6 text-white\" />\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                      {stats.byStatus.review || 0}\n                    </p>\n                    <p className=\"text-gray-600 dark:text-gray-300\">Under Review</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center\">\n                    <MessageSquare className=\"w-6 h-6 text-white\" />\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                      {stats.byStatus.progress || 0}\n                    </p>\n                    <p className=\"text-gray-600 dark:text-gray-300\">In Progress</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center\">\n                    <Download className=\"w-6 h-6 text-white\" />\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                      {stats.byStatus.resolved || 0}\n                    </p>\n                    <p className=\"text-gray-600 dark:text-gray-300\">Resolved</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Filters and Controls */}\n        <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700 mb-8\">\n          <CardHeader>\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n              <CardTitle>Recent Complaints</CardTitle>\n              <div className=\"mt-4 sm:mt-0 flex space-x-3\">\n                <Button variant=\"outline\" onClick={exportData}>\n                  <Download className=\"w-4 h-4 mr-2\" />\n                  Export CSV\n                </Button>\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-col sm:flex-row gap-4 mb-6\">\n              <Select\n                value={filters.status}\n                onValueChange={(value) => setFilters(prev => ({ ...prev, status: value }))}\n              >\n                <SelectTrigger className=\"w-full sm:w-[180px]\">\n                  <SelectValue placeholder=\"All Status\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">All Status</SelectItem>\n                  <SelectItem value=\"pending\">Pending</SelectItem>\n                  <SelectItem value=\"review\">Under Review</SelectItem>\n                  <SelectItem value=\"progress\">In Progress</SelectItem>\n                  <SelectItem value=\"resolved\">Resolved</SelectItem>\n                </SelectContent>\n              </Select>\n\n              <Select\n                value={filters.priority}\n                onValueChange={(value) => setFilters(prev => ({ ...prev, priority: value }))}\n              >\n                <SelectTrigger className=\"w-full sm:w-[180px]\">\n                  <SelectValue placeholder=\"All Priority\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">All Priority</SelectItem>\n                  <SelectItem value=\"urgent\">Urgent</SelectItem>\n                  <SelectItem value=\"high\">High</SelectItem>\n                  <SelectItem value=\"medium\">Medium</SelectItem>\n                  <SelectItem value=\"low\">Low</SelectItem>\n                </SelectContent>\n              </Select>\n\n              <Input\n                placeholder=\"Search by reference ID...\"\n                value={filters.search}\n                onChange={(e) => setFilters(prev => ({ ...prev, search: e.target.value }))}\n                className=\"flex-1\"\n              />\n            </div>\n\n            {/* Complaints Table */}\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Reference ID</TableHead>\n                    <TableHead>Category</TableHead>\n                    <TableHead>Priority</TableHead>\n                    <TableHead>Status</TableHead>\n                    <TableHead>Submitted</TableHead>\n                    <TableHead>Upvotes</TableHead>\n                    <TableHead>Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {isLoading ? (\n                    Array.from({ length: 5 }).map((_, index) => (\n                      <TableRow key={index}>\n                        <TableCell><div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\"></div></TableCell>\n                        <TableCell><div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\"></div></TableCell>\n                        <TableCell><div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\"></div></TableCell>\n                        <TableCell><div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\"></div></TableCell>\n                        <TableCell><div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\"></div></TableCell>\n                        <TableCell><div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\"></div></TableCell>\n                        <TableCell><div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\"></div></TableCell>\n                      </TableRow>\n                    ))\n                  ) : (\n                    complaints\n                      .filter(complaint => \n                        !filters.search || \n                        complaint.referenceId.toLowerCase().includes(filters.search.toLowerCase())\n                      )\n                      .map((complaint) => (\n                        <TableRow key={complaint.id}>\n                          <TableCell>\n                            <div className=\"flex items-center space-x-2\">\n                              <code className=\"text-sm font-mono\">\n                                {complaint.referenceId}\n                              </code>\n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                onClick={() => copyReferenceId(complaint.referenceId)}\n                              >\n                                <Copy className=\"w-3 h-3\" />\n                              </Button>\n                            </div>\n                          </TableCell>\n                          <TableCell>\n                            <Badge variant=\"outline\" className=\"capitalize\">\n                              {complaint.topic}\n                            </Badge>\n                          </TableCell>\n                          <TableCell>\n                            <Badge className={getPriorityColor(complaint.priority)}>\n                              {complaint.priority}\n                            </Badge>\n                          </TableCell>\n                          <TableCell>\n                            <Select\n                              value={complaint.status}\n                              onValueChange={(value) => handleStatusChange(complaint.id, value)}\n                              disabled={updateStatusMutation.isPending}\n                            >\n                              <SelectTrigger className=\"w-[140px]\">\n                                <SelectValue />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"pending\">Pending</SelectItem>\n                                <SelectItem value=\"review\">Under Review</SelectItem>\n                                <SelectItem value=\"progress\">In Progress</SelectItem>\n                                <SelectItem value=\"resolved\">Resolved</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </TableCell>\n                          <TableCell>\n                            {new Date(complaint.submittedAt).toLocaleDateString()}\n                          </TableCell>\n                          <TableCell>\n                            <span className=\"font-medium\">{complaint.upvotes}</span>\n                          </TableCell>\n                          <TableCell>\n                            <div className=\"flex space-x-2\">\n                              <Button variant=\"ghost\" size=\"sm\">\n                                <Eye className=\"w-4 h-4\" />\n                              </Button>\n                              <Button variant=\"ghost\" size=\"sm\">\n                                <MessageSquare className=\"w-4 h-4\" />\n                              </Button>\n                              <Button variant=\"ghost\" size=\"sm\">\n                                <ExternalLink className=\"w-4 h-4\" />\n                              </Button>\n                            </div>\n                          </TableCell>\n                        </TableRow>\n                      ))\n                  )}\n                </TableBody>\n              </Table>\n            </div>\n\n            {/* Pagination */}\n            <div className=\"flex items-center justify-between mt-6\">\n              <div className=\"text-sm text-gray-700 dark:text-gray-300\">\n                Showing {offset + 1} to {Math.min(offset + limit, complaints.length)} of {complaints.length} complaints\n              </div>\n              <div className=\"flex space-x-2\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setOffset(Math.max(0, offset - limit))}\n                  disabled={offset === 0}\n                >\n                  Previous\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setOffset(offset + limit)}\n                  disabled={complaints.length < limit}\n                >\n                  Next\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":17958},"client/src/pages/analytics.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, LineChart, Line, AreaChart, Area } from \"recharts\";\nimport { TrendingUp, Users, Clock, Shield, Filter, Calendar, Download } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\n\ninterface AnalyticsData {\n  stats: {\n    total: number;\n    byStatus: Record<string, number>;\n    byTopic: Record<string, number>;\n    byPriority: Record<string, number>;\n    resolutionRate: number;\n  };\n}\n\nconst COLORS = {\n  primary: '#3b82f6',\n  secondary: '#8b5cf6',\n  success: '#10b981',\n  warning: '#f59e0b',\n  danger: '#ef4444',\n  info: '#06b6d4'\n};\n\nexport default function AnalyticsPage() {\n  const [timePeriod, setTimePeriod] = useState(\"30d\");\n  const [categoryFilter, setCategoryFilter] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"\");\n\n  const { data: analyticsData, isLoading } = useQuery<AnalyticsData>({\n    queryKey: ['/api/analytics/stats', timePeriod, categoryFilter, statusFilter],\n    queryFn: async () => {\n      const response = await fetch('/api/analytics/stats');\n      if (!response.ok) throw new Error('Failed to fetch analytics');\n      return await response.json();\n    },\n  });\n\n  const stats = analyticsData?.stats;\n\n  // Prepare chart data\n  const statusData = stats?.byStatus ? Object.entries(stats.byStatus).map(([status, count]) => ({\n    name: status.charAt(0).toUpperCase() + status.slice(1),\n    value: count,\n    fill: status === 'resolved' ? COLORS.success : \n          status === 'progress' ? COLORS.secondary :\n          status === 'review' ? COLORS.primary : COLORS.warning\n  })) : [];\n\n  const topicData = stats?.byTopic ? Object.entries(stats.byTopic).map(([topic, count]) => ({\n    name: topic.charAt(0).toUpperCase() + topic.slice(1),\n    value: count\n  })) : [];\n\n  const priorityData = stats?.byPriority ? Object.entries(stats.byPriority).map(([priority, count]) => ({\n    name: priority.charAt(0).toUpperCase() + priority.slice(1),\n    count: count,\n    fill: priority === 'urgent' ? COLORS.danger :\n          priority === 'high' ? COLORS.warning :\n          priority === 'medium' ? COLORS.primary : COLORS.success\n  })) : [];\n\n  // Mock timeline data for trends\n  const timelineData = [\n    { month: 'Nov', submitted: 67, resolved: 45 },\n    { month: 'Dec', submitted: 84, resolved: 62 },\n    { month: 'Jan', submitted: 73, resolved: 58 },\n    { month: 'Feb', submitted: 91, resolved: 71 },\n  ];\n\n  const keyMetrics = [\n    {\n      title: \"Avg Resolution Time\",\n      value: \"4.2 hours\",\n      icon: Clock,\n      color: \"text-blue-600 dark:text-blue-400\",\n      bg: \"bg-blue-50 dark:bg-blue-900/20\"\n    },\n    {\n      title: \"Resolution Rate\",\n      value: `${stats?.resolutionRate?.toFixed(1) || 0}%`,\n      icon: TrendingUp,\n      color: \"text-green-600 dark:text-green-400\",\n      bg: \"bg-green-50 dark:bg-green-900/20\"\n    },\n    {\n      title: \"User Satisfaction\",\n      value: \"4.7/5\",\n      icon: Users,\n      color: \"text-purple-600 dark:text-purple-400\",\n      bg: \"bg-purple-50 dark:bg-purple-900/20\"\n    },\n    {\n      title: \"Active NGO Partners\",\n      value: \"15\",\n      icon: Shield,\n      color: \"text-orange-600 dark:text-orange-400\",\n      bg: \"bg-orange-50 dark:bg-orange-900/20\"\n    },\n    {\n      title: \"Platform Trust Score\",\n      value: \"97%\",\n      icon: Shield,\n      color: \"text-teal-600 dark:text-teal-400\",\n      bg: \"bg-teal-50 dark:bg-teal-900/20\"\n    }\n  ];\n\n  const exportData = () => {\n    const exportData = {\n      timestamp: new Date().toISOString(),\n      timePeriod,\n      filters: { categoryFilter, statusFilter },\n      analytics: stats\n    };\n    \n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `analytics-export-${timePeriod}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"min-h-screen pt-20 pb-12 px-4 sm:px-6 lg:px-8 gradient-bg\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">\n            Analytics & Insights\n          </h1>\n          <p className=\"text-xl text-gray-600 dark:text-gray-300\">\n            Track community impact and platform effectiveness\n          </p>\n        </div>\n\n        {/* Filters */}\n        <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700 mb-8\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              <div className=\"flex-1\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  <Calendar className=\"w-4 h-4 inline mr-1\" />\n                  Time Period\n                </label>\n                <Select value={timePeriod} onValueChange={setTimePeriod}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"7d\">Last 7 Days</SelectItem>\n                    <SelectItem value=\"30d\">Last 30 Days</SelectItem>\n                    <SelectItem value=\"90d\">Last 3 Months</SelectItem>\n                    <SelectItem value=\"1y\">Last Year</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              \n              <div className=\"flex-1\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  <Filter className=\"w-4 h-4 inline mr-1\" />\n                  Category Filter\n                </label>\n                <Select value={categoryFilter} onValueChange={setCategoryFilter}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"All Categories\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"\">All Categories</SelectItem>\n                    <SelectItem value=\"harassment\">Harassment</SelectItem>\n                    <SelectItem value=\"discrimination\">Discrimination</SelectItem>\n                    <SelectItem value=\"safety\">Public Safety</SelectItem>\n                    <SelectItem value=\"corruption\">Corruption</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              \n              <div className=\"flex-1\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Status Filter\n                </label>\n                <Select value={statusFilter} onValueChange={setStatusFilter}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"All Status\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"\">All Status</SelectItem>\n                    <SelectItem value=\"resolved\">Resolved Only</SelectItem>\n                    <SelectItem value=\"pending\">Pending Only</SelectItem>\n                    <SelectItem value=\"progress\">In Progress</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              \n              <div className=\"flex items-end\">\n                <Button onClick={exportData} variant=\"outline\">\n                  <Download className=\"w-4 h-4 mr-2\" />\n                  Export\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Key Metrics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8\">\n          {keyMetrics.map((metric, index) => (\n            <Card key={index} className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n              <CardContent className=\"p-6 text-center\">\n                <div className={`w-12 h-12 ${metric.bg} rounded-lg flex items-center justify-center mx-auto mb-4`}>\n                  <metric.icon className={`w-6 h-6 ${metric.color}`} />\n                </div>\n                <div className={`text-2xl font-bold ${metric.color} mb-2`}>\n                  {metric.value}\n                </div>\n                <div className=\"text-gray-600 dark:text-gray-300 text-sm\">\n                  {metric.title}\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {/* Charts Grid */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n          \n          {/* Status Distribution Pie Chart */}\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardHeader>\n              <CardTitle>Complaints by Status</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {isLoading ? (\n                <div className=\"h-64 flex items-center justify-center\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500\"></div>\n                </div>\n              ) : (\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <PieChart>\n                    <Pie\n                      data={statusData}\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      labelLine={false}\n                      label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\n                      outerRadius={80}\n                      fill=\"#8884d8\"\n                      dataKey=\"value\"\n                    >\n                      {statusData.map((entry, index) => (\n                        <Cell key={`cell-${index}`} fill={entry.fill} />\n                      ))}\n                    </Pie>\n                    <Tooltip />\n                  </PieChart>\n                </ResponsiveContainer>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Topic Distribution Bar Chart */}\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardHeader>\n              <CardTitle>Complaints by Category</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {isLoading ? (\n                <div className=\"h-64 flex items-center justify-center\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500\"></div>\n                </div>\n              ) : (\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <BarChart data={topicData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"name\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Bar dataKey=\"value\" fill={COLORS.primary} />\n                  </BarChart>\n                </ResponsiveContainer>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Priority Distribution */}\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardHeader>\n              <CardTitle>Priority Distribution</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {isLoading ? (\n                <div className=\"h-64 flex items-center justify-center\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500\"></div>\n                </div>\n              ) : (\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <BarChart data={priorityData} layout=\"horizontal\">\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis type=\"number\" />\n                    <YAxis dataKey=\"name\" type=\"category\" />\n                    <Tooltip />\n                    <Bar dataKey=\"count\" fill={COLORS.secondary} />\n                  </BarChart>\n                </ResponsiveContainer>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Monthly Trends */}\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardHeader>\n              <CardTitle>Monthly Submission Trends</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <AreaChart data={timelineData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"month\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Area type=\"monotone\" dataKey=\"submitted\" stackId=\"1\" stroke={COLORS.primary} fill={COLORS.primary} fillOpacity={0.6} />\n                  <Area type=\"monotone\" dataKey=\"resolved\" stackId=\"1\" stroke={COLORS.success} fill={COLORS.success} fillOpacity={0.8} />\n                </AreaChart>\n              </ResponsiveContainer>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Resolution Timeline */}\n        <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700 mb-8\">\n          <CardHeader>\n            <CardTitle>Resolution Timeline</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={400}>\n              <LineChart data={timelineData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"month\" />\n                <YAxis />\n                <Tooltip />\n                <Line type=\"monotone\" dataKey=\"submitted\" stroke={COLORS.primary} strokeWidth={3} dot={{ fill: COLORS.primary, strokeWidth: 2, r: 6 }} />\n                <Line type=\"monotone\" dataKey=\"resolved\" stroke={COLORS.success} strokeWidth={3} dot={{ fill: COLORS.success, strokeWidth: 2, r: 6 }} />\n              </LineChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Summary Stats */}\n        {stats && (\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardHeader>\n              <CardTitle>Platform Overview</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6 text-center\">\n                <div>\n                  <div className=\"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-2\">\n                    {stats.total.toLocaleString()}\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-300\">Total Complaints</div>\n                </div>\n                <div>\n                  <div className=\"text-3xl font-bold text-green-600 dark:text-green-400 mb-2\">\n                    {stats.resolutionRate.toFixed(1)}%\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-300\">Resolution Rate</div>\n                </div>\n                <div>\n                  <div className=\"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2\">\n                    {(stats.byStatus.resolved || 0).toLocaleString()}\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-300\">Cases Resolved</div>\n                </div>\n                <div>\n                  <div className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mb-2\">\n                    {(stats.byPriority.urgent || 0).toLocaleString()}\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-300\">Urgent Cases</div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":15783},"client/src/pages/home.tsx":{"content":"import { Link } from \"wouter\";\nimport { Shield, Edit, Search, Heart, Lock, Eye, Box, Users, Globe } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { t } from \"@/lib/i18n\";\n\nexport default function HomePage() {\n  const stats = {\n    totalComplaints: 1247,\n    resolutionRate: 89,\n    ngoPartners: 15,\n    avgResponseTime: \"4h\"\n  };\n\n  const trustIndicators = [\n    { icon: Lock, text: t('common.encrypted'), color: \"text-green-500\" },\n    { icon: Eye, text: t('common.anonymous'), color: \"text-green-500\" },\n    { icon: Box, text: t('common.verified'), color: \"text-green-500\" },\n    { icon: Users, text: \"NGO Connected\", color: \"text-green-500\" },\n    { icon: Globe, text: \"5 Languages\", color: \"text-green-500\" },\n  ];\n\n  const howItWorksSteps = [\n    {\n      number: 1,\n      icon: Edit,\n      title: \"Write or Speak\",\n      description: \"Use text input, voice recording, or file uploads to describe your complaint in detail.\",\n      gradient: \"from-primary-500 to-primary-600\"\n    },\n    {\n      number: 2,\n      icon: Lock,\n      title: \"Auto-Encrypt\",\n      description: \"Your complaint is encrypted with AES-256 before leaving your device. No one can read it.\",\n      gradient: \"from-green-500 to-green-600\"\n    },\n    {\n      number: 3,\n      icon: Box,\n      title: \"Secure Storage\",\n      description: \"Encrypted data is stored on IPFS and hash recorded on blockchain for tamper-proof verification.\",\n      gradient: \"from-purple-500 to-purple-600\"\n    },\n    {\n      number: 4,\n      icon: Users,\n      title: \"Get Help\",\n      description: \"Trusted NGOs and authorities can decrypt and respond to help resolve your complaint.\",\n      gradient: \"from-emerald-500 to-emerald-600\"\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Hero Section */}\n      <section className=\"relative overflow-hidden py-20 px-4 sm:px-6 lg:px-8\">\n        {/* Background decoration */}\n        <div className=\"absolute inset-0 bg-gradient-to-r from-primary-600/10 via-purple-600/10 to-teal-600/10\"></div>\n        <div className=\"absolute top-0 left-1/4 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse\"></div>\n        <div className=\"absolute top-0 right-1/4 w-72 h-72 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse delay-1000\"></div>\n\n        <div className=\"relative max-w-7xl mx-auto\">\n          <div className=\"text-center mb-16\">\n            <h1 className=\"text-4xl md:text-6xl font-bold mb-6\">\n              <span className=\"bg-gradient-to-r from-primary-600 via-purple-600 to-teal-600 bg-clip-text text-transparent\">\n                {t('home.title').split('.')[0]}.\n              </span>\n              <br />\n              <span className=\"text-gray-800 dark:text-gray-200\">\n                {t('home.title').split('.')[1]}.\n              </span>\n            </h1>\n            <p className=\"text-xl md:text-2xl text-gray-600 dark:text-gray-400 mb-8 max-w-3xl mx-auto leading-relaxed\">\n              {t('home.subtitle')}\n            </p>\n\n            {/* Trust Indicators */}\n            <div className=\"flex flex-wrap justify-center items-center gap-6 text-sm text-gray-500 dark:text-gray-400 mb-12\">\n              {trustIndicators.map((indicator, index) => (\n                <div key={index} className=\"flex items-center space-x-2\">\n                  <indicator.icon className={`w-5 h-5 ${indicator.color}`} />\n                  <span>{indicator.text}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Main Action Cards */}\n          <div className=\"grid md:grid-cols-3 gap-6 mb-16\">\n            {/* Report Problem Card */}\n            <Card className=\"group bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 border border-white/50 dark:border-gray-700/50\">\n              <CardHeader className=\"text-center\">\n                <div className=\"w-16 h-16 bg-gradient-to-r from-primary-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform\">\n                  <Edit className=\"w-8 h-8 text-white\" />\n                </div>\n                <CardTitle className=\"text-2xl\">{t('home.report.title')}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"text-center\">\n                <CardDescription className=\"mb-6 leading-relaxed\">\n                  {t('home.report.description')}\n                </CardDescription>\n                <Button asChild className=\"w-full bg-gradient-to-r from-primary-500 to-purple-500 hover:from-primary-600 hover:to-purple-600\">\n                  <Link href=\"/report\">Start Report</Link>\n                </Button>\n              </CardContent>\n            </Card>\n\n            {/* Track Status Card */}\n            <Card className=\"group bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 border border-white/50 dark:border-gray-700/50\">\n              <CardHeader className=\"text-center\">\n                <div className=\"w-16 h-16 bg-gradient-to-r from-teal-500 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform\">\n                  <Search className=\"w-8 h-8 text-white\" />\n                </div>\n                <CardTitle className=\"text-2xl\">{t('home.status.title')}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"text-center\">\n                <CardDescription className=\"mb-6 leading-relaxed\">\n                  {t('home.status.description')}\n                </CardDescription>\n                <Button asChild className=\"w-full bg-gradient-to-r from-teal-500 to-green-500 hover:from-teal-600 hover:to-green-600\">\n                  <Link href=\"/status\">Check Status</Link>\n                </Button>\n              </CardContent>\n            </Card>\n\n            {/* Help Others Card */}\n            <Card className=\"group bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 border border-white/50 dark:border-gray-700/50\">\n              <CardHeader className=\"text-center\">\n                <div className=\"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform\">\n                  <Heart className=\"w-8 h-8 text-white\" />\n                </div>\n                <CardTitle className=\"text-2xl\">{t('home.community.title')}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"text-center\">\n                <CardDescription className=\"mb-6 leading-relaxed\">\n                  {t('home.community.description')}\n                </CardDescription>\n                <Button asChild className=\"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\">\n                  <Link href=\"/public\">View Community</Link>\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Statistics */}\n          <Card className=\"shadow-xl border border-gray-200 dark:border-gray-700\">\n            <CardContent className=\"p-8\">\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8 text-center\">\n                <div>\n                  <div className=\"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-2\">\n                    {stats.totalComplaints.toLocaleString()}\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-300\">Total Reports</div>\n                </div>\n                <div>\n                  <div className=\"text-3xl font-bold text-green-600 dark:text-green-400 mb-2\">\n                    {stats.resolutionRate}%\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-300\">Resolution Rate</div>\n                </div>\n                <div>\n                  <div className=\"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2\">\n                    {stats.ngoPartners}\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-300\">NGO Partners</div>\n                </div>\n                <div>\n                  <div className=\"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-2\">\n                    {stats.avgResponseTime}\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-300\">Avg Response</div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </section>\n\n      {/* How It Works Section */}\n      <section className=\"py-20 bg-white dark:bg-gray-900\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4\">\n              How SpeakSecure Works\n            </h2>\n            <p className=\"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto\">\n              Your privacy and security are protected at every step with cutting-edge cryptography\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n            {howItWorksSteps.map((step, index) => (\n              <div key={index} className=\"text-center group\">\n                <div className=\"relative mb-6\">\n                  <div className={`w-20 h-20 bg-gradient-to-r ${step.gradient} rounded-full flex items-center justify-center mx-auto group-hover:scale-110 transition-transform shadow-lg`}>\n                    <step.icon className=\"w-8 h-8 text-white\" />\n                  </div>\n                  <div className=\"absolute -top-2 -right-2 w-8 h-8 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center text-primary-600 dark:text-primary-400 font-bold border-2 border-primary-200 dark:border-primary-700\">\n                    {step.number}\n                  </div>\n                </div>\n                <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-3\">\n                  {step.title}\n                </h3>\n                <p className=\"text-gray-600 dark:text-gray-300\">\n                  {step.description}\n                </p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Testimonial Section */}\n      <section className=\"py-20 bg-gradient-to-br from-purple-50 to-primary-50 dark:from-gray-800 dark:to-gray-900\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n          <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-12\">\n            Real Impact, Real Stories\n          </h2>\n\n          <Card className=\"shadow-2xl border border-gray-200 dark:border-gray-700 mb-8\">\n            <CardContent className=\"p-8\">\n              <div className=\"flex items-center justify-center mb-6\">\n                <div className=\"w-16 h-16 bg-gradient-to-r from-purple-500 to-primary-500 rounded-full flex items-center justify-center\">\n                  <Shield className=\"w-8 h-8 text-white\" />\n                </div>\n              </div>\n              <blockquote className=\"text-xl text-gray-700 dark:text-gray-300 mb-6 italic\">\n                \"Finally, a platform where I could speak up about workplace harassment without fear of retaliation. \n                The anonymous system gave me the courage to report, and the NGO response was immediate and supportive. \n                My situation was resolved in just 3 days.\"\n              </blockquote>\n              <div className=\"text-gray-600 dark:text-gray-400\">\n                ‚Äî Anonymous User, Mumbai\n                <div className=\"text-sm mt-1\">Harassment case resolved ‚Ä¢ January 2024</div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Impact Numbers */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            <div className=\"text-center\">\n              <div className=\"text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2\">\n                {stats.totalComplaints.toLocaleString()}\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-300\">Lives Helped</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-4xl font-bold text-green-600 dark:text-green-400 mb-2\">\n                {stats.resolutionRate}%\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-300\">Cases Resolved</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-4xl font-bold text-purple-600 dark:text-purple-400 mb-2\">\n                {stats.ngoPartners}\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-300\">NGO Partners</div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}","size_bytes":13155},"client/src/pages/ngo.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Unlock, MessageSquare, BarChart3, Shield, AlertTriangle, Phone, MapPin, Clock } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { encryptData } from \"@/lib/encryption\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\ninterface PriorityComplaint {\n  id: string;\n  referenceId: string;\n  topic: string;\n  priority: string;\n  status: string;\n  submittedAt: string;\n  isEmergency: boolean;\n  emergencyContact?: string;\n  location?: {\n    latitude: number;\n    longitude: number;\n  };\n  encryptedContent: string;\n}\n\ninterface NgoStats {\n  totalAssigned: number;\n  pendingReview: number;\n  inProgress: number;\n  resolved: number;\n  avgResponseTime: string;\n}\n\nexport default function NgoPage() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [selectedComplaint, setSelectedComplaint] = useState<PriorityComplaint | null>(null);\n  const [response, setResponse] = useState(\"\");\n  const [responseType, setResponseType] = useState(\"advice\");\n\n  // Mock NGO stats - in real app, fetch from API\n  const stats: NgoStats = {\n    totalAssigned: 47,\n    pendingReview: 12,\n    inProgress: 23,\n    resolved: 156,\n    avgResponseTime: \"2.4h\"\n  };\n\n  // Fetch priority complaints\n  const { data: priorityComplaints, isLoading } = useQuery({\n    queryKey: ['/api/complaints', { priority: 'urgent,high', status: 'pending,review' }],\n    queryFn: async () => {\n      const response = await fetch('/api/complaints?priority=urgent&status=pending');\n      if (!response.ok) throw new Error('Failed to fetch priority complaints');\n      const data = await response.json();\n      return data.complaints || [];\n    },\n  });\n\n  // Send NGO response mutation\n  const sendResponseMutation = useMutation({\n    mutationFn: async ({ complaintId, responseText, type }: { \n      complaintId: string; \n      responseText: string; \n      type: string; \n    }) => {\n      const encryptedResponse = encryptData(responseText);\n      \n      const response = await apiRequest(\"POST\", \"/api/ngo/responses\", {\n        complaintId,\n        ngoId: \"ngo-user-id\", // In real app, get from auth context\n        encryptedResponse: encryptedResponse.encryptedData,\n        responseType: type,\n        isUrgent: type === \"emergency_response\",\n      });\n      \n      return await response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/complaints'] });\n      toast({\n        title: \"Response Sent\",\n        description: \"Your encrypted response has been sent to the complainant\",\n      });\n      setResponse(\"\");\n      setSelectedComplaint(null);\n    },\n    onError: (error) => {\n      toast({\n        title: \"Response Failed\",\n        description: error.message || \"Failed to send response\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSendResponse = () => {\n    if (!selectedComplaint || !response.trim()) return;\n    \n    sendResponseMutation.mutate({\n      complaintId: selectedComplaint.id,\n      responseText: response,\n      type: responseType,\n    });\n  };\n\n  const initiateEmergencyResponse = (complaint: PriorityComplaint) => {\n    // In real app, this would trigger emergency protocols\n    toast({\n      title: \"Emergency Response Initiated\",\n      description: \"Emergency protocols have been activated for this complaint\",\n    });\n  };\n\n  const getTimeAgo = (date: string) => {\n    const now = new Date();\n    const submitted = new Date(date);\n    const diffInMinutes = Math.floor((now.getTime() - submitted.getTime()) / (1000 * 60));\n    \n    if (diffInMinutes < 60) return `${diffInMinutes} minutes ago`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)} hours ago`;\n    return `${Math.floor(diffInMinutes / 1440)} days ago`;\n  };\n\n  const formatLocation = (lat: number, lng: number) => {\n    return `${lat.toFixed(4)}, ${lng.toFixed(4)}`;\n  };\n\n  const complaints = priorityComplaints || [];\n\n  return (\n    <div className=\"min-h-screen pt-20 pb-12 px-4 sm:px-6 lg:px-8 gradient-bg\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">\n            NGO Partner Dashboard\n          </h1>\n          <p className=\"text-xl text-gray-600 dark:text-gray-300\">\n            Decrypt and respond to complaints with specialized expertise\n          </p>\n          \n          {/* NGO Authentication Status */}\n          <div className=\"inline-flex items-center space-x-2 bg-green-50 dark:bg-green-900/20 px-4 py-2 rounded-lg mt-4\">\n            <Shield className=\"w-5 h-5 text-green-500\" />\n            <span className=\"text-green-700 dark:text-green-400 font-medium\">\n              Verified NGO Partner: Women's Rights Foundation\n            </span>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8\">\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-2\">\n                {stats.totalAssigned}\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-300 text-sm\">Total Assigned</div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mb-2\">\n                {stats.pendingReview}\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-300 text-sm\">Pending Review</div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-2\">\n                {stats.inProgress}\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-300 text-sm\">In Progress</div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"text-2xl font-bold text-green-600 dark:text-green-400 mb-2\">\n                {stats.resolved}\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-300 text-sm\">Resolved</div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"text-2xl font-bold text-teal-600 dark:text-teal-400 mb-2\">\n                {stats.avgResponseTime}\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-300 text-sm\">Avg Response</div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* NGO Action Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 security-gradient rounded-full flex items-center justify-center mx-auto mb-4\">\n                <Unlock className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                Decrypt Complaints\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-300 text-sm mb-4\">\n                Access encrypted complaint content with your NGO key\n              </p>\n              <Button className=\"w-full security-gradient\">\n                Access Encrypted Data\n              </Button>\n            </CardContent>\n          </Card>\n\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 success-gradient rounded-full flex items-center justify-center mx-auto mb-4\">\n                <MessageSquare className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                Respond Securely\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-300 text-sm mb-4\">\n                Send encrypted responses back to complaint submitters\n              </p>\n              <Button className=\"w-full success-gradient\">\n                Send Response\n              </Button>\n            </CardContent>\n          </Card>\n\n          <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <BarChart3 className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                Impact Analytics\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-300 text-sm mb-4\">\n                Track resolution statistics and community impact\n              </p>\n              <Button className=\"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\">\n                View Impact Data\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Priority Complaints */}\n        <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center space-x-2\">\n              <AlertTriangle className=\"w-5 h-5 text-red-500\" />\n              <span>Priority Complaints Requiring Attention</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {isLoading ? (\n              <div className=\"space-y-4\">\n                {Array.from({ length: 3 }).map((_, index) => (\n                  <div key={index} className=\"border border-gray-200 dark:border-gray-600 rounded-lg p-4 animate-pulse\">\n                    <div className=\"flex items-start justify-between mb-3\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n                        <div className=\"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n                      </div>\n                      <div className=\"h-4 w-20 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n                    </div>\n                    <div className=\"h-4 w-3/4 bg-gray-200 dark:bg-gray-700 rounded mb-2\"></div>\n                    <div className=\"h-4 w-1/2 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n                  </div>\n                ))}\n              </div>\n            ) : complaints.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <AlertTriangle className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n                  No Priority Complaints\n                </h3>\n                <p className=\"text-gray-600 dark:text-gray-300\">\n                  All urgent complaints have been addressed. Great work!\n                </p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {complaints.map((complaint: PriorityComplaint) => (\n                  <div key={complaint.id} className=\"border border-gray-200 dark:border-gray-600 rounded-lg p-4\">\n                    <div className=\"flex items-start justify-between mb-3\">\n                      <div className=\"flex items-center space-x-3\">\n                        <Badge className={complaint.priority === 'urgent' ? 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300' : 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300'}>\n                          {complaint.priority.toUpperCase()}\n                        </Badge>\n                        <code className=\"text-sm font-mono text-gray-900 dark:text-white\">\n                          {complaint.referenceId}\n                        </code>\n                        <Badge variant=\"outline\" className=\"capitalize\">\n                          {complaint.topic}\n                        </Badge>\n                      </div>\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        {getTimeAgo(complaint.submittedAt)}\n                      </span>\n                    </div>\n                    \n                    <div className=\"mb-4\">\n                      <div className=\"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg\">\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <Unlock className=\"w-4 h-4 text-yellow-600\" />\n                          <span className=\"text-sm font-medium text-yellow-800 dark:text-yellow-200\">\n                            Encrypted Content Available\n                          </span>\n                        </div>\n                        <p className=\"text-yellow-700 dark:text-yellow-300 text-sm\">\n                          This complaint contains encrypted details that require NGO decryption key to access.\n                        </p>\n                      </div>\n                    </div>\n\n                    {/* Emergency Contact Information */}\n                    {complaint.isEmergency && (\n                      <div className=\"mb-4\">\n                        <h4 className=\"text-sm font-medium text-gray-900 dark:text-white mb-2\">\n                          Emergency Contact Information:\n                        </h4>\n                        <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg\">\n                          {complaint.emergencyContact && (\n                            <div className=\"flex items-center space-x-2 mb-2\">\n                              <Phone className=\"w-4 h-4 text-red-600\" />\n                              <span className=\"text-red-700 dark:text-red-300 font-mono text-sm\">\n                                {complaint.emergencyContact}\n                              </span>\n                            </div>\n                          )}\n                          {complaint.location && (\n                            <div className=\"flex items-center space-x-2\">\n                              <MapPin className=\"w-4 h-4 text-red-600\" />\n                              <span className=\"text-red-700 dark:text-red-300 text-sm\">\n                                {formatLocation(complaint.location.latitude, complaint.location.longitude)}\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    )}\n\n                    <div className=\"flex space-x-3\">\n                      <Dialog>\n                        <DialogTrigger asChild>\n                          <Button \n                            className=\"flex-1 security-gradient\"\n                            onClick={() => setSelectedComplaint(complaint)}\n                          >\n                            <Unlock className=\"w-4 h-4 mr-2\" />\n                            Decrypt & View Full Details\n                          </Button>\n                        </DialogTrigger>\n                        <DialogContent className=\"sm:max-w-md\">\n                          <DialogHeader>\n                            <DialogTitle>Send Response</DialogTitle>\n                          </DialogHeader>\n                          <div className=\"space-y-4\">\n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                                Response Type\n                              </label>\n                              <Select value={responseType} onValueChange={setResponseType}>\n                                <SelectTrigger>\n                                  <SelectValue />\n                                </SelectTrigger>\n                                <SelectContent>\n                                  <SelectItem value=\"advice\">Advice & Guidance</SelectItem>\n                                  <SelectItem value=\"referral\">Service Referral</SelectItem>\n                                  <SelectItem value=\"action_plan\">Action Plan</SelectItem>\n                                  <SelectItem value=\"emergency_response\">Emergency Response</SelectItem>\n                                </SelectContent>\n                              </Select>\n                            </div>\n                            \n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                                Your Response\n                              </label>\n                              <Textarea\n                                placeholder=\"Write your encrypted response to the complainant...\"\n                                value={response}\n                                onChange={(e) => setResponse(e.target.value)}\n                                rows={4}\n                              />\n                            </div>\n                            \n                            <div className=\"flex space-x-3\">\n                              <Button \n                                variant=\"outline\" \n                                className=\"flex-1\"\n                                onClick={() => setSelectedComplaint(null)}\n                              >\n                                Cancel\n                              </Button>\n                              <Button \n                                className=\"flex-1\"\n                                onClick={handleSendResponse}\n                                disabled={!response.trim() || sendResponseMutation.isPending}\n                              >\n                                {sendResponseMutation.isPending ? \"Sending...\" : \"Send Response\"}\n                              </Button>\n                            </div>\n                          </div>\n                        </DialogContent>\n                      </Dialog>\n                      \n                      {complaint.isEmergency && (\n                        <Button\n                          onClick={() => initiateEmergencyResponse(complaint)}\n                          className=\"flex-1 emergency-gradient\"\n                        >\n                          <AlertTriangle className=\"w-4 h-4 mr-2\" />\n                          Emergency Response\n                        </Button>\n                      )}\n                      \n                      <Button variant=\"outline\" size=\"sm\">\n                        <Clock className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":19974},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/pages/public-feed.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Heart, Filter, TrendingUp, Clock, ExternalLink } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ComplaintCard } from \"@/components/complaint-card\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useZkIdentity } from \"@/hooks/use-zk-identity\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\ninterface PublicComplaint {\n  id: string;\n  referenceId: string;\n  topic: string;\n  tags?: string[];\n  priority: string;\n  status: string;\n  upvotes: number;\n  submittedAt: string;\n  blockchainHash?: string;\n  isPublic: boolean;\n  preview?: string;\n}\n\nconst categoryFilters = [\n  { value: \"all\", label: \"All Categories\" },\n  { value: \"harassment\", label: \"Harassment\" },\n  { value: \"discrimination\", label: \"Discrimination\" },\n  { value: \"safety\", label: \"Public Safety\" },\n  { value: \"corruption\", label: \"Corruption\" },\n  { value: \"abuse\", label: \"Abuse\" },\n  { value: \"legal\", label: \"Legal Issues\" },\n];\n\nconst statusFilters = [\n  { value: \"all\", label: \"All Status\" },\n  { value: \"pending\", label: \"Pending\" },\n  { value: \"review\", label: \"Under Review\" },\n  { value: \"progress\", label: \"In Progress\" },\n  { value: \"resolved\", label: \"Resolved\" },\n];\n\nconst sortOptions = [\n  { value: \"recent\", label: \"Most Recent\" },\n  { value: \"upvotes\", label: \"Most Upvoted\" },\n  { value: \"urgent\", label: \"Most Urgent\" },\n];\n\nexport default function PublicFeedPage() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const { generateProofForAction } = useZkIdentity();\n\n  const [filters, setFilters] = useState({\n    category: \"\",\n    status: \"\",\n    sort: \"recent\",\n  });\n  const [limit] = useState(20);\n  const [offset, setOffset] = useState(0);\n\n  const { data: complaintsData, isLoading } = useQuery({\n    queryKey: ['/api/complaints', {\n      isPublic: true,\n      topic: filters.category,\n      status: filters.status,\n      limit,\n      offset\n    }],\n    queryFn: async () => {\n      const params = new URLSearchParams({\n        isPublic: 'true',\n        limit: limit.toString(),\n        offset: offset.toString(),\n      });\n\n      if (filters.category) params.append('topic', filters.category);\n      if (filters.status) params.append('status', filters.status);\n\n      const response = await fetch(`/api/complaints?${params}`);\n      if (!response.ok) throw new Error('Failed to fetch complaints');\n      return await response.json();\n    },\n  });\n\n  const upvoteMutation = useMutation({\n    mutationFn: async ({ complaintId }: { complaintId: string }) => {\n      // Generate ZK proof for upvoting\n      const zkProof = await generateProofForAction(\"upvote\", complaintId);\n\n      const response = await apiRequest(\"POST\", `/api/complaints/${complaintId}/upvote`, {\n        nullifierHash: zkProof.nullifierHash,\n      });\n\n      return await response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/complaints'] });\n      toast({\n        title: \"Upvote Recorded\",\n        description: \"Your support has been recorded anonymously\",\n      });\n    },\n    onError: (error) => {\n      toast({\n        title: \"Upvote Failed\",\n        description: error.message || \"You may have already upvoted this complaint\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleUpvote = (complaintId: string) => {\n    upvoteMutation.mutate({ complaintId });\n  };\n\n  const handleFilterChange = (filterType: string, value: string) => {\n    setFilters(prev => ({ ...prev, [filterType]: value }));\n    setOffset(0); // Reset to first page when filtering\n  };\n\n  const loadMore = () => {\n    setOffset(prev => prev + limit);\n  };\n\n  const complaints = complaintsData?.complaints || [];\n\n  // Sort complaints based on selected option\n  const sortedComplaints = [...complaints].sort((a, b) => {\n    switch (filters.sort) {\n      case 'upvotes':\n        return b.upvotes - a.upvotes;\n      case 'urgent':\n        const priorityOrder = { urgent: 4, high: 3, medium: 2, low: 1 };\n        return (priorityOrder[b.priority as keyof typeof priorityOrder] || 0) -\n               (priorityOrder[a.priority as keyof typeof priorityOrder] || 0);\n      case 'recent':\n      default:\n        return new Date(b.submittedAt).getTime() - new Date(a.submittedAt).getTime();\n    }\n  });\n\n  return (\n    <div className=\"min-h-screen pt-20 pb-12 px-4 sm:px-6 lg:px-8 gradient-bg\">\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">\n            Community Voice\n          </h1>\n          <p className=\"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto\">\n            Support others by viewing and upvoting public complaints. Every voice matters in building a safer community.\n          </p>\n        </div>\n\n        {/* Filter Controls */}\n        <Card className=\"shadow-lg border border-gray-200 dark:border-gray-700 mb-8\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              {/* Category Filter */}\n              <div className=\"flex-1\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Filter by Category\n                </label>\n                <Select\n                  value={filters.category}\n                  onValueChange={(value) => handleFilterChange(\"category\", value)}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select a category\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {categoryFilters.map((filter) => (\n                      <SelectItem key={filter.value} value={filter.value}>\n                        {filter.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Status Filter */}\n              <div className=\"flex-1\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Filter by Status\n                </label>\n                <Select\n                  value={filters.status}\n                  onValueChange={(value) => handleFilterChange(\"status\", value)}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select a status\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {statusFilters.map((filter) => (\n                      <SelectItem key={filter.value} value={filter.value}>\n                        {filter.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Sort Options */}\n              <div className=\"flex-1\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Sort By\n                </label>\n                <Select\n                  value={filters.sort}\n                  onValueChange={(value) => handleFilterChange(\"sort\", value)}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Sort by\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {sortOptions.map((option) => (\n                      <SelectItem key={option.value} value={option.value}>\n                        {option.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Complaints Grid */}\n        {isLoading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Array.from({ length: 6 }).map((_, index) => (\n              <Card key={index} className=\"animate-pulse\">\n                <CardHeader>\n                  <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4\"></div>\n                  <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2\"></div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-2\">\n                    <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n                    <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6\"></div>\n                    <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-4/6\"></div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        ) : complaints.length === 0 ? (\n          <Card className=\"text-center py-12\">\n            <CardContent>\n              <div className=\"text-gray-500 dark:text-gray-400\">\n                <Filter className=\"w-12 h-12 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium mb-2\">No complaints found</h3>\n                <p>Try adjusting your filters to see more results.</p>\n              </div>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {sortedComplaints.map((complaint) => (\n              <ComplaintCard\n                key={complaint.id}\n                complaint={complaint}\n                onUpvote={handleUpvote}\n                isUpvoting={upvoteMutation.isPending}\n              />\n            ))}\n          </div>\n        )}\n\n        {/* Load More Button */}\n        {complaints.length >= limit && (\n          <div className=\"text-center mt-12\">\n            <Button\n              onClick={loadMore}\n              variant=\"outline\"\n              size=\"lg\"\n            >\n              Load More Complaints\n            </Button>\n          </div>\n        )}\n\n        {/* Stats Summary */}\n        {complaints.length > 0 && (\n          <Card className=\"mt-8 bg-gradient-to-r from-primary-50 to-purple-50 dark:from-primary-900/20 dark:to-purple-900/20\">\n            <CardContent className=\"p-6\">\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\n                <div>\n                  <div className=\"text-2xl font-bold text-primary-600 dark:text-primary-400\">\n                    {complaints.length}\n                  </div>\n                  <div className=\"text-sm text-gray-600 dark:text-gray-300\">\n                    Public Complaints\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\n                    {complaints.filter(c => c.status === 'resolved').length}\n                  </div>\n                  <div className=\"text-sm text-gray-600 dark:text-gray-300\">\n                    Resolved\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">\n                    {complaints.reduce((sum, c) => sum + c.upvotes, 0)}\n                  </div>\n                  <div className=\"text-sm text-gray-600 dark:text-gray-300\">\n                    Total Upvotes\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-2xl font-bold text-orange-600 dark:text-orange-400\">\n                    {complaints.filter(c => c.priority === 'urgent').length}\n                  </div>\n                  <div className=\"text-sm text-gray-600 dark:text-gray-300\">\n                    Urgent Cases\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":12078},"client/src/pages/report.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Shield, Mic, Upload, MapPin, AlertTriangle, Send, Check, Phone } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useZkIdentity } from \"@/hooks/use-zk-identity\";\nimport { useVoice } from \"@/hooks/use-voice\";\nimport { encryptData } from \"@/lib/encryption\";\nimport { uploadToIpfs } from \"@/lib/ipfs\";\nimport { generateHash, logComplaintToBlockchain } from \"@/lib/blockchain\";\nimport { getAuthoritiesForCategory, getAuthorityDetails } from \"@/config/authorityMap\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nconst complaintFormSchema = z.object({\n  topic: z.string().min(1, \"Please select a topic\"),\n  complaint: z.string().min(10, \"Complaint must be at least 10 characters\"),\n  tags: z.array(z.string()).optional(),\n  priority: z.enum([\"low\", \"medium\", \"high\", \"urgent\"]),\n  isPublic: z.boolean().default(false),\n  isEmergency: z.boolean().default(false),\n  includeLocation: z.boolean().default(false),\n  emergencyContact: z.string().optional(),\n  selectedAuthorities: z.array(z.string()).min(1, \"Please select at least one authority\"),\n});\n\ntype ComplaintFormData = z.infer<typeof complaintFormSchema>;\n\nconst complaintCategories = [\n  { value: \"harassment\", label: \"Workplace Harassment\" },\n  { value: \"abuse\", label: \"Physical/Mental Abuse\" },\n  { value: \"discrimination\", label: \"Discrimination\" },\n  { value: \"corruption\", label: \"Corruption\" },\n  { value: \"safety\", label: \"Public Safety\" },\n  { value: \"legal\", label: \"Legal Issues\" },\n  { value: \"other\", label: \"Other\" },\n];\n\nexport default function ReportPage() {\n  const { toast } = useToast();\n  const { identity, generateIdentity, generateProofForAction } = useZkIdentity();\n  const { isRecording, transcript, startRecording, stopRecording, clearTranscript } = useVoice();\n  const [files, setFiles] = useState<File[]>([]);\n  const [tags, setTags] = useState<string[]>([]);\n  const [currentTag, setCurrentTag] = useState(\"\");\n  const [submittedComplaint, setSubmittedComplaint] = useState<{ referenceId: string; status: string } | null>(null);\n\n  const form = useForm<ComplaintFormData>({\n    resolver: zodResolver(complaintFormSchema),\n    defaultValues: {\n      topic: \"\",\n      complaint: \"\",\n      tags: [],\n      priority: \"medium\",\n      isPublic: false,\n      isEmergency: false,\n      includeLocation: false,\n      emergencyContact: \"\",\n      selectedAuthorities: [],\n    },\n  });\n\n  const submitComplaintMutation = useMutation({\n    mutationFn: async (data: ComplaintFormData) => {\n      // Ensure ZK identity exists\n      if (!identity) {\n        await generateIdentity();\n      }\n\n      // Generate ZK proof for complaint submission\n      const zkProof = await generateProofForAction(\"complaint_submission\", data.topic);\n\n      // Encrypt complaint content\n      const complaintData = {\n        complaint: data.complaint,\n        tags: data.tags,\n        attachments: files.map(f => ({ name: f.name, size: f.size, type: f.type })),\n        timestamp: new Date().toISOString(),\n      };\n\n      const encryptedContent = encryptData(JSON.stringify(complaintData));\n\n      // Upload encrypted content to IPFS\n      const ipfsResult = await uploadToIpfs(encryptedContent.encryptedData);\n\n      // Generate hash for blockchain logging\n      const complaintHash = generateHash(encryptedContent.encryptedData);\n\n      // Get location if requested\n      let location = null;\n      if (data.includeLocation && navigator.geolocation) {\n        location = await new Promise((resolve, reject) => {\n          navigator.geolocation.getCurrentPosition(\n            (position) => resolve({\n              latitude: position.coords.latitude,\n              longitude: position.coords.longitude,\n            }),\n            reject\n          );\n        });\n      }\n\n      // Submit to backend\n      const response = await apiRequest(\"/complaints\", {\n        method: \"POST\",\n        body: JSON.stringify({\n        topic: data.topic,\n        tags: tags,\n        encryptedContent: encryptedContent.encryptedData,\n        ipfsCid: ipfsResult.cid,\n        nullifierHash: zkProof.nullifierHash,\n        isPublic: data.isPublic,\n        isEmergency: data.isEmergency,\n        priority: data.isEmergency ? \"urgent\" : data.priority,\n        emergencyContact: data.emergencyContact,\n        location,\n        selectedAuthorities: data.selectedAuthorities,\n        })\n      });\n\n      const result = await response.json();\n\n      // Log to blockchain\n      const blockchainResult = await logComplaintToBlockchain(complaintHash);\n\n      return {\n        ...result,\n        blockchainHash: complaintHash,\n        transactionHash: blockchainResult,\n      };\n    },\n    onSuccess: (data) => {\n      setSubmittedComplaint({\n        referenceId: data.complaint.referenceId,\n        status: data.complaint.status,\n      });\n      toast({\n        title: \"Complaint Submitted Successfully\",\n        description: `Your complaint has been submitted with reference ID: ${data.complaint.referenceId}`,\n      });\n      form.reset();\n      setFiles([]);\n      setTags([]);\n    },\n    onError: (error) => {\n      toast({\n        title: \"Submission Failed\",\n        description: error.message || \"Failed to submit complaint. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFiles = Array.from(event.target.files || []);\n    const validFiles = selectedFiles.filter(file => file.size <= 10 * 1024 * 1024); // 10MB limit\n    setFiles(prev => [...prev, ...validFiles]);\n  };\n\n  const removeFile = (index: number) => {\n    setFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const addTag = () => {\n    if (currentTag.trim() && !tags.includes(currentTag.trim())) {\n      setTags(prev => [...prev, currentTag.trim()]);\n      setCurrentTag(\"\");\n    }\n  };\n\n  const removeTag = (tagToRemove: string) => {\n    setTags(prev => prev.filter(tag => tag !== tagToRemove));\n  };\n\n  const insertVoiceTranscript = () => {\n    const currentValue = form.getValues(\"complaint\");\n    form.setValue(\"complaint\", currentValue + \" \" + transcript);\n    clearTranscript();\n  };\n\n  if (submittedComplaint) {\n    return (\n      <div className=\"min-h-screen pt-20 pb-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-2xl mx-auto\">\n          <Card className=\"shadow-2xl border border-green-200 dark:border-green-800\">\n            <CardHeader className=\"text-center bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20\">\n              <div className=\"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce\">\n                <Check className=\"w-8 h-8 text-white\" />\n              </div>\n              <CardTitle className=\"text-2xl text-green-800 dark:text-green-200\">\n                Complaint Submitted Successfully!\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-8 space-y-6\">\n              <div className=\"text-center\">\n                <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\n                  Your complaint has been encrypted, stored securely, and logged to the blockchain.\n                </p>\n\n                <div className=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-6\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Reference ID:</span>\n                    <code className=\"text-lg font-mono font-bold text-primary-600 dark:text-primary-400\">\n                      {submittedComplaint.referenceId}\n                    </code>\n                  </div>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"w-full mt-3\"\n                    onClick={() => navigator.clipboard.writeText(submittedComplaint.referenceId)}\n                  >\n                    Copy Reference ID\n                  </Button>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n                  <div className=\"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n                    <Shield className=\"w-6 h-6 text-blue-600 mx-auto mb-2\" />\n                    <p className=\"text-sm text-blue-800 dark:text-blue-200\">Encrypted</p>\n                  </div>\n                  <div className=\"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\">\n                    <Mic className=\"w-6 h-6 text-purple-600 mx-auto mb-2\" />\n                    <p className=\"text-sm text-purple-800 dark:text-purple-200\">IPFS Stored</p>\n                  </div>\n                  <div className=\"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg\">\n                    <Check className=\"w-6 h-6 text-green-600 mx-auto mb-2\" />\n                    <p className=\"text-sm text-green-800 dark:text-green-200\">Blockchain Logged</p>\n                  </div>\n                </div>\n\n                <div className=\"flex flex-col sm:flex-row gap-4\">\n                  <Button asChild className=\"flex-1\">\n                    <a href={`/status?ref=${submittedComplaint.referenceId}`}>\n                      Track Status\n                    </a>\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    className=\"flex-1\"\n                    onClick={() => setSubmittedComplaint(null)}\n                  >\n                    Submit Another\n                  </Button>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen pt-20 pb-12 px-4 sm:px-6 lg:px-8 gradient-bg\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4\">\n            Submit Your Report\n          </h1>\n          <p className=\"text-xl text-gray-600 dark:text-gray-300 mb-6\">\n            Your identity remains completely anonymous. All data is encrypted before transmission.\n          </p>\n\n          <div className=\"inline-flex items-center space-x-2 bg-green-50 dark:bg-green-900/20 px-4 py-2 rounded-lg\">\n            <Shield className=\"w-5 h-5 text-green-500\" />\n            <span className=\"text-green-700 dark:text-green-400 font-medium\">\n              Zero-Knowledge Identity Active\n            </span>\n          </div>\n        </div>\n\n        <Card className=\"shadow-2xl border border-gray-200 dark:border-gray-700\">\n          <CardContent className=\"p-8\">\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit((data) => submitComplaintMutation.mutate(data))} className=\"space-y-6\">\n\n                {/* Category Selection */}\n                <FormField\n                  control={form.control}\n                  name=\"topic\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-base font-medium\">Complaint Category</FormLabel>\n                      <Select onValueChange={field.onChange} defaultValue={field.value}>\n                        <FormControl>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select a category...\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          {complaintCategories.map((category) => (\n                            <SelectItem key={category.value} value={category.value}>\n                              {category.label}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {/* Tags */}\n                <div className=\"space-y-3\">\n                  <FormLabel className=\"text-base font-medium\">Tags (helps categorize your complaint)</FormLabel>\n                  <div className=\"flex flex-wrap gap-2 mb-3\">\n                    {tags.map((tag, index) => (\n                      <Badge key={index} variant=\"secondary\" className=\"px-3 py-1\">\n                        {tag}\n                        <button\n                          type=\"button\"\n                          className=\"ml-2 text-gray-500 hover:text-gray-700\"\n                          onClick={() => removeTag(tag)}\n                        >\n                          √ó\n                        </button>\n                      </Badge>\n                    ))}\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Input\n                      placeholder=\"Add tags (e.g., hostel, teacher, mental, urgent)\"\n                      value={currentTag}\n                      onChange={(e) => setCurrentTag(e.target.value)}\n                      onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addTag())}\n                    />\n                    <Button type=\"button\" variant=\"outline\" onClick={addTag}>\n                      Add\n                    </Button>\n                  </div>\n                </div>\n\n                {/* Complaint Text */}\n                <FormField\n                  control={form.control}\n                  name=\"complaint\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-base font-medium\">Your Complaint</FormLabel>\n                      <FormControl>\n                        <div className=\"relative\">\n                          <Textarea\n                            placeholder=\"Describe your complaint in detail. Your identity is protected...\"\n                            className=\"min-h-32 resize-none\"\n                            {...field}\n                          />\n                          <div className=\"absolute bottom-3 right-3 flex gap-2\">\n                            <Button\n                              type=\"button\"\n                              size=\"sm\"\n                              variant={isRecording ? \"destructive\" : \"secondary\"}\n                              onClick={isRecording ? stopRecording : startRecording}\n                            >\n                              <Mic className=\"w-4 h-4 mr-1\" />\n                              {isRecording ? \"Stop\" : \"Voice\"}\n                            </Button>\n                            {transcript && (\n                              <Button\n                                type=\"button\"\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={insertVoiceTranscript}\n                              >\n                                Insert\n                              </Button>\n                            )}\n                          </div>\n                        </div>\n                      </FormControl>\n                      {transcript && (\n                        <div className=\"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\n                          <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n                            Voice transcript: {transcript}\n                          </p>\n                        </div>\n                      )}\n                      <FormDescription>\n                        Click the microphone to use voice input. All text is encrypted before submission.\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {/* File Attachments */}\n                <div className=\"space-y-3\">\n                  <FormLabel className=\"text-base font-medium\">Evidence (Optional)</FormLabel>\n                  <div className=\"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-primary-500 transition-colors\">\n                    <Upload className=\"w-8 h-8 text-gray-400 mx-auto mb-4\" />\n                    <p className=\"text-gray-600 dark:text-gray-300 mb-2\">\n                      Drag and drop files here, or click to browse\n                    </p>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-4\">\n                      Supports: Images, Documents, Audio (Max 10MB per file)\n                    </p>\n                    <input\n                      type=\"file\"\n                      multiple\n                      accept=\"image/*,audio/*,video/*,.pdf,.doc,.docx\"\n                      onChange={handleFileUpload}\n                      className=\"hidden\"\n                      id=\"file-upload\"\n                    />\n                    <Button type=\"button\" variant=\"outline\" asChild>\n                      <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                        Choose Files\n                      </label>\n                    </Button>\n                  </div>\n\n                  {files.length > 0 && (\n                    <div className=\"space-y-2\">\n                      {files.map((file, index) => (\n                        <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n                          <div>\n                            <p className=\"font-medium\">{file.name}</p>\n                            <p className=\"text-sm text-gray-500\">\n                              {(file.size / 1024 / 1024).toFixed(2)} MB\n                            </p>\n                          </div>\n                          <Button\n                            type=\"button\"\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => removeFile(index)}\n                          >\n                            Remove\n                          </Button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                {/* Options */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  {/* Public Complaint Option */}\n                  <FormField\n                    control={form.control}\n                    name=\"isPublic\"\n                    render={({ field }) => (\n                      <FormItem className=\"p-4 border border-gray-200 dark:border-gray-600 rounded-lg\">\n                        <div className=\"flex items-start space-x-3\">\n                          <FormControl>\n                            <Checkbox\n                              checked={field.value}\n                              onCheckedChange={field.onChange}\n                            />\n                          </FormControl>\n                          <div>\n                            <FormLabel className=\"text-base font-medium\">\n                              Make this complaint public\n                            </FormLabel>\n                            <FormDescription>\n                              Allow others to see this complaint (your identity remains anonymous)\n                            </FormDescription>\n                          </div>\n                        </div>\n                      </FormItem>\n                    )}\n                  />\n\n                  {/* Emergency Option */}\n                  <FormField\n                    control={form.control}\n                    name=\"isEmergency\"\n                    render={({ field }) => (\n                      <FormItem className=\"p-4 border border-red-200 dark:border-red-700 rounded-lg bg-red-50 dark:bg-red-900/20\">\n                        <div className=\"flex items-start space-x-3\">\n                          <FormControl>\n                            <Checkbox\n                              checked={field.value}\n                              onCheckedChange={field.onChange}\n                            />\n                          </FormControl>\n                          <div>\n                            <FormLabel className=\"text-base font-medium text-red-900 dark:text-red-200\">\n                              <AlertTriangle className=\"w-4 h-4 inline mr-1\" />\n                              This is an emergency\n                            </FormLabel>\n                            <FormDescription className=\"text-red-700 dark:text-red-300\">\n                              Immediate assistance required\n                            </FormDescription>\n                          </div>\n                        </div>\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                {/* Emergency Contact */}\n                <FormField\n                  control={form.control}\n                  name=\"emergencyContact\"\n                  render={({ field }) => (\n                    <FormItem className=\"space-y-3\">\n                      <FormLabel className=\"text-sm font-medium flex items-center\">\n                        <Phone className=\"w-4 h-4 mr-2 text-red-500\" />\n                        Emergency Contact (Optional)\n                      </FormLabel>\n                      <FormControl>\n                        <Input\n                          {...field}\n                          placeholder=\"Emergency contact number or email\"\n                          className=\"border-gray-300 dark:border-gray-600\"\n                        />\n                      </FormControl>\n                      <FormDescription className=\"text-xs text-gray-500\">\n                        For urgent cases, provide emergency contact details\n                      </FormDescription>\n                    </FormItem>\n                  )}\n                />\n\n                {/* Authority Selection */}\n                {form.watch(\"topic\") && (\n                  <FormField\n                    control={form.control}\n                    name=\"selectedAuthorities\"\n                    render={({ field }) => {\n                      const availableAuthorities = getAuthoritiesForCategory(form.watch(\"topic\"));\n                      return (\n                        <FormItem className=\"space-y-3\">\n                          <FormLabel className=\"text-sm font-medium flex items-center\">\n                            <Shield className=\"w-4 h-4 mr-2 text-blue-500\" />\n                            Select Authorities to Notify\n                          </FormLabel>\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                            {availableAuthorities.map((authority) => {\n                              const details = getAuthorityDetails(authority);\n                              return (\n                                <div\n                                  key={authority}\n                                  className={`p-3 border rounded-lg cursor-pointer transition-all ${\n                                    field.value?.includes(authority)\n                                      ? \"border-primary bg-primary/5\"\n                                      : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"\n                                  }`}\n                                  onClick={() => {\n                                    const current = field.value || [];\n                                    if (current.includes(authority)) {\n                                      field.onChange(current.filter(a => a !== authority));\n                                    } else {\n                                      field.onChange([...current, authority]);\n                                    }\n                                  }}\n                                >\n                                  <div className=\"flex items-center justify-between\">\n                                    <div>\n                                      <p className=\"font-medium text-sm\">{authority}</p>\n                                      <p className=\"text-xs text-gray-500\">{details.phone}</p>\n                                    </div>\n                                    <div className=\"flex items-center\">\n                                      {details.urgency === \"critical\" && (\n                                        <AlertTriangle className=\"w-4 h-4 text-red-500 mr-1\" />\n                                      )}\n                                      <input\n                                        type=\"checkbox\"\n                                        checked={field.value?.includes(authority)}\n                                        onChange={() => {}}\n                                        className=\"rounded\"\n                                      />\n                                    </div>\n                                  </div>\n                                </div>\n                              );\n                            })}\n                          </div>\n                          <FormDescription className=\"text-xs text-gray-500\">\n                            Select the authorities who should receive and handle your complaint\n                          </FormDescription>\n                          <FormMessage />\n                        </FormItem>\n                      );\n                    }}\n                  />\n                )}\n\n                {/* Location Option */}\n                <FormField\n                  control={form.control}\n                  name=\"includeLocation\"\n                  render={({ field }) => (\n                    <FormItem className=\"p-4 border border-gray-200 dark:border-gray-600 rounded-lg\">\n                      <div className=\"flex items-start space-x-3\">\n                        <FormControl>\n                          <Checkbox\n                            checked={field.value}\n                            onCheckedChange={field.onChange}\n                          />\n                        </FormControl>\n                        <div className=\"flex-1\">\n                          <FormLabel className=\"text-base font-medium\">\n                            <MapPin className=\"w-4 h-4 inline mr-1\" />\n                            Include my current location\n                          </FormLabel>\n                          <FormDescription>\n                            Help authorities understand the geographic context (location is encrypted)\n                          </FormDescription>\n                        </div>\n                      </div>\n                    </FormItem>\n                  )}\n                />\n\n                {/* ZK Proof Status */}\n                <div className=\"bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-700 rounded-lg p-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"w-3 h-3 bg-green-500 rounded-full animate-pulse\"></div>\n                      <span className=\"text-primary-900 dark:text-primary-200 font-medium\">\n                        Zero-Knowledge Proof Ready\n                      </span>\n                    </div>\n                    {identity && (\n                      <span className=\"text-xs text-primary-600 dark:text-primary-400 font-mono\">\n                        commitment: {identity.commitment.substring(0, 8)}...\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-sm text-primary-700 dark:text-primary-300 mt-2\">\n                    Your anonymous identity is verified and ready for submission\n                  </p>\n                </div>\n\n                {/* Submit Button */}\n                <div className=\"pt-6\">\n                  <Button\n                    type=\"submit\"\n                    className=\"w-full py-4 security-gradient text-white rounded-lg font-semibold text-lg hover:opacity-90 transition-all transform hover:scale-105 shadow-lg hover:shadow-xl\"\n                    disabled={submitComplaintMutation.isPending}\n                  >\n                    <Send className=\"w-5 h-5 mr-2\" />\n                    {submitComplaintMutation.isPending ? \"Submitting...\" : \"Submit Secure Report\"}\n                  </Button>\n                  <p className=\"text-center text-xs text-gray-500 dark:text-gray-400 mt-3\">\n                    Your complaint will be encrypted, hashed, and stored on IPFS with blockchain verification\n                  </p>\n                </div>\n              </form>\n            </Form>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","size_bytes":29476},"client/src/pages/status.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Search, Copy, Download, ExternalLink, CheckCircle, Clock, Eye, Trophy } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { StatusTracker } from \"@/components/status-tracker\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { getBlockchainExplorerUrl } from \"@/lib/blockchain\";\n\ninterface ComplaintStatus {\n  complaint: {\n    referenceId: string;\n    topic: string;\n    status: string;\n    priority: string;\n    submittedAt: string;\n    updatedAt: string;\n    blockchainHash?: string;\n    upvotes: number;\n  };\n  updates: Array<{\n    message: string;\n    updateType: string;\n    createdAt: string;\n  }>;\n}\n\nexport default function StatusPage() {\n  const { toast } = useToast();\n  const [referenceId, setReferenceId] = useState(\"\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  // Get reference ID from URL params if present\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const refFromUrl = urlParams.get('ref');\n    if (refFromUrl) {\n      setReferenceId(refFromUrl);\n      setSearchQuery(refFromUrl);\n    }\n  }, []);\n\n  const { data: complaintStatus, isLoading, error, refetch } = useQuery<ComplaintStatus>({\n    queryKey: ['/api/complaints', searchQuery],\n    queryFn: async () => {\n      const response = await fetch(`/api/complaints/${searchQuery}`);\n      if (!response.ok) {\n        throw new Error('Complaint not found');\n      }\n      const result = await response.json();\n      return result.data;\n    },\n    enabled: !!searchQuery,\n    retry: false,\n  });\n\n  const handleSearch = () => {\n    if (referenceId.trim()) {\n      setSearchQuery(referenceId.trim());\n    }\n  };\n\n  const copyReferenceId = () => {\n    if (complaintStatus?.complaint.referenceId) {\n      navigator.clipboard.writeText(complaintStatus.complaint.referenceId);\n      toast({\n        title: \"Copied!\",\n        description: \"Reference ID copied to clipboard\",\n      });\n    }\n  };\n\n  const downloadReport = () => {\n    if (complaintStatus) {\n      const reportData = {\n        referenceId: complaintStatus.complaint.referenceId,\n        status: complaintStatus.complaint.status,\n        submittedAt: complaintStatus.complaint.submittedAt,\n        updates: complaintStatus.updates,\n      };\n      \n      const blob = new Blob([JSON.stringify(reportData, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `complaint-${complaintStatus.complaint.referenceId}.json`;\n      a.click();\n      URL.revokeObjectURL(url);\n\n      toast({\n        title: \"Report Downloaded\",\n        description: \"Complaint report has been downloaded\",\n      });\n    }\n  };\n\n  const viewOnBlockchain = () => {\n    if (complaintStatus?.complaint.blockchainHash) {\n      const explorerUrl = getBlockchainExplorerUrl(complaintStatus.complaint.blockchainHash);\n      window.open(explorerUrl, '_blank');\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'pending': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300';\n      case 'review': return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300';\n      case 'progress': return 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300';\n      case 'resolved': return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300';\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300';\n    }\n  };\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'urgent': return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300';\n      case 'high': return 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300';\n      case 'medium': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300';\n      case 'low': return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300';\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen pt-20 pb-12 px-4 sm:px-6 lg:px-8 gradient-bg\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">\n            Track Your Complaint Status\n          </h1>\n          <p className=\"text-xl text-gray-600 dark:text-gray-300\">\n            Enter your complaint reference ID to check the current status and any updates\n          </p>\n        </div>\n\n        <Card className=\"shadow-xl border border-gray-200 dark:border-gray-700 mb-8\">\n          <CardContent className=\"p-8\">\n            {/* Search Input */}\n            <div className=\"mb-8\">\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n                <Search className=\"w-4 h-4 inline mr-2\" />\n                Complaint Reference ID\n              </label>\n              <div className=\"flex space-x-3\">\n                <Input\n                  type=\"text\"\n                  placeholder=\"Enter your complaint ID (e.g., SPK-2024-001234)\"\n                  value={referenceId}\n                  onChange={(e) => setReferenceId(e.target.value)}\n                  className=\"flex-1 font-mono\"\n                  onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n                />\n                <Button onClick={handleSearch} disabled={isLoading}>\n                  <Search className=\"w-4 h-4 mr-2\" />\n                  {isLoading ? \"Searching...\" : \"Check Status\"}\n                </Button>\n              </div>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-2\">\n                You received this ID when you submitted your complaint\n              </p>\n            </div>\n\n            {/* Error State */}\n            {error && (\n              <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6\">\n                <p className=\"text-red-800 dark:text-red-200\">\n                  Complaint not found. Please check your reference ID and try again.\n                </p>\n              </div>\n            )}\n\n            {/* Status Display */}\n            {complaintStatus && (\n              <div className=\"space-y-6\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between mb-6\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                      Complaint #{complaintStatus.complaint.referenceId}\n                    </h3>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                      Submitted on {new Date(complaintStatus.complaint.submittedAt).toLocaleDateString()}\n                    </p>\n                  </div>\n                  <Button\n                    variant=\"outline\"\n                    onClick={copyReferenceId}\n                  >\n                    <Copy className=\"w-4 h-4 mr-2\" />\n                    Copy ID\n                  </Button>\n                </div>\n\n                {/* Status Progress */}\n                <StatusTracker status={complaintStatus.complaint.status} />\n\n                {/* Details Grid */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n                  <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                    <h4 className=\"font-medium text-gray-900 dark:text-white mb-2\">Complaint Details</h4>\n                    <div className=\"space-y-2 text-sm\">\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600 dark:text-gray-300\">Category:</span>\n                        <span className=\"text-gray-900 dark:text-white capitalize\">\n                          {complaintStatus.complaint.topic}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600 dark:text-gray-300\">Status:</span>\n                        <Badge className={getStatusColor(complaintStatus.complaint.status)}>\n                          {complaintStatus.complaint.status}\n                        </Badge>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600 dark:text-gray-300\">Priority:</span>\n                        <Badge className={getPriorityColor(complaintStatus.complaint.priority)}>\n                          {complaintStatus.complaint.priority}\n                        </Badge>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600 dark:text-gray-300\">Upvotes:</span>\n                        <span className=\"text-gray-900 dark:text-white\">\n                          {complaintStatus.complaint.upvotes}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                    <h4 className=\"font-medium text-gray-900 dark:text-white mb-2\">Verification Info</h4>\n                    <div className=\"space-y-2 text-sm\">\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600 dark:text-gray-300\">Submitted:</span>\n                        <span className=\"text-gray-900 dark:text-white\">\n                          {new Date(complaintStatus.complaint.submittedAt).toLocaleDateString()}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600 dark:text-gray-300\">Last Updated:</span>\n                        <span className=\"text-gray-900 dark:text-white\">\n                          {new Date(complaintStatus.complaint.updatedAt).toLocaleDateString()}\n                        </span>\n                      </div>\n                      {complaintStatus.complaint.blockchainHash && (\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-600 dark:text-gray-300\">Blockchain Hash:</span>\n                          <span className=\"text-gray-900 dark:text-white font-mono text-xs\">\n                            {complaintStatus.complaint.blockchainHash.substring(0, 10)}...\n                          </span>\n                        </div>\n                      )}\n                      <div className=\"flex items-center space-x-2 mt-2\">\n                        <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                        <span className=\"text-green-600 dark:text-green-400 text-xs\">\n                          Cryptographically Verified\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Updates Timeline */}\n                {complaintStatus.updates.length > 0 && (\n                  <div className=\"mb-8\">\n                    <h4 className=\"font-medium text-gray-900 dark:text-white mb-4\">Recent Updates</h4>\n                    <div className=\"space-y-4\">\n                      {complaintStatus.updates.map((update, index) => (\n                        <div key={index} className=\"flex space-x-3\">\n                          <div className=\"w-2 h-2 bg-primary-500 rounded-full mt-2\"></div>\n                          <div>\n                            <p className=\"text-sm text-gray-900 dark:text-white\">\n                              {update.message}\n                            </p>\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                              {new Date(update.createdAt).toLocaleString()}\n                            </p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Blockchain Verification */}\n                {complaintStatus.complaint.blockchainHash && (\n                  <div className=\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3\">\n                        <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                        <div>\n                          <p className=\"font-medium text-green-800 dark:text-green-300\">\n                            Blockchain Verified\n                          </p>\n                          <p className=\"text-sm text-green-700 dark:text-green-400 font-mono\">\n                            Hash: {complaintStatus.complaint.blockchainHash.substring(0, 16)}...\n                          </p>\n                        </div>\n                      </div>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={viewOnBlockchain}\n                        className=\"text-green-600 border-green-300 hover:bg-green-50\"\n                      >\n                        <ExternalLink className=\"w-4 h-4 mr-2\" />\n                        View on Chain\n                      </Button>\n                    </div>\n                  </div>\n                )}\n\n                {/* Action Buttons */}\n                <div className=\"flex flex-col sm:flex-row gap-4 pt-6\">\n                  <Button\n                    variant=\"outline\"\n                    onClick={copyReferenceId}\n                    className=\"flex-1\"\n                  >\n                    <Copy className=\"w-4 h-4 mr-2\" />\n                    Copy Reference ID\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    onClick={downloadReport}\n                    className=\"flex-1\"\n                  >\n                    <Download className=\"w-4 h-4 mr-2\" />\n                    Download Report\n                  </Button>\n                  {complaintStatus.complaint.blockchainHash && (\n                    <Button\n                      onClick={viewOnBlockchain}\n                      className=\"flex-1 security-gradient\"\n                    >\n                      <ExternalLink className=\"w-4 h-4 mr-2\" />\n                      View on Blockchain\n                    </Button>\n                  )}\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":15068},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, value = \"default\", ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    value={value}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5779},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":23567},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"server/init.ts":{"content":"\nimport { db } from './db.js';\nimport { sql } from 'drizzle-orm';\n\nexport async function initializeDatabase() {\n  try {\n    console.log('üîÑ Initializing database...');\n    \n    // Test database connection\n    await db.execute(sql`SELECT 1`);\n    console.log('‚úÖ Database connection successful');\n    \n    // The database tables will be created automatically by Drizzle\n    // when first accessed, but let's ensure they exist\n    \n    console.log('üóÉÔ∏è Database initialized successfully');\n    return true;\n  } catch (error) {\n    console.error('‚ùå Database initialization failed:', error);\n    throw error;\n  }\n}\n","size_bytes":620},"server/config/authorityMap.ts":{"content":"\nexport interface AuthorityDetails {\n  name: string;\n  contact: string;\n  categories: string[];\n  urgency: 'low' | 'medium' | 'high' | 'critical';\n  description: string;\n}\n\nexport const authorityDetails: Record<string, AuthorityDetails> = {\n  'women_helpline': {\n    name: 'Women Helpline',\n    contact: '1091',\n    categories: ['harassment', 'domestic_violence', 'sexual_assault'],\n    urgency: 'critical',\n    description: '24/7 helpline for women in distress'\n  },\n  'child_helpline': {\n    name: 'Child Helpline',\n    contact: '1098',\n    categories: ['child_abuse', 'trafficking'],\n    urgency: 'critical',\n    description: 'Emergency helpline for children'\n  },\n  'police': {\n    name: 'Police Emergency',\n    contact: '100',\n    categories: ['violence', 'theft', 'emergency'],\n    urgency: 'critical',\n    description: 'Police emergency services'\n  },\n  'anti_corruption': {\n    name: 'Anti-Corruption Bureau',\n    contact: '1031',\n    categories: ['corruption', 'bribery'],\n    urgency: 'high',\n    description: 'Report corruption and bribery'\n  },\n  'cybercrime': {\n    name: 'Cyber Crime Helpline',\n    contact: '1930',\n    categories: ['cybercrime', 'fraud'],\n    urgency: 'high',\n    description: 'Report cyber crimes and fraud'\n  },\n  'human_trafficking': {\n    name: 'Anti-Human Trafficking Unit',\n    contact: '1097',\n    categories: ['trafficking', 'forced_labor'],\n    urgency: 'critical',\n    description: 'Report human trafficking cases'\n  }\n};\n\nexport const getAuthoritiesForCategory = (category: string) => {\n  return Object.entries(authorityDetails)\n    .filter(([_, details]) => details.categories.includes(category))\n    .map(([name, details]) => ({ name, ...details }));\n};\n\nexport const getUrgentAuthorities = () => {\n  return Object.entries(authorityDetails)\n    .filter(([_, details]) => details.urgency === 'critical' || details.urgency === 'high')\n    .map(([name, details]) => ({ name, ...details }));\n};\n","size_bytes":1936},"server/routes/authorities.ts":{"content":"\nimport { Router } from 'express';\nimport { authorityDetails } from '../config/authorityMap.js';\n\nconst router = Router();\n\n// Get all authorities\nrouter.get('/', (req, res) => {\n  try {\n    res.json({\n      success: true,\n      data: authorityDetails\n    });\n  } catch (error) {\n    console.error('Failed to get authorities:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to get authorities'\n    });\n  }\n});\n\n// Get authority by category\nrouter.get('/category/:category', (req, res) => {\n  try {\n    const { category } = req.params;\n    const relevantAuthorities = Object.entries(authorityDetails)\n      .filter(([_, details]) => details.categories.includes(category))\n      .reduce((acc, [name, details]) => {\n        acc[name] = details;\n        return acc;\n      }, {} as typeof authorityDetails);\n\n    res.json({\n      success: true,\n      category,\n      data: relevantAuthorities\n    });\n  } catch (error) {\n    console.error('Failed to get authorities by category:', error);\n    res.status(500).json({\n      success: false,\n      error: 'Failed to get authorities by category'\n    });\n  }\n});\n\nexport default router;\n","size_bytes":1158},"client/src/config/authorityMap.ts":{"content":"\nexport const authorityMap = {\n  \"sexual-assault\": [\"Police\", \"Women NGO\", \"Crisis Helpline\"],\n  \"workplace-harassment\": [\"HR Department\", \"Labour Commission\", \"Women's Cell\"],\n  \"bullying\": [\"School Principal\", \"Education Department\", \"Anti-Bullying Committee\"],\n  \"domestic-abuse\": [\"Police\", \"Women Helpline 181\", \"Protection Officer\"],\n  \"cyber-harassment\": [\"Cybercrime Cell\", \"Helpline 1930\"],\n  \"public-safety\": [\"Municipal Corporation\", \"Local Police\"],\n  \"discrimination\": [\"Human Rights Commission\", \"Social Justice Department\"],\n  \"corruption\": [\"Anti-Corruption Bureau\", \"Vigilance Department\"],\n  \"safety\": [\"Emergency Services\", \"Local Authority\"],\n  \"harassment\": [\"Police\", \"Human Rights Commission\"],\n  \"abuse\": [\"Child Protection Services\", \"Police\"],\n  \"legal\": [\"Legal Aid Services\", \"District Court\"]\n};\n\nexport const supportDirectory = {\n  \"child-abuse\": [\"Childline 1098\", \"Child Welfare Committee\", \"Education Department\"],\n  \"elder-abuse\": [\"Senior Helpline\", \"Social Welfare Department\", \"Elder Care NGO\"],\n  \"domestic-violence\": [\"Police\", \"Women Helpline 181\", \"Protection Officer\"],\n  \"mental-health\": [\"Mental Health NGO\", \"Suicide Prevention Helpline\", \"Crisis Counselor\"],\n  \"discrimination\": [\"Human Rights Commission\", \"Social Justice Department\", \"Legal Aid\"],\n  \"school-neglect\": [\"School Principal\", \"Education Department\", \"Parent-Teacher Committee\"],\n  \"online-threats\": [\"Cybercrime Cell\", \"Helpline 1930\", \"Digital Safety NGO\"],\n  \"workplace-exploitation\": [\"Labour Commission\", \"Trade Union\", \"Workers Rights NGO\"],\n  \"caste-discrimination\": [\"Human Rights Commission\", \"Social Justice Department\", \"Dalit Rights NGO\"],\n  \"religious-discrimination\": [\"Human Rights Commission\", \"Minority Affairs\", \"Secular NGO\"],\n  \"lgbtq-harassment\": [\"LGBTQ+ Support NGO\", \"Human Rights Commission\", \"Pride Helpline\"],\n  \"financial-fraud\": [\"Economic Offences Wing\", \"Consumer Forum\", \"Banking Ombudsman\"]\n};\n\nexport const authorityDetails = {\n  \"Police\": {\n    phone: \"100\",\n    email: \"police@gov.in\",\n    type: \"law-enforcement\",\n    urgency: \"high\"\n  },\n  \"Women NGO\": {\n    phone: \"181\",\n    email: \"help@womenngo.org\",\n    type: \"support-organization\",\n    urgency: \"high\"\n  },\n  \"Childline 1098\": {\n    phone: \"1098\",\n    email: \"help@childline.in\",\n    type: \"helpline\",\n    urgency: \"critical\"\n  },\n  \"Cybercrime Cell\": {\n    phone: \"1930\",\n    email: \"cybercrime@police.gov.in\",\n    type: \"law-enforcement\",\n    urgency: \"medium\"\n  },\n  \"HR Department\": {\n    phone: \"N/A\",\n    email: \"hr@company.com\",\n    type: \"internal\",\n    urgency: \"medium\"\n  },\n  \"Human Rights Commission\": {\n    phone: \"1800-11-4000\",\n    email: \"complaints@nhrc.nic.in\",\n    type: \"government\",\n    urgency: \"low\"\n  },\n  \"Emergency Services\": {\n    phone: \"112\",\n    email: \"emergency@gov.in\",\n    type: \"emergency\",\n    urgency: \"critical\"\n  }\n};\n\nexport const getAuthoritiesForCategory = (category: string): string[] => {\n  return authorityMap[category as keyof typeof authorityMap] || \n         supportDirectory[category as keyof typeof supportDirectory] || \n         [\"General Support\", \"Police\"];\n};\n\nexport const getAuthorityDetails = (authorityName: string) => {\n  return authorityDetails[authorityName as keyof typeof authorityDetails] || {\n    phone: \"N/A\",\n    email: \"support@authority.gov.in\",\n    type: \"general\",\n    urgency: \"medium\"\n  };\n};\n\nexport const getUrgentAuthorities = () => {\n  return Object.entries(authorityDetails)\n    .filter(([_, details]) => details.urgency === \"critical\" || details.urgency === \"high\")\n    .map(([name, _]) => name);\n};\n","size_bytes":3584}}}